/* eslint-disable @typescript-eslint/ban-ts-comment */
/* eslint-disable @typescript-eslint/no-explicit-any */
// @ts-nocheck
// This file is autogenerated by scripts/build-registry.mts
// Do not edit this file directly.

import * as React from "react";

export const Index: Record<string, any> ={
  "form-fields": {
    name: "form-fields",
    description: "A collection of reusable form field components, hooks, utilities, and types.",
    type: "registry:component",
    files: [{
      path: "components/form-field/ui/BooleanField.tsx",
      content: "import type React from \"react\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\n\nexport const BooleanField: React.FC<BaseFieldProps> = (field) => {\n\treturn (\n\t\t<Checkbox\n\t\t\tonCheckedChange={field.onChange}\n\t\t\tchecked={field.value}\n\t\t\t{...field}\n\t\t/>\n\t);\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/ComboboxField.tsx",
      content: "import { CommandLoading } from \"cmdk\";\nimport { debounce } from \"lodash-es\";\nimport { Check, ChevronsUpDown, Loader2 } from \"lucide-react\";\nimport type React from \"react\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandInput,\n\tCommandItem,\n\tCommandList,\n} from \"@/components/ui/command\";\nimport { FormControl } from \"@/components/ui/form\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { useOptionQuery } from \"@/hooks/useOptionQuery\";\nimport type {\n\tBaseFieldProps,\n\tbaseOption,\n\tOptions,\n} from \"@/lib/form-field/form-field\";\nimport { cn, createSyntheticInputChange } from \"@/lib/form-field/utils\";\n\nexport const ComboboxField: React.FC<\n\tBaseFieldProps & {\n\t\toptions: (searchQuery: string | undefined) => Options;\n\t\tnoResultFallBack?: React.ReactNode;\n\t\tgetInitialValue?: (value: string) => Promise<baseOption | undefined>;\n\t}\n> = ({\n\tnoResultFallBack = \"No Result found.\",\n\toptions: optionFn,\n\tgetInitialValue,\n\t...field\n}) => {\n\tconst [searchQuery, setSearchQuery] = useState<string>();\n\tconst [customOptions, setCustomOptions] = useState<baseOption[]>([]);\n\tconst [open, setOpen] = useState(false);\n\tconst initialLoadRef = useRef(false);\n\n\tconst optionsQuery = useOptionQuery(() => optionFn(searchQuery), field.name, {\n\t\tq: searchQuery,\n\t});\n\n\t// Memoize debounced function to prevent recreation\n\tconst debouncedSetSearchQuery = useMemo(\n\t\t() => debounce((value: string) => setSearchQuery(value), 500),\n\t\t[],\n\t);\n\n\t// Cleanup debounce on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tdebouncedSetSearchQuery.cancel();\n\t\t};\n\t}, [debouncedSetSearchQuery]);\n\n\t// Load initial value only once\n\tuseEffect(() => {\n\t\tif (!field.value || !getInitialValue || initialLoadRef.current) return;\n\n\t\tinitialLoadRef.current = true;\n\n\t\tgetInitialValue(field.value).then((opt) => {\n\t\t\tif (opt?.value) {\n\t\t\t\tfield.onChange(createSyntheticInputChange(field.name, opt.value));\n\t\t\t\tsetCustomOptions((prev) => {\n\t\t\t\t\t// Avoid duplicates\n\t\t\t\t\tconst exists = prev.some((o) => o.value === opt.value);\n\t\t\t\t\treturn exists ? prev : [opt, ...prev];\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfield.onChange(null);\n\t\t\t}\n\t\t});\n\t}, [field.value, getInitialValue, field.name]);\n\n\t// Memoize combined options\n\tconst options = useMemo(\n\t\t() => customOptions.concat(optionsQuery.data || []),\n\t\t[customOptions, optionsQuery.data],\n\t);\n\n\t// Memoize selected value\n\tconst selectedOption = useMemo(\n\t\t() =>\n\t\t\tfield.value\n\t\t\t\t? options.find((opt) => opt.value === field.value)\n\t\t\t\t: undefined,\n\t\t[field.value, options],\n\t);\n\n\t// Memoize handlers\n\tconst handleSelect = useCallback(\n\t\t(value: string) => {\n\t\t\tsetOpen(false);\n\t\t\tfield.onChange(createSyntheticInputChange(field.name, value));\n\t\t},\n\t\t[field.name, field.onChange],\n\t);\n\n\tconst handleOpenChange = useCallback((isOpen: boolean) => {\n\t\tsetOpen(isOpen);\n\t}, []);\n\n\treturn (\n\t\t<div className=\"relative\">\n\t\t\t<Popover open={open} onOpenChange={handleOpenChange}>\n\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t<FormControl className=\"w-full\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\taria-expanded={open}\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"justify-between\",\n\t\t\t\t\t\t\t\tfield.className,\n\t\t\t\t\t\t\t\t!field.value && \"text-muted-foreground\",\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{selectedOption?.label || (\n\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground max-w-32 truncate\">\n\t\t\t\t\t\t\t\t\tSelect {field.label}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<ChevronsUpDown className=\"opacity-50\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</PopoverTrigger>\n\t\t\t\t<PopoverContent\n\t\t\t\t\tclassName=\"w-[var(--radix-popover-trigger-width)] p-0\"\n\t\t\t\t\talign=\"center\"\n\t\t\t\t>\n\t\t\t\t\t<Command>\n\t\t\t\t\t\t<CommandInput\n\t\t\t\t\t\t\tplaceholder={field.placeholder}\n\t\t\t\t\t\t\tclassName=\"h-9\"\n\t\t\t\t\t\t\tonValueChange={debouncedSetSearchQuery}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t\t{optionsQuery.isPending && (\n\t\t\t\t\t\t\t\t<CommandLoading>\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center py-4\">\n\t\t\t\t\t\t\t\t\t\t<Loader2 className=\"animate-spin\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CommandLoading>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!optionsQuery.isPending && options.length === 0 && (\n\t\t\t\t\t\t\t\t<CommandEmpty>{noResultFallBack}</CommandEmpty>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{options.length > 0 && (\n\t\t\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t\t\t{options.map(({ label, value, icon: Icon, wrapperFn }) => (\n\t\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\t\tvalue={label}\n\t\t\t\t\t\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"*:w-full\"\n\t\t\t\t\t\t\t\t\t\t\tonSelect={() => handleSelect(value)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{wrapperFn ? (\n\t\t\t\t\t\t\t\t\t\t\t\twrapperFn({ label, icon: Icon, value })\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex w-full items-center justify-between gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{Icon && <Icon />} {label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"ml-auto\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue === field.value ? \"opacity-100\" : \"opacity-0\",\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</CommandList>\n\t\t\t\t\t</Command>\n\t\t\t\t</PopoverContent>\n\t\t\t</Popover>\n\t\t</div>\n\t);\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/CurrencyField.tsx",
      content: "import type React from \"react\";\nimport { useState } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\nimport { createSyntheticInputChange } from \"@/lib/form-field/utils\";\n\nconst moneyFormatter = Intl.NumberFormat(\"en-IN\", {\n\tcurrency: \"INR\",\n\tstyle: \"currency\",\n\tminimumFractionDigits: 2,\n\tmaximumFractionDigits: 2,\n});\n\nexport const CurrencyField: React.FC<BaseFieldProps> = ({ ...field }) => {\n\tconst [displayValue, setDisplayValue] = useState<string>(\n\t\tfield.value ? moneyFormatter.format(Number(field.value)) : \"\",\n\t);\n\n\tfunction parseToNumber(input: string): number | null {\n\t\t// allow decimals directly, don't force paise\n\t\tconst clean = input.replace(/[^0-9.-]/g, \"\");\n\t\tif (!clean) return null;\n\t\treturn Number(clean);\n\t}\n\n\tfunction handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n\t\tconst raw = e.target.value;\n\t\tsetDisplayValue(raw); // show what user typed\n\n\t\tconst parsed = parseToNumber(raw);\n\t\tfield.onChange(createSyntheticInputChange(field.name, parsed ?? \"\")); // keep form state updated live\n\t}\n\n\tfunction handleBlur() {\n\t\tfield.onBlur();\n\t\tconst parsed = parseToNumber(displayValue);\n\t\tif (parsed !== null && !Number.isNaN(parsed)) {\n\t\t\tsetDisplayValue(moneyFormatter.format(parsed));\n\t\t} else {\n\t\t\tsetDisplayValue(\"\");\n\t\t}\n\t}\n\n\tfunction handleFocus() {\n\t\t// strip formatting so user edits raw value\n\t\tconst parsed = parseToNumber(displayValue);\n\t\tif (parsed !== null && !Number.isNaN(parsed)) {\n\t\t\tsetDisplayValue(String(parsed));\n\t\t}\n\t}\n\n\treturn (\n\t\t<Input\n\t\t\ttype=\"text\"\n\t\t\tinputMode=\"decimal\"\n\t\t\t{...field}\n\t\t\tvalue={displayValue}\n\t\t\tonChange={handleChange}\n\t\t\tonBlur={handleBlur}\n\t\t\tonFocus={handleFocus}\n\t\t/>\n\t);\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/DateTimeField.tsx",
      content: "\"use client\";\n\nimport { PopoverClose } from \"@radix-ui/react-popover\";\nimport { format } from \"date-fns\";\nimport { ChevronDownIcon, ClockIcon } from \"lucide-react\";\nimport type React from \"react\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Button } from \"@/components/form-field/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\nimport { createSyntheticInputChange } from \"@/lib/form-field/utils\";\nimport { cn } from \"@/lib/utils\";\n\nconst parseDate = (val: unknown): Date | undefined => {\n\tif (!val && val !== 0) return undefined;\n\tif (val instanceof Date) return val;\n\tconst d = new Date(String(val));\n\treturn isNaN(d.getTime()) ? undefined : d;\n};\n\nexport const DateTimeField: React.FC<\n\tBaseFieldProps & {\n\t\tdisplay?: \"date\" | \"time\" | \"datetime\";\n\t}\n> = ({ display = \"datetime\", ...field }) => {\n\t// helper to parse/normalize incoming prop value\n\n\tconst [date, setDate] = useState<Date | undefined>(() =>\n\t\tparseDate(field.value),\n\t);\n\tconst popoverCloseRef = useRef<HTMLButtonElement | null>(null);\n\n\t// keep internal state in sync when parent updates value\n\tuseEffect(() => {\n\t\tsetDate(parseDate(field.value));\n\t}, [field.value]);\n\n\tconst shouldDisplayTime = display === \"time\" || display === \"datetime\";\n\tconst shouldDisplayDate = display === \"date\" || display === \"datetime\";\n\treturn (\n\t\t<div className=\"flex w-full gap-1\">\n\t\t\t{shouldDisplayDate && (\n\t\t\t\t<div className=\"flex flex-1 flex-col gap-3\">\n\t\t\t\t\t<Popover>\n\t\t\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\tid=\"date-picker\"\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\"w-full justify-between border border-input bg-secondary font-normal selection:bg-primary selection:text-primary-foreground file:text-foreground placeholder:text-muted-foreground dark:bg-input/30\",\n\t\t\t\t\t\t\t\t\tfield.className,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t// use internal date state to determine muted styling\n\t\t\t\t\t\t\t\t\t\t\"text-muted-foreground\": !date,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{date\n\t\t\t\t\t\t\t\t\t? format(date, \"PPP\")\n\t\t\t\t\t\t\t\t\t: field.placeholder || \"Select date\"}\n\t\t\t\t\t\t\t\t<ChevronDownIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</PopoverTrigger>\n\t\t\t\t\t\t<PopoverClose ref={popoverCloseRef} hidden={true} />\n\t\t\t\t\t\t<PopoverContent\n\t\t\t\t\t\t\tclassName=\"w-auto overflow-hidden p-0\"\n\t\t\t\t\t\t\talign=\"start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\tmode=\"single\"\n\t\t\t\t\t\t\t\tselected={date}\n\t\t\t\t\t\t\t\tcaptionLayout=\"dropdown\"\n\t\t\t\t\t\t\t\tonSelect={(selected) => {\n\t\t\t\t\t\t\t\t\tif (!selected) return;\n\t\t\t\t\t\t\t\t\tsetDate(selected);\n\t\t\t\t\t\t\t\t\tpopoverCloseRef.current?.click();\n\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\tcreateSyntheticInputChange(\n\t\t\t\t\t\t\t\t\t\t\tfield.name,\n\t\t\t\t\t\t\t\t\t\t\tselected.toISOString(),\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PopoverContent>\n\t\t\t\t\t</Popover>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{shouldDisplayTime && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"flex flex-1 flex-col gap-3 rounded-md\",\n\t\t\t\t\t\tfield.className,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// use internal date state to determine muted styling\n\t\t\t\t\t\t\t\"text-muted-foreground\": !date,\n\t\t\t\t\t\t},\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"relative grow\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tid={field.name}\n\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\tstep=\"1\"\n\t\t\t\t\t\t\t// make the time input controlled so it reflects external updates\n\t\t\t\t\t\t\tvalue={date ? format(date, \"HH:mm:ss\") : \"\"}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tconst timeValue = e.target.value;\n\t\t\t\t\t\t\t\tif (!timeValue) {\n\t\t\t\t\t\t\t\t\t// clear time -> clear date state / notify parent with empty value\n\t\t\t\t\t\t\t\t\tsetDate(undefined);\n\t\t\t\t\t\t\t\t\tfield.onChange(createSyntheticInputChange(field.name, \"\"));\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst parts = timeValue.split(\":\").map(Number);\n\t\t\t\t\t\t\t\tconst [hours = 0, minutes = 0, seconds = 0] = parts;\n\t\t\t\t\t\t\t\tconst newDate = new Date(date || Date.now());\n\t\t\t\t\t\t\t\tnewDate.setHours(hours, minutes, seconds);\n\t\t\t\t\t\t\t\tsetDate(newDate);\n\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\tcreateSyntheticInputChange(field.name, newDate.toISOString()),\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"peer appearance-none ps-9 [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50\">\n\t\t\t\t\t\t\t<ClockIcon size={16} aria-hidden=\"true\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/FileField.tsx",
      content: "import ImageDropZone from \"@/components/form-field/ui/ImageDropZone\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\n\nexport const FileField = ({\n\tdisplay = \"COMPACT\",\n\t...field\n}: BaseFieldProps & {\n\tmultiple?: boolean;\n\taccept?: string;\n\tdisplay?: \"COMPACT\" | \"FULL\";\n}) => {\n\treturn (\n\t\t<ImageDropZone\n\t\t\t{...field}\n\t\t\taccept={field.accept}\n\t\t\tmultiple={field.multiple}\n\t\t\tdisplay={display}\n\t\t/>\n\t);\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/ImageDropZone.tsx",
      content: "\"use client\";\n\nimport { useMutation } from \"@tanstack/react-query\";\nimport {\n\tAlertCircleIcon,\n\tClipboardIcon,\n\tFileIcon,\n\tFileTextIcon,\n\tImageUpIcon,\n\tLoader2,\n\tPlusIcon,\n\tReplace,\n\tXIcon,\n} from \"lucide-react\";\nimport Image from \"next/image\";\nimport type React from \"react\";\nimport { useEffect } from \"react\";\nimport { toast } from \"sonner\";\nimport { Button } from \"@/components/form-field/ui/button\";\nimport { type FileWithPreview, useFileUpload } from \"@/hooks/use-file-upload\";\nimport { deleteFile, getFile } from \"@/lib/form-field/file-storage\";\nimport { cn, createSyntheticInputChange } from \"@/lib/form-field/utils\";\nimport type { OneOrManyFile } from \"@/lib/form-field/zod-schemas/file\";\n\n// Function to determine file type\nexport const getFileType = (\n\tfileType: string | null,\n): \"image\" | \"pdf\" | \"other\" => {\n\tif (!fileType) return \"other\";\n\tif (fileType.startsWith(\"image/\")) return \"image\";\n\tif (fileType === \"application/pdf\") return \"pdf\";\n\treturn \"other\";\n};\n\n// Function to get appropriate icon for file type\nconst getFileIcon = (fileType: string) => {\n\tif (fileType.startsWith(\"image/\")) return <ImageUpIcon className=\"size-6\" />;\n\tif (fileType === \"application/pdf\")\n\t\treturn <FileTextIcon className=\"size-6\" />;\n\treturn <FileIcon className=\"size-6\" />;\n};\n\ninterface ImageDropZoneProps {\n\tdisplay?: \"COMPACT\" | \"FULL\" | undefined;\n}\n\nexport default function ImageDropZone({\n\tclassName,\n\t...props\n}: React.ComponentProps<\"input\"> & ImageDropZoneProps) {\n\tconst maxSizeMB = 5;\n\tconst maxSize = maxSizeMB * 1024 * 1024; // 5MB default\n\tconst parsedValue = props.value as unknown as OneOrManyFile;\n\tconst isCompact = props.display === \"COMPACT\";\n\n\tconst [\n\t\t{ files, isDragging, errors },\n\t\t{\n\t\t\thandleDragEnter,\n\t\t\thandleDragLeave,\n\t\t\thandleDragOver,\n\t\t\thandleDrop,\n\t\t\topenFileDialog,\n\t\t\tremoveFile,\n\t\t\taddFiles,\n\t\t\tgetInputProps,\n\t\t},\n\t] = useFileUpload({\n\t\taccept:\n\t\t\tprops.accept ||\n\t\t\t\"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt\",\n\t\tmultiple: props.multiple || false,\n\t\tmaxSize,\n\t\tonFilesChange: (files) => {\n\t\t\t// Handle file change event\n\t\t\tif (props.onChange) {\n\t\t\t\tif (props.multiple) {\n\t\t\t\t\tprops.onChange(createSyntheticInputChange(props.name || \"\", files));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tprops.onChange(\n\t\t\t\t\tcreateSyntheticInputChange(props.name || \"\", files.at(0)),\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t});\n\n\tuseEffect(() => {\n\t\tif (!parsedValue) return;\n\n\t\tconst loadFiles = async () => {\n\t\t\tif (Array.isArray(parsedValue)) {\n\t\t\t\tconst loadedFiles = await Promise.all(\n\t\t\t\t\tparsedValue.filter((v) => v?.id).map((v) => getFile(v.id as string)),\n\t\t\t\t);\n\t\t\t\taddFiles(loadedFiles.filter(Boolean));\n\t\t\t} else if (parsedValue?.id) {\n\t\t\t\tconst file = await getFile(parsedValue.id);\n\t\t\t\tif (file) addFiles([file]);\n\t\t\t}\n\t\t};\n\n\t\tloadFiles();\n\t\treturn () => {};\n\t}, [addFiles, parsedValue]);\n\n\tconst deleteMutation = useMutation({\n\t\tmutationFn: async (fileId: string) => {\n\t\t\t// Delete the file from storage\n\t\t\tawait deleteFile(fileId);\n\t\t\t// Remove the file from the state\n\t\t\tremoveFile(fileId);\n\t\t},\n\t\tonError: (error) => {\n\t\t\ttoast.error(error.message);\n\t\t},\n\t});\n\n\t// Render file preview based on type\n\tconst renderFilePreview = (file: FileWithPreview, index: number) => {\n\t\tconst fileType = getFileType(file.file.type);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={file.id || index}\n\t\t\t\tclassName={\`relative h-full w-full overflow-hidden rounded-md \${files.length === 1 ? \"min-h-[200px]\" : \"min-h-[100px]\"} border bg-background\`}\n\t\t\t>\n\t\t\t\t{fileType === \"image\" && (\n\t\t\t\t\t<Image\n\t\t\t\t\t\tsrc={file.preview || \"\"}\n\t\t\t\t\t\talt={file.file?.name || \"Uploaded image\"}\n\t\t\t\t\t\tfill\n\t\t\t\t\t\tclassName=\"object-contain\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{fileType === \"pdf\" && (\n\t\t\t\t\t<div className=\"flex h-full flex-col items-center justify-center p-2\">\n\t\t\t\t\t\t<FileTextIcon\n\t\t\t\t\t\t\tclassName={\`\${files.length === 1 ? \"size-12\" : \"size-8\"} mb-1 text-red-500\`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName={\`\${files.length === 1 ? \"text-sm\" : \"text-xs\"} max-w-full truncate font-medium\`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{file.file?.name}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={file.preview}\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\tclassName={\`\${files.length === 1 ? \"text-sm\" : \"text-xs\"} mt-1 text-blue-500\`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tView PDF\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{fileType === \"other\" && (\n\t\t\t\t\t<div className=\"flex h-full flex-col items-center justify-center p-2\">\n\t\t\t\t\t\t{getFileIcon(file.file?.type || \"\")}\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName={\`\${files.length === 1 ? \"text-sm\" : \"text-xs\"} mt-1 max-w-full truncate font-medium\`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{file.file?.name}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"absolute top-2 right-2\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"z-10 flex size-7 cursor-pointer items-center justify-center rounded-full bg-black/60 text-white outline-none transition-[color,box-shadow] hover:bg-black/80 focus-visible:ring-[2px] focus-visible:ring-ring/50\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (file.id) {\n\t\t\t\t\t\t\t\tdeleteMutation.mutate(file.id);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tremoveFile(index.toString());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taria-label=\"Remove file\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{deleteMutation.isPending &&\n\t\t\t\t\t\tdeleteMutation.variables === file.id ? (\n\t\t\t\t\t\t\t<Loader2 className=\"size-4 animate-spin\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<XIcon className=\"size-4\" aria-hidden=\"true\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className={cn(\"flex flex-col gap-2 rounded-md\", className)}>\n\t\t\t<div className=\"relative\">\n\t\t\t\t{isCompact ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\tonDragEnter={handleDragEnter}\n\t\t\t\t\t\tonDragLeave={handleDragLeave}\n\t\t\t\t\t\tonDragOver={handleDragOver}\n\t\t\t\t\t\tonDrop={handleDrop}\n\t\t\t\t\t\tdata-dragging={isDragging || undefined}\n\t\t\t\t\t\tclassName=\"relative flex h-10 min-h-10 w-full items-center overflow-hidden rounded-md border border-input border-dashed px-2 transition-colors hover:bg-accent/50 has-disabled:pointer-events-none has-[input:focus]:border-ring has-disabled:opacity-50 has-[input:focus]:ring-[3px] has-[input:focus]:ring-ring/50 data-[dragging=true]:bg-accent/50\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...getInputProps()}\n\t\t\t\t\t\t\tref={(ref) => {\n\t\t\t\t\t\t\t\tif (ref) {\n\t\t\t\t\t\t\t\t\t// @ts-expect-error type error\n\t\t\t\t\t\t\t\t\tgetInputProps().ref.current = ref;\n\t\t\t\t\t\t\t\t\t// @ts-expect-error type error\n\t\t\t\t\t\t\t\t\tprops.ref.current = ref;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"sr-only\"\n\t\t\t\t\t\t\taria-label=\"Upload file\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{files.length > 0 ? (\n\t\t\t\t\t\t\t<div className=\"flex w-full items-center gap-2 overflow-x-auto\">\n\t\t\t\t\t\t\t\t{files.map((file, index) => {\n\t\t\t\t\t\t\t\t\tconst fileType = getFileType(file.file.type);\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={file.id || index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center gap-2 rounded-md border bg-background px-2 py-1 text-xs\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{fileType === \"image\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"relative size-5 overflow-hidden rounded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={file.preview || \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={file.file?.name || \"Preview\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"object-cover\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : fileType === \"pdf\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<FileTextIcon className=\"size-4 text-red-500\" />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<FileIcon className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"max-w-[10rem] truncate\">\n\t\t\t\t\t\t\t\t\t\t\t\t{file.file?.name}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"z-10 flex size-5 items-center justify-center rounded-full text-muted-foreground outline-none transition-[color,box-shadow] hover:bg-muted hover:text-foreground focus-visible:ring-[2px] focus-visible:ring-ring/50\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (file.id) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteMutation.mutate(file.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tremoveFile(index.toString());\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Remove file\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{deleteMutation.isPending &&\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteMutation.variables === file.id ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader2 className=\"size-3.5 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<XIcon className=\"size-3.5\" aria-hidden=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={\"text-xs\"}\n\t\t\t\t\t\t\t\t\tvariant={\"secondary\"}\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\tprops.multiple ? (\n\t\t\t\t\t\t\t\t\t\t\t<PlusIcon className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Replace className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize={\"xs2\"}\n\t\t\t\t\t\t\t\t\ttype={\"button\"}\n\t\t\t\t\t\t\t\t\tonClick={openFileDialog}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{props.multiple ? \"Add Files\" : \"Replace File\"}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype={\"button\"}\n\t\t\t\t\t\t\t\tclassName=\"flex w-full cursor-pointer items-center gap-2\"\n\t\t\t\t\t\t\t\tonClick={openFileDialog}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"flex size-7 shrink-0 items-center justify-center rounded border bg-background\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ImageUpIcon className=\"size-4 opacity-60\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"truncate text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t{props.placeholder || (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\tDrop your {props.multiple ? \"files\" : \"file\"} here or\n\t\t\t\t\t\t\t\t\t\t\tclick to browse\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\tonDragEnter={handleDragEnter}\n\t\t\t\t\t\tonDragLeave={handleDragLeave}\n\t\t\t\t\t\tonDragOver={handleDragOver}\n\t\t\t\t\t\tonDrop={handleDrop}\n\t\t\t\t\t\tdata-dragging={isDragging || undefined}\n\t\t\t\t\t\tclassName=\"relative flex min-h-52 flex-col items-center justify-center overflow-hidden rounded-xl border border-input border-dashed p-4 transition-colors hover:bg-accent/50 has-disabled:pointer-events-none has-[input:focus]:border-ring has-disabled:opacity-50 has-[input:focus]:ring-[3px] has-[input:focus]:ring-ring/50 data-[dragging=true]:bg-accent/50\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...getInputProps()}\n\t\t\t\t\t\t\tref={(ref) => {\n\t\t\t\t\t\t\t\tif (ref) {\n\t\t\t\t\t\t\t\t\t// @ts-expect-error type error\n\t\t\t\t\t\t\t\t\tgetInputProps().ref.current = ref;\n\t\t\t\t\t\t\t\t\t// @ts-expect-error type error\n\t\t\t\t\t\t\t\t\tprops.ref.current = ref;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"sr-only\"\n\t\t\t\t\t\t\taria-label=\"Upload file\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{files.length > 0 ? (\n\t\t\t\t\t\t\tfiles.length === 1 ? (\n\t\t\t\t\t\t\t\t<div className=\"flex h-full w-full items-center justify-center\">\n\t\t\t\t\t\t\t\t\t{renderFilePreview(files[0], 0)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"grid h-full w-full grid-cols-2 gap-2 sm:grid-cols-3\">\n\t\t\t\t\t\t\t\t\t{files.map((file, index) => renderFilePreview(file, index))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype={\"button\"}\n\t\t\t\t\t\t\t\tclassName=\"flex cursor-pointer flex-col items-center justify-center px-4 py-3 text-center\"\n\t\t\t\t\t\t\t\tonClick={openFileDialog}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"mb-2 flex size-11 shrink-0 items-center justify-center rounded-full border bg-background\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ImageUpIcon className=\"size-4 opacity-60\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"mb-1.5 font-medium text-sm\">\n\t\t\t\t\t\t\t\t\t{props.placeholder || (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\tDrop your {props.multiple ? \"files\" : \"file\"} here or\n\t\t\t\t\t\t\t\t\t\t\tclick to browse\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\tMax size: {maxSizeMB}MB {props.multiple ? \"per file\" : \"\"}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{!isCompact && (props.multiple || files.length === 0) ? (\n\t\t\t\t<div className={cn(\"mb-2 flex justify-between\", className)}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype={\"button\"}\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tlet file: File | null = null;\n\t\t\t\t\t\t\tconst items = await navigator.clipboard.read();\n\t\t\t\t\t\t\tfor (const item of items) {\n\t\t\t\t\t\t\t\tfor (const type of item.types) {\n\t\t\t\t\t\t\t\t\tif (type.startsWith(\"image/\")) {\n\t\t\t\t\t\t\t\t\t\tconst blob = await item.getType(type);\n\t\t\t\t\t\t\t\t\t\tfile = new File(\n\t\t\t\t\t\t\t\t\t\t\t[blob],\n\t\t\t\t\t\t\t\t\t\t\t\`clipboard-image-\${Date.now()}-.png\`,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttype: blob.type,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!file) return toast.error(\"No image found in clipboard\");\n\t\t\t\t\t\t\taddFiles([file]);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\tvariant={\"link\"}\n\t\t\t\t\t\tclassName={\"text-xs\"}\n\t\t\t\t\t\ticon={<ClipboardIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tGet from Clipboard\n\t\t\t\t\t</Button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={openFileDialog}\n\t\t\t\t\t\tclassName=\"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-primary-foreground text-sm hover:bg-primary/90\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<PlusIcon className=\"size-4\" />\n\t\t\t\t\t\tAdd {props.multiple ? \"Files\" : \"File\"}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : null}\n\n\t\t\t{errors.length > 0 && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"flex items-center gap-1 text-destructive text-xs\"\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t>\n\t\t\t\t\t<AlertCircleIcon className=\"size-3 shrink-0\" />\n\t\t\t\t\t<span>{errors[0]}</span>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/NumberField.tsx",
      content: "import { MinusIcon, PlusIcon } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tInputGroup,\n\tInputGroupAddon,\n\tInputGroupInput,\n} from \"@/components/ui/input-group\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\nimport { cn } from \"@/lib/form-field/utils\";\n\nexport const NumberField = ({\n\twithControls = false,\n\t...field\n}: BaseFieldProps & {\n\twithControls?: boolean;\n}) => {\n\treturn (\n\t\t<InputGroup\n\t\t\tclassName={cn(\n\t\t\t\t\"!px-0 relative flex items-center overflow-hidden rounded-md shadow-xs\",\n\t\t\t\tfield.className,\n\t\t\t)}\n\t\t>\n\t\t\t{withControls && (\n\t\t\t\t<InputGroupAddon>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant={\"ghost\"}\n\t\t\t\t\t\ttype={\"button\"}\n\t\t\t\t\t\tonClick={() => field.onChange(Number(field.value) - 1)}\n\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MinusIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</InputGroupAddon>\n\t\t\t)}\n\t\t\t<InputGroupInput\n\t\t\t\t{...field}\n\t\t\t\ttype=\"number\"\n\t\t\t\tclassName={cn(field.className, {\n\t\t\t\t\twithControls,\n\t\t\t\t})}\n\t\t\t/>\n\t\t\t{withControls && (\n\t\t\t\t<InputGroupAddon align={\"inline-end\"}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype={\"button\"}\n\t\t\t\t\t\tvariant={\"ghost\"}\n\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\tonClick={() => field.onChange(Number(field.value) + 1)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<PlusIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</InputGroupAddon>\n\t\t\t)}\n\t\t</InputGroup>\n\t);\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/SelectField.tsx",
      content: "import type React from \"react\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectGroup,\n\tSelectItem,\n\tSelectLabel,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { useOptionQuery } from \"@/hooks/useOptionQuery\";\nimport type { BaseFieldProps, OptionType } from \"@/lib/form-field/form-field\";\nimport { cn, createSyntheticInputChange } from \"@/lib/form-field/utils\";\n\nexport const SelectField: React.FC<\n\tBaseFieldProps & {\n\t\toptions: OptionType;\n\t\tid?: string;\n\t\tcustomOnChange?: (value: string) => void;\n\t\tgetOptionDisabled?: (value: string) => boolean;\n\t\tclassNames?: {\n\t\t\ttrigger?: string;\n\t\t};\n\t}\n> = ({ name, id = name, customOnChange, classNames, ...field }) => {\n\tconst options = useOptionQuery(field.options, id);\n\treturn (\n\t\t<Select\n\t\t\t{...field}\n\t\t\tonValueChange={(e) => {\n\t\t\t\tfield.onChange(createSyntheticInputChange(name, e));\n\t\t\t\tcustomOnChange?.(e);\n\t\t\t}}\n\t\t>\n\t\t\t<SelectTrigger\n\t\t\t\tclassName={cn(\"w-full\", field.className, classNames?.trigger)}\n\t\t\t>\n\t\t\t\t<SelectValue placeholder={field.placeholder} />\n\t\t\t</SelectTrigger>\n\t\t\t<SelectContent>\n\t\t\t\t<SelectGroup>\n\t\t\t\t\t<SelectLabel>{field.label}</SelectLabel>\n\t\t\t\t\t{options.isLoading ? (\n\t\t\t\t\t\t<SelectItem value=\"loading\" disabled>\n\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t) : options.isError ? (\n\t\t\t\t\t\t<SelectItem value=\"error\" disabled>\n\t\t\t\t\t\t\tError loading options\n\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\toptions.data?.map(({ value, label, icon: Icon, wrapperFn }) => (\n\t\t\t\t\t\t\t<SelectItem\n\t\t\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tdisabled={field.getOptionDisabled?.(value) || false}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{wrapperFn ? (\n\t\t\t\t\t\t\t\t\twrapperFn({ label, icon: Icon, value })\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={\"flex w-full items-center justify-between gap-2\"}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className={\"flex items-center gap-2\"}>\n\t\t\t\t\t\t\t\t\t\t\t{Icon && <Icon />} {label}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</SelectGroup>\n\t\t\t</SelectContent>\n\t\t</Select>\n\t);\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/Stepper.tsx",
      content: "import { useMutation } from \"@tanstack/react-query\";\nimport { Minus, Plus } from \"lucide-react\";\nimport { type JSX, useEffect, useState } from \"react\";\nimport { Button, type buttonVariants } from \"@/components/form-field/ui/button\";\nimport { cn } from \"@/lib/data-table/utils\";\n\nexport default function Stepper({\n\tonIncrement,\n\tonDecrement,\n\tdefaultValue = 0,\n\tmin = Number.NEGATIVE_INFINITY,\n\tmax = Number.POSITIVE_INFINITY,\n\tdefaultDecrementIcon = <Minus size={16} aria-hidden=\"true\" />,\n\tdefaultIncrementIcon = <Plus size={16} aria-hidden=\"true\" />,\n\tclassName,\n\tbuttonVariant,\n}: {\n\tonIncrement: (number: number) => Promise<void>;\n\tonDecrement: (number: number) => Promise<void>;\n\tdefaultValue?: number;\n\tmax?: number;\n\tmin?: number;\n\tdefaultDecrementIcon?: JSX.Element;\n\tdefaultIncrementIcon?: JSX.Element;\n\tclassName?: string;\n\tbuttonVariant?: typeof buttonVariants;\n}) {\n\tconst [value, setValue] = useState<number>(defaultValue);\n\tuseEffect(() => {\n\t\tsetValue(defaultValue);\n\t}, [defaultValue]);\n\tconst onIncrementMutation = useMutation({\n\t\tmutationFn: () => {\n\t\t\tconst newValue = Math.min(max, value + 1);\n\t\t\tsetValue(newValue);\n\t\t\treturn onIncrement(newValue);\n\t\t},\n\t});\n\tconst onDecrementMutation = useMutation({\n\t\tmutationFn: () => {\n\t\t\tconst newValue = Math.max(min, value - 1);\n\t\t\tsetValue(newValue);\n\t\t\treturn onDecrement(newValue);\n\t\t},\n\t});\n\n\treturn (\n\t\t<div className=\"-space-x-px inline-flex rounded-full shadow-xs rtl:space-x-reverse\">\n\t\t\t<Button\n\t\t\t\tisLoading={onDecrementMutation.isPending}\n\t\t\t\tonClick={() => onDecrementMutation.mutate()}\n\t\t\t\tdisabled={value <= min}\n\t\t\t\t{...buttonVariant}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"rounded-none shadow-none first:rounded-s-full last:rounded-e-full focus-visible:z-10\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tsize=\"icon\"\n\t\t\t\taria-label=\"Upvote\"\n\t\t\t\ticon={defaultDecrementIcon}\n\t\t\t/>\n\t\t\t<span className=\"flex items-center bg-primary px-1 font-medium text-primary-foreground text-sm\">\n\t\t\t\t{value}\n\t\t\t</span>\n\t\t\t<Button\n\t\t\t\tisLoading={onIncrementMutation.isPending}\n\t\t\t\tonClick={() => onIncrementMutation.mutate()}\n\t\t\t\tdisabled={value >= max}\n\t\t\t\t{...buttonVariant}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"rounded-none shadow-none first:rounded-s-full last:rounded-e-full focus-visible:z-10\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tsize=\"icon\"\n\t\t\t\taria-label=\"Downvote\"\n\t\t\t\ticon={defaultIncrementIcon}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/SuffixField.tsx",
      content: "import type React from \"react\";\nimport type { ReactNode } from \"react\";\nimport SuffixInputField from \"@/components/form-field/ui/SuffixInputField\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\n\nexport const SuffixField: React.FC<\n\tBaseFieldProps & {\n\t\tprefix?: string;\n\t\ttype?: \"number\" | \"text\";\n\t\tsuffix?: ReactNode;\n\t}\n> = (field) => {\n\treturn <SuffixInputField {...field} />;\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/SuffixInputField.tsx",
      content: "import type React from \"react\";\nimport { type ReactNode, useId } from \"react\";\nimport {\n\tInputGroup,\n\tInputGroupAddon,\n\tInputGroupInput,\n} from \"@/components/ui/input-group\";\nimport { cn } from \"@/lib/form-field/utils\";\n\nexport default function SuffixInputField({\n\tprefix = \"â‚¹\",\n\tsuffix = \"INR\",\n\ttype = \"number\",\n\tclassName,\n\t...props\n}: React.ComponentProps<\"input\"> & {\n\tprefix?: string;\n\tsuffix?: ReactNode;\n\ttype?: \"number\" | \"text\";\n}) {\n\tconst id = useId();\n\treturn (\n\t\t<InputGroup\n\t\t\tclassName={cn(\n\t\t\t\tclassName,\n\t\t\t\t\"relative z-10 flex items-center rounded-md shadow-xs\",\n\t\t\t)}\n\t\t>\n\t\t\t<InputGroupAddon>{prefix}</InputGroupAddon>\n\t\t\t<InputGroupInput id={id} type={type} placeholder=\"0.00\" {...props} />\n\t\t\t<InputGroupAddon align={\"inline-end\"}>{suffix}</InputGroupAddon>\n\t\t</InputGroup>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/SuggestField.tsx",
      content: "import { Command as CommandPrimitive } from \"cmdk\";\nimport { Check, Loader2 } from \"lucide-react\";\nimport { type ReactNode, useEffect, useMemo, useRef, useState } from \"react\";\nimport { buttonVariants } from \"@/components/form-field/ui/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandItem,\n\tCommandList,\n} from \"@/components/ui/command\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n\tPopover,\n\tPopoverAnchor,\n\tPopoverContent,\n} from \"@/components/ui/popover\";\nimport { useDebounceState } from \"@/hooks/useDebounceState\";\nimport { useOptionQuery } from \"@/hooks/useOptionQuery\";\nimport type {\n\tBaseFieldProps,\n\tbaseOption,\n\tOptionType,\n} from \"@/lib/form-field/form-field\";\nimport { createSyntheticInputChange } from \"@/lib/form-field/utils\";\nimport { cn } from \"@/lib/form-field/utils\";\n\ntype Props = BaseFieldProps & {\n\tid?: string;\n\toptions: OptionType;\n\tfallbackFn?: (\n\t\tvalue: string,\n\t\tonSelectItem: (opt: { label: string; value: string }) => void,\n\t) => ReactNode;\n\tgetInitialValue?: (value: string) => Promise<baseOption | undefined>;\n};\n\nexport function SuggestInput({\n\tonChange,\n\tname,\n\tvalue,\n\toptions,\n\tfallbackFn,\n\tplaceholder = \"Search...\",\n\tgetInitialValue,\n\tid = name,\n\t...fields\n}: Props) {\n\tconst [open, setOpen] = useState(false);\n\tconst [searchQuery, setSearchQuery] = useDebounceState<string>(value);\n\tconst items = useOptionQuery(() => options(searchQuery), id, {\n\t\tq: searchQuery,\n\t});\n\tconst [customOptions, setCustomOptions] = useState<baseOption[]>([]);\n\n\tuseEffect(() => {\n\t\tif (value) {\n\t\t\tgetInitialValue?.(value).then((opt) => {\n\t\t\t\tif (opt) {\n\t\t\t\t\tsetCustomOptions((value) => [opt, ...value]);\n\t\t\t\t\tsetCustomValue(opt.label);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [getInitialValue, value]);\n\n\tconst ref = useRef<HTMLInputElement>(null);\n\n\tconst opts = useMemo(\n\t\t() =>\n\t\t\t[...customOptions, ...(items.data || [])]\n\t\t\t\t.filter(\n\t\t\t\t\t(e) =>\n\t\t\t\t\t\te.label\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.startsWith(searchQuery?.toLowerCase() || \"\") ||\n\t\t\t\t\t\te.value.toLowerCase() === value,\n\t\t\t\t)\n\t\t\t\t.reduce<baseOption[]>((acc, item) => {\n\t\t\t\t\tconst existing = acc.find((e) => e.value === item.value);\n\t\t\t\t\tif (existing) {\n\t\t\t\t\t\texisting.label = item.label;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tacc.push(item);\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []),\n\t\t[customOptions, items.data, searchQuery, value],\n\t);\n\n\tconst labels = useMemo(\n\t\t() =>\n\t\t\topts?.reduce(\n\t\t\t\t(acc, item) => {\n\t\t\t\t\tacc[item.value] = item.label;\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t{} as Record<string, string>,\n\t\t\t),\n\t\t[opts],\n\t);\n\tconst [customValue, setCustomValue] = useState<string>(labels?.[value]);\n\n\tconst onSelectItem = (\n\t\topt: { label: string; value: string },\n\t\tisNew: boolean = false,\n\t) => {\n\t\tonChange(createSyntheticInputChange(name, opt.value));\n\t\tif (isNew) {\n\t\t\tsetCustomOptions((prev) => [...prev, opt]);\n\t\t\tsetCustomValue(opt.value);\n\t\t} else {\n\t\t\tsetCustomValue(labels?.[opt.value]);\n\t\t}\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<div className=\"flex items-center bg-transparent\">\n\t\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t\t<Command shouldFilter={false} className={\"bg-transparent\"}>\n\t\t\t\t\t<PopoverAnchor asChild>\n\t\t\t\t\t\t<CommandPrimitive.Input\n\t\t\t\t\t\t\tasChild\n\t\t\t\t\t\t\tdefaultValue={customValue}\n\t\t\t\t\t\t\tvalue={customValue}\n\t\t\t\t\t\t\tonValueChange={(v) => {\n\t\t\t\t\t\t\t\tsetCustomValue(v);\n\t\t\t\t\t\t\t\tsetSearchQuery(v);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonKeyDown={(e) => setOpen(e.key !== \"Escape\")}\n\t\t\t\t\t\t\tonMouseDown={() => setOpen((open) => !!value || !open)}\n\t\t\t\t\t\t\tonFocus={() => setOpen(true)}\n\t\t\t\t\t\t\t{...fields}\n\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input placeholder={placeholder} />\n\t\t\t\t\t\t</CommandPrimitive.Input>\n\t\t\t\t\t</PopoverAnchor>\n\t\t\t\t\t{!open && <CommandList aria-hidden=\"true\" className=\"hidden\" />}\n\n\t\t\t\t\t<PopoverContent\n\t\t\t\t\t\tasChild\n\t\t\t\t\t\tonOpenAutoFocus={(e) => e.preventDefault()}\n\t\t\t\t\t\tonInteractOutside={(e) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\te.target instanceof Element &&\n\t\t\t\t\t\t\t\te.target.hasAttribute(\"cmdk-input\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"w-[var(--radix-popover-trigger-width)] p-0\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t\t{items.isPending && (\n\t\t\t\t\t\t\t\t<CommandPrimitive.Loading>\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center gap-1 p-4\">\n\t\t\t\t\t\t\t\t\t\t<Loader2 className={\"animate-spin\"} size={18} /> Loading...\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CommandPrimitive.Loading>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{(opts?.length || 0) > 0 && !items.isPending ? (\n\t\t\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t\t\t{opts?.map(\n\t\t\t\t\t\t\t\t\t\t({ label, value: optValue, icon: Icon, wrapperFn }) => (\n\t\t\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\t\t\tkey={optValue}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={optValue}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={(e) => e.preventDefault()}\n\t\t\t\t\t\t\t\t\t\t\t\tonSelect={(s_v) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectItem({ label: s_v, value: optValue })\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"mr-2 h-4 w-4\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue === optValue ? \"opacity-100\" : \"opacity-0\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{wrapperFn ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\twrapperFn({ label, icon: Icon, value: optValue })\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"flex w-full items-center justify-between gap-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={\"flex items-center gap-2\"}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{Icon && <Icon />} {label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{!items.isPending ? (\n\t\t\t\t\t\t\t\tsearchQuery ? (\n\t\t\t\t\t\t\t\t\tfallbackFn ? (\n\t\t\t\t\t\t\t\t\t\t<CommandEmpty className={\"!p-0\"}>\n\t\t\t\t\t\t\t\t\t\t\t{fallbackFn(searchQuery, onSelectItem)}\n\t\t\t\t\t\t\t\t\t\t</CommandEmpty>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<CommandEmpty\n\t\t\t\t\t\t\t\t\t\t\tclassName={buttonVariants({\n\t\t\t\t\t\t\t\t\t\t\t\tvariant: \"secondary\",\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"w-full cursor-pointer\",\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tonSelectItem(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: searchQuery,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: searchQuery,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tcreate &quot;{searchQuery}&quot;\n\t\t\t\t\t\t\t\t\t\t</CommandEmpty>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CommandEmpty>Search {fields.label}</CommandEmpty>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</CommandList>\n\t\t\t\t\t</PopoverContent>\n\t\t\t\t</Command>\n\t\t\t</Popover>\n\t\t</div>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/TextField.tsx",
      content: "import type React from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\n\nexport const TextField: React.FC<BaseFieldProps> = (field) => {\n\treturn <Input {...field} />;\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/ToggleGroup.tsx",
      content: "\"use client\";\n\nimport { ToggleGroup, ToggleGroupItem } from \"@/components/ui/toggle-group\";\nimport { useOptionQuery } from \"@/hooks/useOptionQuery\";\nimport type { BaseFieldProps, OptionType } from \"@/lib/form-field/form-field\";\nimport { cn } from \"@/lib/form-field/utils\";\n\nexport default function ToggleGroupComponent({\n\tclassName,\n\titemClassName,\n\toptions,\n\t...props\n}: BaseFieldProps & {\n\toptions: OptionType;\n\tclassName?: string;\n\titemClassName?: string;\n}) {\n\tconst optionsQuery = useOptionQuery(options, props.name);\n\tif (optionsQuery.isPending) {\n\t\treturn <div>Loading...</div>;\n\t}\n\tif (optionsQuery.isError) {\n\t\treturn <div>Error: {optionsQuery.error.message}</div>;\n\t}\n\treturn (\n\t\t<ToggleGroup\n\t\t\ttype=\"single\"\n\t\t\tvariant=\"outline\"\n\t\t\tclassName={cn(\"flex w-full flex-wrap overflow-x-auto\", className)}\n\t\t\t{...props}\n\t\t\tvalue={props.value}\n\t\t\tonValueChange={(value) => {\n\t\t\t\tif (value) props.onChange?.(value);\n\t\t\t}}\n\t\t>\n\t\t\t{optionsQuery.data.map(({ label, icon: Icon, value, wrapperFn }) => (\n\t\t\t\t<ToggleGroupItem\n\t\t\t\t\tclassName={cn(\"h-max min-w-max p-2\", itemClassName, {\n\t\t\t\t\t\t\"text-muted-foreground\": props.value !== value,\n\t\t\t\t\t})}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tkey={value}\n\t\t\t\t>\n\t\t\t\t\t{wrapperFn ? (\n\t\t\t\t\t\twrapperFn({ label, icon: Icon, value })\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className={\"flex w-full items-center justify-between gap-2\"}>\n\t\t\t\t\t\t\t<span className={\"flex items-center gap-2\"}>\n\t\t\t\t\t\t\t\t{Icon && <Icon />} {label}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</ToggleGroupItem>\n\t\t\t))}\n\t\t</ToggleGroup>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/textAreaField.tsx",
      content: "import type React from \"react\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\n\nexport const TextAreaField: React.FC<\n\tBaseFieldProps & {\n\t\trows?: number;\n\t\tcols?: number;\n\t}\n> = (field) => {\n\treturn (\n\t\t<Textarea\n\t\t\tclassName=\"w-full rounded-md border bg-secondary p-2\"\n\t\t\t{...field}\n\t\t/>\n\t);\n};\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/PasswordField.tsx",
      content: "import { CheckIcon, EyeIcon, EyeOffIcon, XIcon } from \"lucide-react\";\nimport { useMemo, useState } from \"react\";\n\nimport { Input } from \"@/components/ui/input\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\n\nexport default function PasswordField({\n\tdisplay = \"FULL\",\n\t...props\n}: BaseFieldProps & {\n\tdisplay?: \"FULL\" | \"COMPACT\";\n}) {\n\tconst [isVisible, setIsVisible] = useState<boolean>(false);\n\n\tconst toggleVisibility = () => setIsVisible((prevState) => !prevState);\n\n\tconst checkStrength = (pass: string) => {\n\t\tconst requirements = [\n\t\t\t{ regex: /.{8,}/, text: \"At least 8 characters\" },\n\t\t\t{ regex: /[0-9]/, text: \"At least 1 number\" },\n\t\t\t{ regex: /[a-z]/, text: \"At least 1 lowercase letter\" },\n\t\t\t{ regex: /[A-Z]/, text: \"At least 1 uppercase letter\" },\n\t\t];\n\n\t\treturn requirements.map((req) => ({\n\t\t\tmet: req.regex.test(pass),\n\t\t\ttext: req.text,\n\t\t}));\n\t};\n\n\tconst strength = checkStrength(props.value);\n\n\tconst strengthScore = useMemo(() => {\n\t\treturn strength.filter((req) => req.met).length;\n\t}, [strength]);\n\n\tconst getStrengthColor = (score: number) => {\n\t\tif (score === 0) return \"bg-border\";\n\t\tif (score <= 1) return \"bg-red-500\";\n\t\tif (score <= 2) return \"bg-orange-500\";\n\t\tif (score === 3) return \"bg-amber-500\";\n\t\treturn \"bg-emerald-500\";\n\t};\n\n\tconst getStrengthText = (score: number) => {\n\t\tif (score === 0) return \"Enter a password\";\n\t\tif (score <= 2) return \"Weak password\";\n\t\tif (score === 3) return \"Medium password\";\n\t\treturn \"Strong password\";\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{/* Password input field with toggle visibility button */}\n\t\t\t<div className=\"\">\n\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tid={props.name}\n\t\t\t\t\t\tclassName=\"pe-9\"\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\ttype={isVisible ? \"text\" : \"password\"}\n\t\t\t\t\t\taria-describedby={\`\${props.name}-description\`}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"absolute inset-y-0 end-0 flex h-full w-9 items-center justify-center rounded-e-md text-muted-foreground/80 outline-none transition-[color,box-shadow] hover:text-foreground focus:z-10 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={toggleVisibility}\n\t\t\t\t\t\taria-label={isVisible ? \"Hide password\" : \"Show password\"}\n\t\t\t\t\t\taria-pressed={isVisible}\n\t\t\t\t\t\taria-controls=\"password\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{isVisible ? (\n\t\t\t\t\t\t\t<EyeOffIcon size={16} aria-hidden=\"true\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<EyeIcon size={16} aria-hidden=\"true\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Password strength indicator */}\n\t\t\t{display === \"FULL\" && (\n\t\t\t\t<>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"mt-3 mb-4 h-1 w-full overflow-hidden rounded-full bg-border\"\n\t\t\t\t\t\trole=\"progressbar\"\n\t\t\t\t\t\taria-valuenow={strengthScore}\n\t\t\t\t\t\taria-valuemin={0}\n\t\t\t\t\t\taria-valuemax={4}\n\t\t\t\t\t\taria-label=\"Password strength\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\`h-full \${getStrengthColor(strengthScore)} transition-all duration-500 ease-out\`}\n\t\t\t\t\t\t\tstyle={{ width: \`\${(strengthScore / 4) * 100}%\` }}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Password strength description */}\n\t\t\t\t\t<p\n\t\t\t\t\t\tid={\`\${props.name}-description\`}\n\t\t\t\t\t\tclassName=\"mb-2 font-medium text-foreground text-sm\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{getStrengthText(strengthScore)}. Must contain:\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ul className=\"space-y-1.5\" aria-label=\"Password requirements\">\n\t\t\t\t\t\t{strength.map((req) => (\n\t\t\t\t\t\t\t<li key={req.text} className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t{req.met ? (\n\t\t\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\t\t\tsize={16}\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-emerald-500\"\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<XIcon\n\t\t\t\t\t\t\t\t\t\tsize={16}\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-muted-foreground/80\"\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={\`text-xs \${req.met ? \"text-emerald-600\" : \"text-muted-foreground\"}\`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{req.text}\n\t\t\t\t\t\t\t\t\t<span className=\"sr-only\">\n\t\t\t\t\t\t\t\t\t\t{req.met ? \" - Requirement met\" : \" - Requirement not met\"}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/index.ts",
      content: "export type {\n\tBaseFieldProps,\n\tOptionType,\n\tSelectFieldData,\n} from \"@/lib/form-field/form-field\";\n// Hooks\nexport { useOptionQuery } from \"../../../hooks/useOptionQuery\";\nexport {\n\ttype FieldType,\n\tfieldComponents,\n\tfieldVariants,\n} from \"../../../lib/form-field/registry\";\n",
      type: "registry:component",
    },{
      path: "hooks/form-field/useForm.tsx",
      content: "import { zodResolver } from \"@hookform/resolvers/zod\";\nimport type { UseFormProps } from \"react-hook-form\";\nimport { useForm as useBaseForm } from \"react-hook-form\";\nimport type { input, output, ZodObject } from \"zod\";\n\nexport const useForm = <Schema extends ZodObject<any>>(\n\tschema: Schema,\n\tprops?: UseFormProps<\n\t\tinput<Schema>,\n\t\t{\n\t\t\tschema: Schema;\n\t\t},\n\t\toutput<Schema>\n\t>,\n) => {\n\treturn useBaseForm<\n\t\tinput<Schema>,\n\t\t{\n\t\t\tschema: Schema;\n\t\t},\n\t\toutput<Schema>\n\t>({\n\t\tresolver: zodResolver(schema),\n\t\tcontext: {\n\t\t\tschema,\n\t\t},\n\t\t...props,\n\t});\n};\n",
      type: "registry:hook",
    },{
      path: "hooks/use-file-upload.ts",
      content: "\"use client\";\n\nimport type React from \"react\";\nimport {\n\ttype ChangeEvent,\n\ttype DragEvent,\n\ttype InputHTMLAttributes,\n\tuseCallback,\n\tuseRef,\n\tuseState,\n} from \"react\";\n\nexport type FileMetadata = {\n\tname: string;\n\tsize: number;\n\ttype: string;\n\turl: string;\n\tid: string;\n};\n\nexport type FileWithPreview = {\n\tfile: File | FileMetadata;\n\tid: string;\n\tpreview?: string;\n};\n\nexport type FileUploadOptions = {\n\tmaxFiles?: number; // Only used when multiple is true, defaults to Infinity\n\tmaxSize?: number; // in bytes\n\taccept?: string;\n\tmultiple?: boolean; // Defaults to false\n\tinitialFiles?: FileMetadata[];\n\tonFilesChange?: (files: FileWithPreview[]) => void; // Callback when files change\n\tonFilesAdded?: (addedFiles: FileWithPreview[]) => void; // Callback when new files are added\n};\n\nexport type FileUploadState = {\n\tfiles: FileWithPreview[];\n\tisDragging: boolean;\n\terrors: string[];\n};\n\nexport type FileUploadActions = {\n\taddFiles: (files: FileList | File[]) => void;\n\tremoveFile: (id: string) => void;\n\tclearFiles: () => void;\n\tclearErrors: () => void;\n\thandleDragEnter: (e: DragEvent<HTMLElement>) => void;\n\thandleDragLeave: (e: DragEvent<HTMLElement>) => void;\n\thandleDragOver: (e: DragEvent<HTMLElement>) => void;\n\thandleDrop: (e: DragEvent<HTMLElement>) => void;\n\thandleFileChange: (e: ChangeEvent<HTMLInputElement>) => void;\n\topenFileDialog: () => void;\n\tgetInputProps: (\n\t\tprops?: InputHTMLAttributes<HTMLInputElement>,\n\t) => InputHTMLAttributes<HTMLInputElement> & {\n\t\tref: React.Ref<HTMLInputElement>;\n\t};\n};\n\nexport const useFileUpload = (\n\toptions: FileUploadOptions = {},\n): [FileUploadState, FileUploadActions] => {\n\tconst {\n\t\tmaxFiles = Infinity,\n\t\tmaxSize = Infinity,\n\t\taccept = \"*\",\n\t\tmultiple = false,\n\t\tinitialFiles = [],\n\t\tonFilesChange,\n\t\tonFilesAdded,\n\t} = options;\n\n\tconst [state, setState] = useState<FileUploadState>({\n\t\tfiles: initialFiles.map((file) => ({\n\t\t\tfile,\n\t\t\tid: file.id,\n\t\t\tpreview: file.url,\n\t\t})),\n\t\tisDragging: false,\n\t\terrors: [],\n\t});\n\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\n\tconst validateFile = useCallback(\n\t\t(file: File | FileMetadata): string | null => {\n\t\t\tif (file instanceof File) {\n\t\t\t\tif (file.size > maxSize) {\n\t\t\t\t\treturn \`File '\${file.name}' exceeds the maximum size of \${formatBytes(maxSize)}.\`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (file.size > maxSize) {\n\t\t\t\t\treturn \`File '\${file.name}' exceeds the maximum size of \${formatBytes(maxSize)}.\`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (accept !== \"*\") {\n\t\t\t\tconst acceptedTypes = accept.split(\",\").map((type) => type.trim());\n\t\t\t\tconst fileType = file instanceof File ? file.type || \"\" : file.type;\n\t\t\t\tconst fileExtension = \`.\${file instanceof File ? file.name.split(\".\").pop() : file.name.split(\".\").pop()}\`;\n\n\t\t\t\tconst isAccepted = acceptedTypes.some((type) => {\n\t\t\t\t\tif (type.startsWith(\".\")) {\n\t\t\t\t\t\treturn fileExtension.toLowerCase() === type.toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\tif (type.endsWith(\"/*\")) {\n\t\t\t\t\t\tconst baseType = type.split(\"/\")[0];\n\t\t\t\t\t\treturn fileType.startsWith(\`\${baseType}/\`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fileType === type;\n\t\t\t\t});\n\n\t\t\t\tif (!isAccepted) {\n\t\t\t\t\treturn \`File '\${file instanceof File ? file.name : file.name}' is not an accepted file type.\`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\t[accept, maxSize],\n\t);\n\n\tconst createPreview = useCallback(\n\t\t(file: File | FileMetadata): string | undefined => {\n\t\t\tif (file instanceof File) {\n\t\t\t\treturn URL.createObjectURL(file);\n\t\t\t}\n\t\t\treturn file.url;\n\t\t},\n\t\t[],\n\t);\n\n\tconst generateUniqueId = useCallback((file: File | FileMetadata): string => {\n\t\tif (file instanceof File) {\n\t\t\treturn \`\${file.name}-\${Date.now()}-\${Math.random().toString(36).substring(2, 9)}\`;\n\t\t}\n\t\treturn file.id;\n\t}, []);\n\n\tconst clearFiles = useCallback(() => {\n\t\tsetState((prev) => {\n\t\t\t// Clean up object URLs\n\t\t\tprev.files.forEach((file) => {\n\t\t\t\tif (\n\t\t\t\t\tfile.preview &&\n\t\t\t\t\tfile.file instanceof File &&\n\t\t\t\t\tfile.file.type.startsWith(\"image/\")\n\t\t\t\t) {\n\t\t\t\t\tURL.revokeObjectURL(file.preview);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (inputRef.current) {\n\t\t\t\tinputRef.current.value = \"\";\n\t\t\t}\n\n\t\t\tconst newState = {\n\t\t\t\t...prev,\n\t\t\t\tfiles: [],\n\t\t\t\terrors: [],\n\t\t\t};\n\n\t\t\tonFilesChange?.(newState.files);\n\t\t\treturn newState;\n\t\t});\n\t}, [onFilesChange]);\n\n\tconst addFiles = useCallback(\n\t\t(newFiles: FileList | File[]) => {\n\t\t\tif (!newFiles || newFiles.length === 0) return;\n\n\t\t\tconst newFilesArray = Array.from(newFiles);\n\t\t\tconst errors: string[] = [];\n\n\t\t\t// Clear existing errors when new files are uploaded\n\t\t\tsetState((prev) => ({ ...prev, errors: [] }));\n\n\t\t\t// In single file mode, clear existing files first\n\t\t\tif (!multiple) {\n\t\t\t\tclearFiles();\n\t\t\t}\n\n\t\t\t// Check if adding these files would exceed maxFiles (only in multiple mode)\n\t\t\tif (\n\t\t\t\tmultiple &&\n\t\t\t\tmaxFiles !== Infinity &&\n\t\t\t\tstate.files.length + newFilesArray.length > maxFiles\n\t\t\t) {\n\t\t\t\terrors.push(\`You can only upload a maximum of \${maxFiles} files.\`);\n\t\t\t\tsetState((prev) => ({ ...prev, errors }));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst validFiles: FileWithPreview[] = [];\n\n\t\t\tnewFilesArray.forEach((file) => {\n\t\t\t\t// Only check for duplicates if multiple files are allowed\n\t\t\t\tif (multiple) {\n\t\t\t\t\tconst isDuplicate = state.files.some(\n\t\t\t\t\t\t(existingFile) =>\n\t\t\t\t\t\t\texistingFile.file.name === file.name &&\n\t\t\t\t\t\t\texistingFile.file.size === file.size,\n\t\t\t\t\t);\n\n\t\t\t\t\t// Skip duplicate files silently\n\t\t\t\t\tif (isDuplicate) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check file size\n\t\t\t\tif (file.size > maxSize) {\n\t\t\t\t\terrors.push(\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t? \`Some files exceed the maximum size of \${formatBytes(maxSize)}.\`\n\t\t\t\t\t\t\t: \`File exceeds the maximum size of \${formatBytes(maxSize)}.\`,\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst error = validateFile(file);\n\t\t\t\tif (error) {\n\t\t\t\t\terrors.push(error);\n\t\t\t\t} else {\n\t\t\t\t\tvalidFiles.push({\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\tid: generateUniqueId(file),\n\t\t\t\t\t\tpreview: createPreview(file),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Only update state if we have valid files to add\n\t\t\tif (validFiles.length > 0) {\n\t\t\t\t// Call the onFilesAdded callback with the newly added valid files\n\t\t\t\tonFilesAdded?.(validFiles);\n\n\t\t\t\tsetState((prev) => {\n\t\t\t\t\tconst newFiles = !multiple\n\t\t\t\t\t\t? validFiles\n\t\t\t\t\t\t: [...prev.files, ...validFiles];\n\t\t\t\t\tonFilesChange?.(newFiles);\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\tfiles: newFiles,\n\t\t\t\t\t\terrors,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else if (errors.length > 0) {\n\t\t\t\tsetState((prev) => ({\n\t\t\t\t\t...prev,\n\t\t\t\t\terrors,\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\t// Reset input value after handling files\n\t\t\tif (inputRef.current) {\n\t\t\t\tinputRef.current.value = \"\";\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tstate.files,\n\t\t\tmaxFiles,\n\t\t\tmultiple,\n\t\t\tmaxSize,\n\t\t\tvalidateFile,\n\t\t\tcreatePreview,\n\t\t\tgenerateUniqueId,\n\t\t\tclearFiles,\n\t\t\tonFilesChange,\n\t\t\tonFilesAdded,\n\t\t],\n\t);\n\n\tconst removeFile = useCallback(\n\t\t(id: string) => {\n\t\t\tsetState((prev) => {\n\t\t\t\tconst fileToRemove = prev.files.find((file) => file.id === id);\n\t\t\t\tif (\n\t\t\t\t\tfileToRemove?.preview &&\n\t\t\t\t\tfileToRemove.file instanceof File &&\n\t\t\t\t\tfileToRemove.file.type.startsWith(\"image/\")\n\t\t\t\t) {\n\t\t\t\t\tURL.revokeObjectURL(fileToRemove.preview);\n\t\t\t\t}\n\n\t\t\t\tconst newFiles = prev.files.filter((file) => file.id !== id);\n\t\t\t\tonFilesChange?.(newFiles);\n\n\t\t\t\treturn {\n\t\t\t\t\t...prev,\n\t\t\t\t\tfiles: newFiles,\n\t\t\t\t\terrors: [],\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\t[onFilesChange],\n\t);\n\n\tconst clearErrors = useCallback(() => {\n\t\tsetState((prev) => ({\n\t\t\t...prev,\n\t\t\terrors: [],\n\t\t}));\n\t}, []);\n\n\tconst handleDragEnter = useCallback((e: DragEvent<HTMLElement>) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetState((prev) => ({ ...prev, isDragging: true }));\n\t}, []);\n\n\tconst handleDragLeave = useCallback((e: DragEvent<HTMLElement>) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (e.currentTarget.contains(e.relatedTarget as Node)) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetState((prev) => ({ ...prev, isDragging: false }));\n\t}, []);\n\n\tconst handleDragOver = useCallback((e: DragEvent<HTMLElement>) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t}, []);\n\n\tconst handleDrop = useCallback(\n\t\t(e: DragEvent<HTMLElement>) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tsetState((prev) => ({ ...prev, isDragging: false }));\n\n\t\t\t// Don't process files if the input is disabled\n\t\t\tif (inputRef.current?.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n\t\t\t\t// In single file mode, only use the first file\n\t\t\t\tif (!multiple) {\n\t\t\t\t\tconst file = e.dataTransfer.files[0];\n\t\t\t\t\taddFiles([file]);\n\t\t\t\t} else {\n\t\t\t\t\taddFiles(e.dataTransfer.files);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[addFiles, multiple],\n\t);\n\n\tconst handleFileChange = useCallback(\n\t\t(e: ChangeEvent<HTMLInputElement>) => {\n\t\t\tif (e.target.files && e.target.files.length > 0) {\n\t\t\t\taddFiles(e.target.files);\n\t\t\t}\n\t\t},\n\t\t[addFiles],\n\t);\n\n\tconst openFileDialog = useCallback(() => {\n\t\tif (inputRef.current) {\n\t\t\tinputRef.current.click();\n\t\t}\n\t}, []);\n\n\tconst getInputProps = useCallback(\n\t\t(props: InputHTMLAttributes<HTMLInputElement> = {}) => {\n\t\t\treturn {\n\t\t\t\t...props,\n\t\t\t\ttype: \"file\" as const,\n\t\t\t\tonChange: handleFileChange,\n\t\t\t\taccept: props.accept || accept,\n\t\t\t\tmultiple: props.multiple !== undefined ? props.multiple : multiple,\n\t\t\t\tref: inputRef,\n\t\t\t};\n\t\t},\n\t\t[accept, multiple, handleFileChange],\n\t);\n\n\treturn [\n\t\tstate,\n\t\t{\n\t\t\taddFiles,\n\t\t\tremoveFile,\n\t\t\tclearFiles,\n\t\t\tclearErrors,\n\t\t\thandleDragEnter,\n\t\t\thandleDragLeave,\n\t\t\thandleDragOver,\n\t\t\thandleDrop,\n\t\t\thandleFileChange,\n\t\t\topenFileDialog,\n\t\t\tgetInputProps,\n\t\t},\n\t];\n};\n\n// Helper function to format bytes to human-readable format\nexport const formatBytes = (bytes: number, decimals = 2): string => {\n\tif (bytes === 0) return \"0 Bytes\";\n\n\tconst k = 1024;\n\tconst dm = decimals < 0 ? 0 : decimals;\n\tconst sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\n\treturn Number.parseFloat((bytes / k ** i).toFixed(dm)) + sizes[i];\n};\n",
      type: "registry:hook",
    },{
      path: "hooks/useOptionQuery.ts",
      content: "import { createQueryKeys } from \"@lukemorales/query-key-factory\";\nimport { keepPreviousData, useQuery } from \"@tanstack/react-query\";\nimport type { OptionType } from \"@/lib/form-field/form-field\";\n\nexport const useOptionKey = createQueryKeys(\"select-options\", {\n\tname: (name: string, filter: Record<string, unknown>) => [name, filter],\n});\nexport const useOptionQuery = (\n\tfn: OptionType | undefined,\n\tname: string,\n\tfilter?: Record<string, unknown>,\n) => {\n\treturn useQuery({\n\t\tqueryKey: useOptionKey.name(name, { filter, fn: fn?.toString() }).queryKey,\n\t\tqueryFn: async () => (await fn?.()) || [],\n\t\tselect: (data) => [...new Set(data)],\n\t\tstaleTime: 1000 * 60, // 1 minute\n\t\t//   previous data stays\n\t\tplaceholderData: keepPreviousData,\n\t});\n};\n",
      type: "registry:hook",
    },{
      path: "hooks/useDebounceState.tsx",
      content: "import { debounce } from \"lodash-es\";\nimport { useCallback, useState } from \"react\";\n\nexport const useDebounceState = <\n\tT extends string | number | Record<string, unknown> | Array<unknown>,\n>(\n\tinitialValue?: T,\n\twait: number = 500,\n) => {\n\tconst [value, setValue] = useState<T | undefined>(initialValue);\n\tconst handleValueChange = useCallback(debounce(setValue, wait), []);\n\treturn [value, handleValueChange] as const;\n};\n",
      type: "registry:hook",
    },{
      path: "lib/form-field/form.tsx",
      content: "import { DevTool } from \"@hookform/devtools\";\nimport type React from \"react\";\nimport type { Control, FieldValues, FormProviderProps } from \"react-hook-form\";\nimport { Form as F } from \"@/components/ui/form\";\nimport { cn } from \"@/lib/data-table/utils\";\n\nexport const Form = <\n\tTFieldValues extends FieldValues,\n\tTContext = unknown,\n\tTTransformedValues = TFieldValues,\n>({\n\twithDevTools,\n\t...props\n}: FormProviderProps<TFieldValues, TContext, TTransformedValues> & {\n\tonSubmit?: (values: TTransformedValues) => void;\n\tclassName?: string;\n\tchildren: React.ReactNode;\n\twithDevTools?: boolean;\n}) => {\n\treturn (\n\t\t<F {...props}>\n\t\t\t{withDevTools && (\n\t\t\t\t<DevTool control={props.control as Control} placement=\"top-right\" />\n\t\t\t)}\n\t\t\t<form\n\t\t\t\tonSubmit={props.handleSubmit(props.onSubmit || (() => {}), (error) =>\n\t\t\t\t\tconsole.error(error),\n\t\t\t\t)}\n\t\t\t\tclassName={cn(\"grid gap-2\", props.className)}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t</form>\n\t\t</F>\n\t);\n};\n",
      type: "registry:lib",
    },{
      path: "lib/form-field/formItem.tsx",
      content: "import type React from \"react\";\nimport type { FC, PropsWithChildren } from \"react\";\nimport {\n\ttype Control,\n\tController,\n\ttype ControllerRenderProps,\n\ttype FieldPath,\n\ttype FieldValues,\n\ttype UseFormReturn,\n} from \"react-hook-form\";\nimport { ZodObject } from \"zod\";\nimport {\n\tField,\n\tFieldContent,\n\tFieldDescription,\n\tFieldError,\n\tFieldLabel,\n} from \"@/components/ui/field\";\nimport { Form } from \"@/lib/form-field/form\";\nimport type { BaseFieldType } from \"@/lib/form-field/form-field\";\nimport {\n\tbaseClassName,\n\ttype FieldType,\n\tfieldComponents,\n\tfieldVariants,\n\ttype WithProps,\n} from \"@/lib/form-field/registry\";\nimport { cn, formatToTitleCase } from \"@/lib/form-field/utils\";\n\ntype FunctionRenderCase<\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n\trender: React.FC<ControllerRenderProps<TFieldValues, TName>>;\n};\ntype NoRenderCase = {\n\trender?: undefined;\n};\ntype AllPropsOptional<T> = keyof T extends never\n\t? true // handle empty object\n\t: {\n\t\t\t\t[K in keyof T]-?: object extends Pick<T, K> ? true : false;\n\t\t\t}[keyof T] extends true\n\t\t? true\n\t\t: false;\n\ntype KeyedRenderCase<K extends FieldType> = K extends unknown\n\t? {\n\t\t\trender: K;\n\t\t} & (WithProps<K> extends undefined\n\t\t\t? { props?: undefined }\n\t\t\t: AllPropsOptional<WithProps<K>> extends true\n\t\t\t\t? { props?: WithProps<K> }\n\t\t\t\t: { props: WithProps<K> })\n\t: never;\n\ntype RenderType<\n\tTFieldValues extends FieldValues,\n\tTName extends FieldPath<TFieldValues>,\n> =\n\t| NoRenderCase\n\t| FunctionRenderCase<TFieldValues, TName>\n\t| KeyedRenderCase<FieldType>;\n\ninterface FormItemProps<\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> {\n\tcontrol: Control<TFieldValues> | UseFormReturn<TFieldValues>;\n\tname: TName;\n\tdescription?: string;\n\tlabel?: string;\n\tcontainerClassName?: string;\n}\n\nexport type FormItemComponentProps<\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = FormItemProps<TFieldValues, TName> &\n\tRenderType<TFieldValues, TName> & {\n\t\trequired?: boolean;\n\t\tclassName?: {\n\t\t\troot?: string;\n\t\t\tcontent?: string;\n\t\t\tlabel?: string;\n\t\t\tdescription?: string;\n\t\t};\n\t\tnoLabel?: boolean;\n\t} & Omit<BaseFieldType, \"className\">;\n\nconst Component = <T extends FieldValues = FieldValues>({\n\tchildren,\n\tcontrol,\n}: PropsWithChildren<{ control: Control<T> | UseFormReturn<T> }>) => {\n\tif (\"control\" in control) {\n\t\treturn (\n\t\t\t<Form {...control} className={\"w-full\"}>\n\t\t\t\t{children}\n\t\t\t</Form>\n\t\t);\n\t} else {\n\t\treturn children;\n\t}\n};\nconst getDefaultPlaceholder = (\n\trender: FieldType | FC<ControllerRenderProps>,\n\tlabel: string,\n) => {\n\tif (typeof render === \"function\") return \`Enter \${label.toLowerCase()}\`;\n\n\tif ([\"select\", \"dateTime\"].includes(render))\n\t\treturn \`Select \${label.toLowerCase()}\`;\n\n\tif ([\"file\"].includes(render)) return \`Upload or Drop \${label.toLowerCase()}\`;\n\n\treturn \`Enter \${label.toLowerCase()}\`;\n};\n\nexport const FormItem = <\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n\tcontrol,\n\tname,\n\tdescription,\n\tlabel = formatToTitleCase(name),\n\trender = \"text\",\n\tcontainerClassName,\n\n\t// @ts-expect-error type error\n\tplaceholder = getDefaultPlaceholder(render, label),\n\tnoLabel = false,\n\tclassName,\n\trequired = true,\n\t...divProps\n}: FormItemComponentProps<TFieldValues, TName>) => {\n\tconst getProps = () => {\n\t\tif (\"props\" in divProps) {\n\t\t\treturn divProps.props || {};\n\t\t}\n\t};\n\tconst getIsRequired = () => {\n\t\tconst ctrl = \"control\" in control ? control.control : control;\n\t\tconst context = ctrl._options.context as unknown;\n\t\tif (context && typeof context === \"object\" && \"schema\" in context) {\n\t\t\tif (context.schema instanceof ZodObject) {\n\t\t\t\tconst schema = context.schema.shape;\n\t\t\t\tconst field = schema[name as keyof typeof schema];\n\t\t\t\tif (\n\t\t\t\t\tfield &&\n\t\t\t\t\t\"isOptional\" in field &&\n\t\t\t\t\ttypeof field.isOptional === \"function\"\n\t\t\t\t) {\n\t\t\t\t\treturn !field.isOptional();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn required;\n\t};\n\n\tconst isRequired = getIsRequired();\n\n\tconst getInputComponent = (r: FieldType) => {\n\t\treturn fieldComponents[r] || fieldComponents.text;\n\t};\n\n\treturn (\n\t\t<Component control={control}>\n\t\t\t<Controller\n\t\t\t\tcontrol={\"control\" in control ? control.control : control}\n\t\t\t\tname={name}\n\t\t\t\trender={({ field, fieldState }) => {\n\t\t\t\t\tconst InputComponent = (typeof render === \"string\"\n\t\t\t\t\t\t? getInputComponent(render)\n\t\t\t\t\t\t: render) as unknown as React.FC<\n\t\t\t\t\t\tControllerRenderProps<TFieldValues, TName>\n\t\t\t\t\t>;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tdata-invalid={fieldState.invalid}\n\t\t\t\t\t\t\t{...divProps}\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"flex w-full flex-col items-start gap-2\",\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FieldContent\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\"flex w-full flex-col gap-2\",\n\t\t\t\t\t\t\t\t\ttypeof render === \"string\" &&\n\t\t\t\t\t\t\t\t\t\tfieldVariants({ render: render }),\n\t\t\t\t\t\t\t\t\tcontainerClassName,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{noLabel ? null : (\n\t\t\t\t\t\t\t\t\t<FieldLabel\n\t\t\t\t\t\t\t\t\t\tdata-invalid={fieldState.invalid}\n\t\t\t\t\t\t\t\t\t\thtmlFor={field.name}\n\t\t\t\t\t\t\t\t\t\tclassName={\"w-max\"}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{divProps.icon} {formatToTitleCase(label)}{\" \"}\n\t\t\t\t\t\t\t\t\t\t{isRequired ? (\n\t\t\t\t\t\t\t\t\t\t\t<small className={\"text-destructive text-sm\"}>*</small>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<small className={\"text-muted-foreground text-sm\"}>\n\t\t\t\t\t\t\t\t\t\t\t\t(optional)\n\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<InputComponent\n\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t{...getProps()}\n\t\t\t\t\t\t\t\t\t// @ts-expect-error type error\n\t\t\t\t\t\t\t\t\tclassName={cn(baseClassName, getProps()?.className)}\n\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\tid={field.name}\n\t\t\t\t\t\t\t\t\tdata-invalid={fieldState.invalid}\n\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldContent>\n\t\t\t\t\t\t\t{description && (\n\t\t\t\t\t\t\t\t<FieldDescription data-invalid={fieldState.invalid}>\n\t\t\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t\t\t</FieldDescription>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{fieldState.invalid && <FieldError errors={[fieldState.error]} />}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Component>\n\t);\n};\n",
      type: "registry:lib",
    },{
      path: "lib/form-field/registry.ts",
      content: "import { cva } from \"class-variance-authority\";\nimport { BooleanField } from \"@/components/form-field/ui/BooleanField\";\nimport { ComboboxField } from \"@/components/form-field/ui/ComboboxField\";\nimport { CurrencyField } from \"@/components/form-field/ui/CurrencyField\";\nimport { DateTimeField } from \"@/components/form-field/ui/DateTimeField\";\nimport { FileField } from \"@/components/form-field/ui/FileField\";\nimport { NumberField } from \"@/components/form-field/ui/NumberField\";\nimport PasswordField from \"@/components/form-field/ui/PasswordField\";\nimport { SelectField } from \"@/components/form-field/ui/SelectField\";\nimport { SuffixField } from \"@/components/form-field/ui/SuffixField\";\nimport { SuggestInput } from \"@/components/form-field/ui/SuggestField\";\nimport { TextField } from \"@/components/form-field/ui/TextField\";\nimport ToggleGroupComponent from \"@/components/form-field/ui/ToggleGroup\";\nimport { TextAreaField } from \"@/components/form-field/ui/textAreaField\";\nimport type { BaseFieldProps } from \"@/lib/form-field/form-field\";\n\nexport const fieldComponents = {\n\ttext: TextField,\n\tnumber: NumberField,\n\tboolean: BooleanField,\n\tsuffix: SuffixField,\n\tfile: FileField,\n\tselect: SelectField,\n\ttextArea: TextAreaField,\n\tsuggest: SuggestInput,\n\tdateTime: DateTimeField,\n\tcombobox: ComboboxField,\n\ttoggle: ToggleGroupComponent,\n\tcurrency: CurrencyField,\n\tpassword: PasswordField,\n} as const;\n\nexport const baseClassName =\n\t\"!bg-input/30 placeholder:!text-primary !text-primary\";\n\ntype FieldComponents = typeof fieldComponents;\ntype keyofFieldComponents = keyof FieldComponents;\n\nexport type fallBackType = {\n\tdisabled?: boolean;\n\tclassName?: string;\n};\n\nexport type WithProps<T extends keyofFieldComponents> =\n\tFieldComponents[T] extends React.FC<infer P>\n\t\t? Omit<P, keyof BaseFieldProps> extends Record<string, never>\n\t\t\t? fallBackType\n\t\t\t: Omit<P, keyof BaseFieldProps> & fallBackType\n\t\t: never;\n\nexport type FieldType = keyof typeof fieldComponents;\n\nexport const fieldVariants = cva<{\n\trender: Partial<Record<FieldType, string>>;\n}>(\"flex gap-2 flex-col bg-transparent\", {\n\tvariants: {\n\t\trender: {\n\t\t\tboolean:\n\t\t\t\t\"flex items-center rounded-md border p-2 mt-5.5 justify-end flex-row-reverse space-x-2\",\n\t\t},\n\t},\n});\n",
      type: "registry:lib",
    },{
      path: "lib/form-field/utils.tsx",
      content: "import { type ClassValue, clsx } from \"clsx\";\nimport type React from \"react\";\nimport type { ReactNode } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\nimport { Button } from \"@/components/form-field/ui/button\";\n\nexport function cn(...inputs: ClassValue[]) {\n\treturn twMerge(clsx(inputs));\n}\n\nexport function createSyntheticInputChange(\n\tname: string,\n\tvalue: unknown,\n): React.ChangeEvent<HTMLInputElement> {\n\tconst target = {\n\t\tname,\n\t\tvalue,\n\t} as EventTarget & HTMLInputElement;\n\n\treturn {\n\t\ttarget,\n\t\tcurrentTarget: target,\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tdefaultPrevented: false,\n\t\teventPhase: 3,\n\t\tisTrusted: true,\n\t\tnativeEvent: {} as Event,\n\t\tpreventDefault: () => {},\n\t\tisDefaultPrevented: () => false,\n\t\tstopPropagation: () => {},\n\t\tisPropagationStopped: () => false,\n\t\tpersist: () => {},\n\t\ttimeStamp: Date.now(),\n\t\ttype: \"change\",\n\t};\n}\n\nexport const generateFormItems = (\n\tzodSchema: Record<\"shape\", Record<string, unknown>>,\n\tinclude: {\n\t\tform?: boolean;\n\t\tbutton?: boolean;\n\t},\n): ReactNode => {\n\tconst str = () => {\n\t\tlet str: string = \"\";\n\t\tif (include.form) {\n\t\t\tstr += \`<Form {...form}>\`;\n\t\t}\n\t\tstr = Object.keys(zodSchema.shape).reduce((acc, curr) => {\n\t\t\tacc += \`<FormItem control={form.control} name={'\${curr}'} label={'\${formatToTitleCase(curr)}'} render={'text'} /> \`;\n\t\t\treturn acc;\n\t\t}, \"\");\n\t\tif (include.button) {\n\t\t\tstr += \`<Button isLoading={DEMO.isPending} type={'submit'} className={cn('w-max col-span-full')}>Submit</Button>\`;\n\t\t}\n\t\tif (include.form) {\n\t\t\tstr += \`</Form>\`;\n\t\t}\n\t\treturn str;\n\t};\n\n\treturn (\n\t\t<div className={\"grid gap-4\"}>\n\t\t\t<Button\n\t\t\t\ttype={\"button\"}\n\t\t\t\tonClick={() => navigator.clipboard.writeText(str())}\n\t\t\t>\n\t\t\t\tCopy Form Items\n\t\t\t</Button>\n\t\t\t<pre className={\"rounded-md bg-muted/50 p-2\"}>\n\t\t\t\t<code>{JSON.stringify(str(), null, 2)}</code>\n\t\t\t</pre>\n\t\t</div>\n\t);\n};\n\nexport function formatToTitleCase(input: string): string {\n\tconst words = input\n\t\t// Replace underscores with spaces\n\t\t.replace(/_/g, \" \")\n\t\t// Split camelCase by inserting a space before uppercase letters\n\t\t.replace(/([a-z])([A-Z])/g, \"$1 $2\")\n\t\t.split(\" \");\n\n\treturn words\n\t\t.map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n\t\t.join(\" \");\n}\n",
      type: "registry:lib",
    },{
      path: "lib/form-field/file-storage.ts",
      content: "export async function getFile(fileId: string): Promise<File> {\n\tif (!fileId) return new File([], \"\");\n\treturn new File([], fileId);\n}\n\nexport const getPublicFileUrl = async (\n\tfileId: string | undefined | null,\n): Promise<string> => {\n\tif (!fileId) return \"\";\n\tthrow new Error(\"Not implemented\");\n};\n\nexport const createBucket = async (name: string): Promise<string> => {\n\tif (!name) return \"\";\n\tthrow new Error(\"Not implemented\");\n};\n\n/**\n * Generates a unique filename for upload\n */\nexport const generateUniqueFileName = (\n\tfile: File,\n\tdirectory: string,\n): string => {\n\tif (!file) return \"\";\n\tconst originalName = file.name.replace(/\\s+/g, \"_\");\n\treturn \`db_\${directory}_\${originalName}\`;\n};\n\nexport const uploadBatchFiles = async (\n\tfiles: (File | undefined)[] | undefined,\n\tdirectory: string,\n): Promise<string[] | undefined> => {\n\tif (!files || files.length === 0) return;\n\n\t// Upload each file with retries\n\tconst uploadPromises = files.map(async (file) => {\n\t\tconst data = await uploadFile(file, directory);\n\t\tif (!data) throw new Error(\`Unable to upload file : \${file?.name}\`);\n\t\treturn data;\n\t});\n\n\treturn Promise.all(uploadPromises);\n};\n\n/**\n * Uploads a file to storage with automatic retry for name conflicts\n */\nconst uploadFile = async (\n\tfile: File | undefined,\n\tdirectory: string,\n): Promise<string | undefined> => {\n\tthrow new Error(\"Not implemented\", { cause: file + directory });\n};\n\nconst deleteFile = async (fileId: string): Promise<void> => {\n\tthrow new Error(\"Not implemented\", { cause: fileId });\n};\n\nexport { deleteFile, uploadFile };\n",
      type: "registry:lib",
    },{
      path: "lib/form-field/zod-schemas/file.tsx",
      content: "import { z } from \"zod\";\n\nexport const file = z.object({\n\tfile: z.instanceof(File).optional(),\n\tid: z.string().optional(),\n\tpreview: z.string().optional(),\n});\n\nexport const oneOrManyFile = z.union([file, z.array(file)]).optional();\nexport type OneOrManyFile = z.infer<typeof oneOrManyFile>;\n",
      type: "registry:lib",
    },{
      path: "lib/form-field/form-field.ts",
      content: "import type { JSX, ReactNode } from \"react\";\nimport type {\n\tControllerRenderProps,\n\tFieldPath,\n\tFieldValues,\n} from \"react-hook-form\";\n\nexport type baseOption = {\n\tlabel: string;\n\twrapperFn?: (props: Omit<baseOption, \"wrapperFn\">) => ReactNode;\n\tvalue: string;\n\ticon?: React.FC<React.SVGProps<SVGSVGElement>>;\n};\nexport type Options = Promise<baseOption[]> | baseOption[];\nexport type OptionType = (q?: string) => Options;\n\nexport type BaseFieldType = {\n\tlabel?: string;\n\tplaceholder?: string;\n\ticon?: JSX.Element;\n\tclassName?: string;\n};\n\nexport type BaseFieldProps<\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = ControllerRenderProps<TFieldValues, TName> & BaseFieldType;\n\nexport interface SelectFieldData {\n\tvalue: string;\n\tlabel: string;\n}\n",
      type: "registry:lib",
    },{
      path: "components/form-field/ui/button.tsx",
      content: "import { Slot } from \"@radix-ui/react-slot\";\nimport type { VariantProps } from \"class-variance-authority\";\nimport { cva } from \"class-variance-authority\";\nimport { Loader2 } from \"lucide-react\";\nimport type * as React from \"react\";\nimport type { JSX } from \"react\";\nimport { cn } from \"@/lib/form-field/utils\";\n\nconst buttonVariants = cva(\n\t\"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all justify-center disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4  shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault:\n\t\t\t\t\t\"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n\t\t\t\tdestructive:\n\t\t\t\t\t\"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n\t\t\t\toutline:\n\t\t\t\t\t\"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n\t\t\t\tsecondary:\n\t\t\t\t\t\"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n\t\t\t\tghost:\n\t\t\t\t\t\"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n\t\t\t\tlink: \"text-primary underline-offset-4 hover:underline\",\n\t\t\t\tsuccess:\n\t\t\t\t\t\"bg-success text-success-foreground shadow-xs hover:bg-success/90 focus-visible:ring-success/20 dark:focus-visible:ring-success/40 dark:bg-success/60\",\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tdefault: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n\t\t\t\tsm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n\t\t\t\txs: \"h-7 rounded-md gap-1 px-2 has-[>svg]:px-1.5 text-sm\",\n\t\t\t\txs2: \"h-6 rounded-md gap-1 px-2 has-[>svg]:px-1 text-sm\",\n\t\t\t\tlg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n\t\t\t\ticon: \"size-9\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t\tsize: \"default\",\n\t\t},\n\t},\n);\n\nfunction Button({\n\tclassName,\n\tvariant,\n\tsize,\n\tasChild = false,\n\tisLoading = false,\n\tchildren,\n\ticon,\n\n\t...props\n}: React.ComponentProps<\"button\"> &\n\tVariantProps<typeof buttonVariants> & {\n\t\tasChild?: boolean;\n\t\tisLoading?: boolean;\n\t\ticon?: JSX.Element;\n\t}) {\n\tconst Comp = asChild ? Slot : \"button\";\n\n\treturn (\n\t\t<Comp\n\t\t\tdata-slot=\"button\"\n\t\t\tclassName={cn(\n\t\t\t\tbuttonVariants({\n\t\t\t\t\tvariant,\n\t\t\t\t\tsize,\n\t\t\t\t\tclassName,\n\t\t\t\t}),\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{isLoading ? <Loader2 className={cn(\"animate-spin\")} /> : icon}\n\t\t\t{children}\n\t\t</Comp>\n\t);\n}\n\nexport { Button, buttonVariants };\n",
      type: "registry:component",
    },{
      path: "components/form-field/ui/badge.tsx",
      content: "import { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\n\nimport { cn } from \"@/lib/form-field/utils\";\n\nconst badgeVariants = cva(\n\t\"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault:\n\t\t\t\t\t\"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n\t\t\t\tsecondary:\n\t\t\t\t\t\"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n\t\t\t\tdestructive:\n\t\t\t\t\t\"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n\t\t\t\toutline:\n\t\t\t\t\t\"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n\t\t\t\tsuccess:\n\t\t\t\t\t\"bg-success text-success-foreground shadow-xs hover:bg-success/90 focus-visible:ring-success/20 dark:focus-visible:ring-success/40 dark:bg-success/60\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t},\n\t},\n);\n\nfunction Badge({\n\tclassName,\n\tvariant,\n\tasChild = false,\n\t...props\n}: React.ComponentProps<\"span\"> &\n\tVariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n\tconst Comp = asChild ? Slot : \"span\";\n\n\treturn (\n\t\t<Comp\n\t\t\tdata-slot=\"badge\"\n\t\t\tclassName={cn(badgeVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Badge, badgeVariants };\n",
      type: "registry:component",
    },{
      path: "lib/provider.tsx",
      content: "\"use client\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\";\nimport { NuqsAdapter } from \"nuqs/adapters/next/app\";\nimport type React from \"react\";\nimport type { PropsWithChildren } from \"react\";\nimport { toast } from \"sonner\";\nimport { Toaster } from \"@/components/ui/sonner\";\n\nconst getKnownError = (error: Error) => {\n\tif (error.message.includes(\"product_batch_quantity_remaining_check\")) {\n\t\treturn \"Not enough product in stock\";\n\t}\n\tif (error.message.includes(\"unique_session_item\")) {\n\t\treturn \"This item is already in the cart for this session. Please edit the item from the cart.\";\n\t}\n\treturn error.message;\n};\n\nconst queryClient = new QueryClient({\n\tdefaultOptions: {\n\t\tqueries: {\n\t\t\trefetchOnWindowFocus: true,\n\t\t\trefetchOnMount: true,\n\t\t\trefetchOnReconnect: true,\n\t\t\tretry: false,\n\t\t\tstaleTime: 1000 * 60 * 5, // 5 minutes\n\t\t},\n\t\tmutations: {\n\t\t\tretry: false,\n\t\t\tonError: (error) => {\n\t\t\t\tconst message = getKnownError(error);\n\t\t\t\ttoast.error(message);\n\t\t\t},\n\t\t},\n\t},\n});\nexport const Provider: React.FC<PropsWithChildren> = ({ children }) => {\n\treturn (\n\t\t<NuqsAdapter>\n\t\t\t<QueryClientProvider client={queryClient}>\n\t\t\t\t<Toaster richColors={true} />\n\t\t\t\t{children}\n\t\t\t\t<ReactQueryDevtools initialIsOpen={false} />\n\t\t\t</QueryClientProvider>\n\t\t</NuqsAdapter>\n\t);\n};\n",
      type: "registry:component",
    }],
  },
  "data-table": {
    name: "data-table",
    description: "A set of reusable data table components, filters, view options, pagination, skeletons, and utilities.",
    type: "registry:component",
    files: [{
      path: "components/data-table/data-table.tsx",
      content: "import { flexRender, type Table as TanstackTable } from \"@tanstack/react-table\";\nimport type React from \"react\";\n\nimport { DataTablePagination } from \"@/components/data-table/data-table-pagination\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { cn, getCommonPinningStyles } from \"@/lib/data-table/utils\";\n\ninterface DataTableProps<TData> extends React.ComponentProps<\"div\"> {\n\ttable: TanstackTable<TData>;\n\tactionBar?: React.ReactNode;\n\tcellHeight?: string;\n\tshowPagination?: boolean;\n}\n\nexport function DataTable<TData>({\n\ttable,\n\tactionBar,\n\tchildren,\n\tclassName,\n\tcellHeight = \"h-20\",\n\tshowPagination = true,\n\t...props\n}: DataTableProps<TData>) {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\"flex w-full flex-col gap-2.5 overflow-auto\", className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t\t<div className=\"overflow-hidden rounded-md border\">\n\t\t\t\t<Table>\n\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t{table.getHeaderGroups().map((headerGroup) => (\n\t\t\t\t\t\t\t<TableRow key={headerGroup.id}>\n\t\t\t\t\t\t\t\t{headerGroup.headers.map((header) => (\n\t\t\t\t\t\t\t\t\t<TableHead\n\t\t\t\t\t\t\t\t\t\tkey={header.id}\n\t\t\t\t\t\t\t\t\t\tcolSpan={header.colSpan}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t...getCommonPinningStyles({ column: header.column }),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{header.isPlaceholder\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t: flexRender(\n\t\t\t\t\t\t\t\t\t\t\t\t\theader.column.columnDef.header,\n\t\t\t\t\t\t\t\t\t\t\t\t\theader.getContext(),\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableHeader>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{table.getRowModel().rows?.length ? (\n\t\t\t\t\t\t\ttable.getRowModel().rows.map((row) => (\n\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\tkey={row.id}\n\t\t\t\t\t\t\t\t\tdata-state={row.getIsSelected() && \"selected\"}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{row.getVisibleCells().map((cell) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\tkey={cell.id}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cellHeight}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t...getCommonPinningStyles({ column: cell.column }),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{flexRender(\n\t\t\t\t\t\t\t\t\t\t\t\tcell.column.columnDef.cell,\n\t\t\t\t\t\t\t\t\t\t\t\tcell.getContext(),\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\tcolSpan={table.getAllColumns().length}\n\t\t\t\t\t\t\t\t\tclassName=\"h-24 text-center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNo results.\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t\t<div className=\"flex flex-col justify-end gap-2.5\">\n\t\t\t\t{showPagination && <DataTablePagination table={table} />}\n\t\t\t\t{actionBar &&\n\t\t\t\t\ttable.getFilteredSelectedRowModel().rows.length > 0 &&\n\t\t\t\t\tactionBar}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-column-header.tsx",
      content: "\"use client\";\n\nimport type { Column } from \"@tanstack/react-table\";\nimport {\n\tChevronDown,\n\tChevronsUpDown,\n\tChevronUp,\n\tEyeOff,\n\tX,\n} from \"lucide-react\";\nimport type React from \"react\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuCheckboxItem,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { cn } from \"@/lib/data-table/utils\";\n\ninterface DataTableColumnHeaderProps<TData, TValue>\n\textends React.ComponentProps<typeof DropdownMenuTrigger> {\n\tcolumn: Column<TData, TValue>;\n\ttitle: string;\n}\nexport function DataTableColumnHeader<TData, TValue>({\n\tcolumn,\n\ttitle,\n\tclassName,\n\t...props\n}: DataTableColumnHeaderProps<TData, TValue>) {\n\tif (!column.getCanSort() && !column.getCanHide()) {\n\t\treturn <div className={cn(className)}>{title}</div>;\n\t}\n\n\treturn (\n\t\t<DropdownMenu>\n\t\t\t<DropdownMenuTrigger\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"-ml-1.5 flex h-8 items-center gap-1.5 rounded-md px-2 py-1.5 hover:bg-accent focus:outline-none focus:ring-1 focus:ring-ring data-[state=open]:bg-accent [&_svg]:size-4 [&_svg]:shrink-0 [&_svg]:text-muted-foreground\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{title}\n\t\t\t\t{column.getCanSort() &&\n\t\t\t\t\t(column.getIsSorted() === \"desc\" ? (\n\t\t\t\t\t\t<ChevronDown />\n\t\t\t\t\t) : column.getIsSorted() === \"asc\" ? (\n\t\t\t\t\t\t<ChevronUp />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ChevronsUpDown />\n\t\t\t\t\t))}\n\t\t\t</DropdownMenuTrigger>\n\t\t\t<DropdownMenuContent align=\"start\" className=\"w-28\">\n\t\t\t\t{column.getCanSort() && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<DropdownMenuCheckboxItem\n\t\t\t\t\t\t\tclassName=\"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground\"\n\t\t\t\t\t\t\tchecked={column.getIsSorted() === \"asc\"}\n\t\t\t\t\t\t\tonClick={() => column.toggleSorting(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ChevronUp />\n\t\t\t\t\t\t\tAsc\n\t\t\t\t\t\t</DropdownMenuCheckboxItem>\n\t\t\t\t\t\t<DropdownMenuCheckboxItem\n\t\t\t\t\t\t\tclassName=\"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground\"\n\t\t\t\t\t\t\tchecked={column.getIsSorted() === \"desc\"}\n\t\t\t\t\t\t\tonClick={() => column.toggleSorting(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ChevronDown />\n\t\t\t\t\t\t\tDesc\n\t\t\t\t\t\t</DropdownMenuCheckboxItem>\n\t\t\t\t\t\t{column.getIsSorted() && (\n\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\tclassName=\"pl-2 [&_svg]:text-muted-foreground\"\n\t\t\t\t\t\t\t\tonClick={() => column.clearSorting()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<X />\n\t\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{column.getCanHide() && (\n\t\t\t\t\t<DropdownMenuCheckboxItem\n\t\t\t\t\t\tclassName=\"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground\"\n\t\t\t\t\t\tchecked={!column.getIsVisible()}\n\t\t\t\t\t\tonClick={() => column.toggleVisibility(false)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<EyeOff />\n\t\t\t\t\t\tHide\n\t\t\t\t\t</DropdownMenuCheckboxItem>\n\t\t\t\t)}\n\t\t\t</DropdownMenuContent>\n\t\t</DropdownMenu>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-date-filter.tsx",
      content: "\"use client\";\n\nimport type { Column } from \"@tanstack/react-table\";\nimport { CalendarIcon, XCircle } from \"lucide-react\";\nimport * as React from \"react\";\nimport type { DateRange } from \"react-day-picker\";\n\nimport { Button, buttonVariants } from \"@/components/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { formatDate } from \"@/lib/data-table/config/format\";\n\ntype DateSelection = Date[] | DateRange;\n\nfunction getIsDateRange(value: DateSelection): value is DateRange {\n\treturn value && typeof value === \"object\" && !Array.isArray(value);\n}\nfunction parseAsDate(timestamp: number | string | undefined): Date | undefined {\n\tif (!timestamp) return undefined;\n\tconst numericTimestamp =\n\t\ttypeof timestamp === \"string\" ? Number(timestamp) : timestamp;\n\tconst date = new Date(numericTimestamp);\n\treturn !Number.isNaN(date.getTime()) ? date : undefined;\n}\n\nfunction parseColumnFilterValue(value: unknown) {\n\tif (value === null || value === undefined) {\n\t\treturn [];\n\t}\n\n\tif (Array.isArray(value)) {\n\t\treturn value.map((item) => {\n\t\t\tif (typeof item === \"number\" || typeof item === \"string\") {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\tif (typeof value === \"string\" || typeof value === \"number\") {\n\t\treturn [value];\n\t}\n\n\treturn [];\n}\n\ninterface DataTableDateFilterProps<TData> {\n\tcolumn: Column<TData, unknown>;\n\ttitle?: string;\n\tmultiple?: boolean;\n}\n\nexport function DataTableDateFilter<TData>({\n\tcolumn,\n\ttitle,\n\tmultiple,\n}: DataTableDateFilterProps<TData>) {\n\tconst columnFilterValue = column.getFilterValue();\n\n\tconst selectedDates = React.useMemo<DateSelection>(() => {\n\t\tif (!columnFilterValue) {\n\t\t\treturn multiple ? { from: undefined, to: undefined } : [];\n\t\t}\n\n\t\tif (multiple) {\n\t\t\tconst timestamps = parseColumnFilterValue(columnFilterValue);\n\t\t\treturn {\n\t\t\t\tfrom: parseAsDate(timestamps[0]),\n\t\t\t\tto: parseAsDate(timestamps[1]),\n\t\t\t};\n\t\t}\n\n\t\tconst timestamps = parseColumnFilterValue(columnFilterValue);\n\t\tconst date = parseAsDate(timestamps[0]);\n\t\treturn date ? [date] : [];\n\t}, [columnFilterValue, multiple]);\n\n\tconst onSelect = React.useCallback(\n\t\t(date: Date | DateRange | undefined) => {\n\t\t\tif (!date) {\n\t\t\t\tcolumn.setFilterValue(undefined);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (multiple && !(\"getTime\" in date)) {\n\t\t\t\tconst from = date.from?.getTime();\n\t\t\t\tconst to = date.to?.getTime();\n\t\t\t\tcolumn.setFilterValue(from || to ? [from, to] : undefined);\n\t\t\t} else if (!multiple && \"getTime\" in date) {\n\t\t\t\tcolumn.setFilterValue(date.getTime());\n\t\t\t}\n\t\t},\n\t\t[column, multiple],\n\t);\n\n\tconst onReset = React.useCallback(\n\t\t(event: React.MouseEvent) => {\n\t\t\tevent.stopPropagation();\n\t\t\tcolumn.setFilterValue(undefined);\n\t\t},\n\t\t[column],\n\t);\n\n\tconst hasValue = React.useMemo(() => {\n\t\tif (multiple) {\n\t\t\tif (!getIsDateRange(selectedDates)) return false;\n\t\t\treturn selectedDates.from || selectedDates.to;\n\t\t}\n\t\tif (!Array.isArray(selectedDates)) return false;\n\t\treturn selectedDates.length > 0;\n\t}, [multiple, selectedDates]);\n\n\tconst formatDateRange = React.useCallback((range: DateRange) => {\n\t\tif (!range.from && !range.to) return \"\";\n\t\tif (range.from && range.to) {\n\t\t\treturn \`\${formatDate(range.from)} - \${formatDate(range.to)}\`;\n\t\t}\n\t\treturn formatDate(range.from ?? range.to);\n\t}, []);\n\n\tconst label = React.useMemo(() => {\n\t\tif (multiple) {\n\t\t\tif (!getIsDateRange(selectedDates)) return null;\n\n\t\t\tconst hasSelectedDates = selectedDates.from || selectedDates.to;\n\t\t\tconst dateText = hasSelectedDates\n\t\t\t\t? formatDateRange(selectedDates)\n\t\t\t\t: \"Select date range\";\n\n\t\t\treturn (\n\t\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t\t<span>{title}</span>\n\t\t\t\t\t{hasSelectedDates && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\tclassName=\"mx-0.5 data-[orientation=vertical]:h-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>{dateText}</span>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tif (getIsDateRange(selectedDates)) return null;\n\n\t\tconst hasSelectedDate = selectedDates.length > 0;\n\t\tconst dateText = hasSelectedDate\n\t\t\t? formatDate(selectedDates[0])\n\t\t\t: \"Select date\";\n\n\t\treturn (\n\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t<span>{title}</span>\n\t\t\t\t{hasSelectedDate && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\tclassName=\"mx-0.5 data-[orientation=vertical]:h-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>{dateText}</span>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t);\n\t}, [selectedDates, multiple, formatDateRange, title]);\n\n\treturn (\n\t\t<Popover>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<div\n\t\t\t\t\tclassName={buttonVariants({\n\t\t\t\t\t\tvariant: \"outline\",\n\t\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\t\tclassName: \"border-dashed\",\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{hasValue ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-label={\`Clear \${title} filter\`}\n\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t\t\tclassName=\"rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XCircle />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CalendarIcon />\n\t\t\t\t\t)}\n\t\t\t\t\t{label}\n\t\t\t\t</div>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent className=\"w-auto p-0\" align=\"start\">\n\t\t\t\t{multiple ? (\n\t\t\t\t\t<Calendar\n\t\t\t\t\t\tinitialFocus\n\t\t\t\t\t\tmode=\"range\"\n\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\tgetIsDateRange(selectedDates)\n\t\t\t\t\t\t\t\t? selectedDates\n\t\t\t\t\t\t\t\t: { from: undefined, to: undefined }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<Calendar\n\t\t\t\t\t\tinitialFocus\n\t\t\t\t\t\tmode=\"single\"\n\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\t!getIsDateRange(selectedDates) ? selectedDates[0] : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-advance-date-filter.tsx",
      content: "\"use client\";\n\nimport type { Column } from \"@tanstack/react-table\";\nimport { CalendarIcon, XCircle } from \"lucide-react\";\nimport * as React from \"react\";\nimport type { DateRange } from \"react-day-picker\";\n\nimport { Button, buttonVariants } from \"@/components/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { formatDate } from \"@/lib/data-table/config/format\";\n\ntype DateSelection = Date[] | DateRange;\n\nfunction getIsDateRange(value: DateSelection): value is DateRange {\n  return value && typeof value === \"object\" && !Array.isArray(value);\n}\nfunction parseAsDate(timestamp: number | string | undefined): Date | undefined {\n  if (!timestamp) return undefined;\n  const numericTimestamp =\n    typeof timestamp === \"string\" ? Number(timestamp) : timestamp;\n  const date = new Date(numericTimestamp);\n  return !Number.isNaN(date.getTime()) ? date : undefined;\n}\n\nfunction parseColumnFilterValue(value: unknown) {\n  if (value === null || value === undefined) {\n    return [];\n  }\n\n  if (Array.isArray(value)) {\n    return value.map((item) => {\n      if (typeof item === \"number\" || typeof item === \"string\") {\n        return item;\n      }\n      return undefined;\n    });\n  }\n\n  if (typeof value === \"string\" || typeof value === \"number\") {\n    return [value];\n  }\n\n  return [];\n}\n\ninterface DataTableDateFilterProps<TData> {\n  column: Column<TData, unknown>;\n  title?: string;\n  multiple?: boolean;\n}\n\nexport function DataTableAdvanceDateFilter<TData>({\n  column,\n  title,\n  multiple,\n}: DataTableDateFilterProps<TData>) {\n  const columnFilterValue = column.getFilterValue();\n\n  const selectedDates = React.useMemo<DateSelection>(() => {\n    if (!columnFilterValue) {\n      return multiple ? { from: undefined, to: undefined } : [];\n    }\n\n    if (multiple) {\n      const timestamps = parseColumnFilterValue(columnFilterValue);\n      return {\n        from: parseAsDate(timestamps[0]),\n        to: parseAsDate(timestamps[1]),\n      };\n    }\n\n    const timestamps = parseColumnFilterValue(columnFilterValue);\n    const date = parseAsDate(timestamps[0]);\n    return date ? [date] : [];\n  }, [columnFilterValue, multiple]);\n\n  const onSelect = React.useCallback(\n    (date: Date | DateRange | undefined) => {\n      if (!date) {\n        column.setFilterValue(undefined);\n        return;\n      }\n\n      if (multiple && !(\"getTime\" in date)) {\n        const from = date.from?.getTime();\n        const to = date.to?.getTime();\n        column.setFilterValue(from || to ? [from, to] : undefined);\n      } else if (!multiple && \"getTime\" in date) {\n        column.setFilterValue(date.getTime());\n      }\n    },\n    [column, multiple],\n  );\n\n  const onReset = React.useCallback(\n    (event: React.MouseEvent) => {\n      event.stopPropagation();\n      column.setFilterValue(undefined);\n    },\n    [column],\n  );\n\n  const hasValue = React.useMemo(() => {\n    if (multiple) {\n      if (!getIsDateRange(selectedDates)) return false;\n      return selectedDates.from || selectedDates.to;\n    }\n    if (!Array.isArray(selectedDates)) return false;\n    return selectedDates.length > 0;\n  }, [multiple, selectedDates]);\n\n  const formatDateRange = React.useCallback((range: DateRange) => {\n    if (!range.from && !range.to) return \"\";\n    if (range.from && range.to) {\n      return \`\${formatDate(range.from)} - \${formatDate(range.to)}\`;\n    }\n    return formatDate(range.from ?? range.to);\n  }, []);\n\n  const label = React.useMemo(() => {\n    if (multiple) {\n      if (!getIsDateRange(selectedDates)) return null;\n\n      const hasSelectedDates = selectedDates.from || selectedDates.to;\n      const dateText = hasSelectedDates\n        ? formatDateRange(selectedDates)\n        : \"Select date range\";\n\n      return (\n        <span className=\"flex items-center gap-2\">\n          <span>{title}</span>\n          {hasSelectedDates && (\n            <>\n              <Separator\n                orientation=\"vertical\"\n                className=\"mx-0.5 data-[orientation=vertical]:h-4\"\n              />\n              <span>{dateText}</span>\n            </>\n          )}\n        </span>\n      );\n    }\n\n    if (getIsDateRange(selectedDates)) return null;\n\n    const hasSelectedDate = selectedDates.length > 0;\n    const dateText = hasSelectedDate\n      ? formatDate(selectedDates[0])\n      : \"Select date\";\n\n    return (\n      <span className=\"flex items-center gap-2\">\n        <span>{title}</span>\n        {hasSelectedDate && (\n          <>\n            <Separator\n              orientation=\"vertical\"\n              className=\"mx-0.5 data-[orientation=vertical]:h-4\"\n            />\n            <span>{dateText}</span>\n          </>\n        )}\n      </span>\n    );\n  }, [selectedDates, multiple, formatDateRange, title]);\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <div\n          className={buttonVariants({\n            variant: \"outline\",\n            size: \"sm\",\n            className: \"border-dashed\",\n          })}\n        >\n          {hasValue ? (\n            <Button\n              role=\"button\"\n              aria-label={\`Clear \${title} filter\`}\n              tabIndex={0}\n              onClick={onReset}\n              className=\"rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n            >\n              <XCircle />\n            </Button>\n          ) : (\n            <CalendarIcon />\n          )}\n          {label}\n        </div>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-auto p-0\" align=\"start\">\n        {multiple ? (\n          <Calendar\n            initialFocus\n            mode=\"range\"\n            selected={\n              getIsDateRange(selectedDates)\n                ? selectedDates\n                : { from: undefined, to: undefined }\n            }\n            onSelect={onSelect}\n          />\n        ) : (\n          <Calendar\n            initialFocus\n            mode=\"single\"\n            selected={\n              !getIsDateRange(selectedDates) ? selectedDates[0] : undefined\n            }\n            onSelect={onSelect}\n          />\n        )}\n      </PopoverContent>\n    </Popover>\n  );\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-faceted-filter.tsx",
      content: "\"use client\";\n\nimport { createQueryKeys } from \"@lukemorales/query-key-factory\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Column } from \"@tanstack/react-table\";\nimport { CommandLoading } from \"cmdk\";\nimport { Check, PlusCircle, XCircle } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Badge } from \"@/components/data-table/badge\";\nimport { Button, buttonVariants } from \"@/components/data-table/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandInput,\n\tCommandItem,\n\tCommandList,\n\tCommandSeparator,\n} from \"@/components/ui/command\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport type { baseOption, OptionType } from \"@/lib/data-table/types/data-table\";\nimport { cn } from \"@/lib/utils\";\n\ninterface DataTableFacetedFilterProps<TData, TValue> {\n\tcolumn?: Column<TData, TValue>;\n\ttitle?: string;\n\toptionsFn: OptionType | undefined;\n\tmultiple?: boolean;\n}\nconst key = createQueryKeys(\"data-table-faceted-filter-options\", {\n\tid: (\n\t\tid: string | undefined,\n\t\ttitle: string | undefined,\n\t\topts: Record<string, unknown>,\n\t) => [id, title, opts],\n});\n\nexport function DataTableFacetedFilter<TData, TValue>({\n\tcolumn,\n\ttitle,\n\toptionsFn,\n\tmultiple,\n}: DataTableFacetedFilterProps<TData, TValue>) {\n\tconst [open, setOpen] = React.useState(false);\n\n\tconst options = useQuery({\n\t\tqueryKey: key.id(column?.id, title, { optionsFn: optionsFn?.toString() })\n\t\t\t.queryKey,\n\t\tqueryFn: async () => {\n\t\t\treturn (await optionsFn?.()) || [];\n\t\t},\n\t});\n\n\tconst columnFilterValue = column?.getFilterValue();\n\tconst selectedValues = new Set(\n\t\tArray.isArray(columnFilterValue) ? columnFilterValue : [],\n\t);\n\n\tconst onItemSelect = React.useCallback(\n\t\t(option: baseOption, isSelected: boolean) => {\n\t\t\tif (!column) return;\n\n\t\t\tif (multiple) {\n\t\t\t\tconst newSelectedValues = new Set(selectedValues);\n\t\t\t\tif (isSelected) {\n\t\t\t\t\tnewSelectedValues.delete(option.value);\n\t\t\t\t} else {\n\t\t\t\t\tnewSelectedValues.add(option.value);\n\t\t\t\t}\n\t\t\t\tconst filterValues = Array.from(newSelectedValues);\n\t\t\t\tcolumn.setFilterValue(filterValues.length ? filterValues : undefined);\n\t\t\t} else {\n\t\t\t\tcolumn.setFilterValue(isSelected ? undefined : [option.value]);\n\t\t\t\tsetOpen(false);\n\t\t\t}\n\t\t},\n\t\t[column, multiple, selectedValues],\n\t);\n\n\tconst onReset = React.useCallback(\n\t\t(event?: React.MouseEvent) => {\n\t\t\tevent?.stopPropagation();\n\t\t\tcolumn?.setFilterValue(undefined);\n\t\t},\n\t\t[column],\n\t);\n\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<div\n\t\t\t\t\tclassName={buttonVariants({\n\t\t\t\t\t\tvariant: \"outline\",\n\t\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\t\tclassName: \"border-dashed\",\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{selectedValues?.size > 0 ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-label={\`Clear \${title} filter\`}\n\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t\t\tclassName=\"rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XCircle />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PlusCircle />\n\t\t\t\t\t)}\n\t\t\t\t\t{title}\n\t\t\t\t\t{selectedValues?.size > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\tclassName=\"mx-0.5 data-[orientation=vertical]:h-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tclassName=\"rounded-sm px-1 font-normal lg:hidden\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{selectedValues.size}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t<div className=\"hidden items-center gap-1 lg:flex\">\n\t\t\t\t\t\t\t\t{selectedValues.size > 2 ? (\n\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-sm px-1 font-normal\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{selectedValues.size} selected\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\toptions.data\n\t\t\t\t\t\t\t\t\t\t?.filter((option) => selectedValues.has(option.value))\n\t\t\t\t\t\t\t\t\t\t.map((option) => (\n\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-sm px-1 font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent className=\"w-[12.5rem] p-0\" align=\"start\">\n\t\t\t\t<Command>\n\t\t\t\t\t<CommandInput placeholder={title} />\n\t\t\t\t\t<CommandList className=\"max-h-full\">\n\t\t\t\t\t\t{options?.isPending ? (\n\t\t\t\t\t\t\t<CommandLoading className=\"flex justify-center\">\n\t\t\t\t\t\t\t\t<Skeleton className={\"w-full\"} width={180} />\n\t\t\t\t\t\t\t\t<Skeleton className={\"w-full\"} width={180} />\n\t\t\t\t\t\t\t\t<Skeleton className={\"w-full\"} width={180} />\n\t\t\t\t\t\t\t\t<Skeleton className={\"w-full\"} width={180} />\n\t\t\t\t\t\t\t</CommandLoading>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<CommandEmpty>\n\t\t\t\t\t\t\t\t<div className={\"flex flex-col gap-2\"}>\n\t\t\t\t\t\t\t\t\t<span>No results found.</span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant={\"ghost\"}\n\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\t\t\t\t\tisLoading={options.isPending}\n\t\t\t\t\t\t\t\t\t\tonClick={() => options.refetch()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\trefetch\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CommandEmpty>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<CommandGroup className=\"max-h-[18.75rem] overflow-y-auto overflow-x-hidden\">\n\t\t\t\t\t\t\t{options?.data?.map((option) => {\n\t\t\t\t\t\t\t\tconst isSelected = selectedValues.has(option.value);\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\t\t\t\tonSelect={() => onItemSelect(option, isSelected)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"flex size-4 items-center justify-center rounded-sm border border-primary\",\n\t\t\t\t\t\t\t\t\t\t\t\tisSelected\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"opacity-50 [&_svg]:invisible\",\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Check />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{option.icon && <option.icon />}\n\t\t\t\t\t\t\t\t\t\t<span className=\"truncate\">{option.label}</span>\n\t\t\t\t\t\t\t\t\t\t{option.count && (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml-auto font-mono text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t{option.count}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t{selectedValues.size > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<CommandSeparator />\n\t\t\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\tonSelect={() => onReset()}\n\t\t\t\t\t\t\t\t\t\tclassName=\"justify-center text-center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tClear filters\n\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-pagination.tsx",
      content: "import type { Table } from \"@tanstack/react-table\";\nimport {\n\tChevronLeft,\n\tChevronRight,\n\tChevronsLeft,\n\tChevronsRight,\n} from \"lucide-react\";\nimport type React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { cn } from \"@/lib/data-table/utils\";\n\ninterface DataTablePaginationProps<TData> extends React.ComponentProps<\"div\"> {\n\ttable: Table<TData>;\n\tpageSizeOptions?: number[];\n}\n\nexport function DataTablePagination<TData>({\n\ttable,\n\tpageSizeOptions = [5, 10, 20, 30, 40, 50],\n\tclassName,\n\t...props\n}: DataTablePaginationProps<TData>) {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"flex w-full flex-col-reverse items-center justify-between gap-4 overflow-auto p-1 sm:flex-row sm:gap-8\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"flex-1 whitespace-nowrap text-muted-foreground text-sm\">\n\t\t\t\t{table.getFilteredSelectedRowModel().rows.length} of{\" \"}\n\t\t\t\t{table.getFilteredRowModel().rows.length} row(s) selected.\n\t\t\t</div>\n\t\t\t<div className=\"flex flex-row items-center gap-4 sm:flex-row sm:gap-6 lg:gap-8\">\n\t\t\t\t<div className=\"flex items-center space-x-2\">\n\t\t\t\t\t<p className=\"whitespace-nowrap font-medium text-sm\">\n\t\t\t\t\t\tRoles Per page\n\t\t\t\t\t</p>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={\`\${table.getState().pagination.pageSize}\`}\n\t\t\t\t\t\tonValueChange={(value) => {\n\t\t\t\t\t\t\ttable.setPageSize(Number(value));\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectTrigger className=\"h-8 w-[5.5rem] [&[data-size]]:h-8\">\n\t\t\t\t\t\t\t<SelectValue placeholder={table.getState().pagination.pageSize} />\n\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t<SelectContent side=\"top\">\n\t\t\t\t\t\t\t{pageSizeOptions.map((pageSize) => (\n\t\t\t\t\t\t\t\t<SelectItem key={pageSize} value={\`\${pageSize}\`}>\n\t\t\t\t\t\t\t\t\t{pageSize}\n\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t</Select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex items-center justify-center font-medium text-sm\">\n\t\t\t\t\tPage {table.getState().pagination.pageIndex + 1} of{\" \"}\n\t\t\t\t\t{table.getPageCount()}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex items-center space-x-2\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Go to first page\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tclassName=\"hidden size-8 lg:flex\"\n\t\t\t\t\t\tonClick={() => table.setPageIndex(0)}\n\t\t\t\t\t\tdisabled={!table.getCanPreviousPage()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronsLeft />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Go to previous page\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tclassName=\"size-8\"\n\t\t\t\t\t\tonClick={() => table.previousPage()}\n\t\t\t\t\t\tdisabled={!table.getCanPreviousPage()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronLeft />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Go to next page\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tclassName=\"size-8\"\n\t\t\t\t\t\tonClick={() => table.nextPage()}\n\t\t\t\t\t\tdisabled={!table.getCanNextPage()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronRight />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Go to last page\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tclassName=\"hidden size-8 lg:flex\"\n\t\t\t\t\t\tonClick={() => table.setPageIndex(table.getPageCount() - 1)}\n\t\t\t\t\t\tdisabled={!table.getCanNextPage()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronsRight />\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-skeleton.tsx",
      content: "import type React from \"react\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { cn } from \"@/lib/utils\";\n\nconst arraySet = (i: number) => Array.from({ length: i }, (_, i) => i);\n\ninterface DataTableSkeletonProps extends React.ComponentProps<\"div\"> {\n\tcolumnCount?: number;\n\trowCount?: number;\n\theight?: {\n\t\tfilter: number;\n\t\ttable: number;\n\t\tpagination: number;\n\t};\n\tfilterCount?: number;\n\tcellWidths?: string[];\n\twithViewOptions?: boolean;\n\twithPagination?: boolean;\n\tshrinkZero?: boolean;\n}\n\nexport function DataTableSkeleton({\n\tcolumnCount = 10,\n\trowCount = 30,\n\tfilterCount = 4,\n\tcellWidths = [\"auto\"],\n\theight = {\n\t\tfilter: 25,\n\t\ttable: 40,\n\t\tpagination: 25,\n\t},\n\twithViewOptions = true,\n\twithPagination = true,\n\tshrinkZero = false,\n\tclassName,\n\t...props\n}: DataTableSkeletonProps) {\n\tconst cozyCellWidths = Array.from(\n\t\t{ length: columnCount },\n\t\t(_, index) => cellWidths[index % cellWidths.length] ?? \"auto\",\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\"flex w-full flex-col gap-2.5 overflow-auto\", className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"flex w-full items-center justify-between gap-2 overflow-auto p-1\">\n\t\t\t\t<div className=\"flex flex-1 items-center gap-2\">\n\t\t\t\t\t{filterCount > 0\n\t\t\t\t\t\t? arraySet(filterCount).map((i) => (\n\t\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\theight={height?.filter}\n\t\t\t\t\t\t\t\t\tclassName={cn(\"h-7 w-[4.5rem] border-dashed\")}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t: null}\n\t\t\t\t</div>\n\t\t\t\t{withViewOptions ? (\n\t\t\t\t\t<Skeleton\n\t\t\t\t\t\theight={height?.filter}\n\t\t\t\t\t\tclassName={cn(\"ml-auto hidden h-7 w-[4.5rem] lg:flex\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t\t<div className=\"rounded-md border\">\n\t\t\t\t<Table>\n\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t{arraySet(1).map((i) => (\n\t\t\t\t\t\t\t<TableRow key={i} className=\"hover:bg-transparent\">\n\t\t\t\t\t\t\t\t{arraySet(columnCount).map((j) => (\n\t\t\t\t\t\t\t\t\t<TableHead\n\t\t\t\t\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\twidth: cozyCellWidths[j],\n\t\t\t\t\t\t\t\t\t\t\tminWidth: shrinkZero ? cozyCellWidths[j] : \"auto\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\"h-6 w-full\", height?.table)}\n\t\t\t\t\t\t\t\t\t\t\theight={height?.table / 1.25}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableHeader>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{arraySet(rowCount).map((i) => (\n\t\t\t\t\t\t\t<TableRow key={i} className=\"hover:bg-transparent\">\n\t\t\t\t\t\t\t\t{arraySet(columnCount).map((j) => (\n\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\twidth: cozyCellWidths[j],\n\t\t\t\t\t\t\t\t\t\t\tminWidth: shrinkZero ? cozyCellWidths[j] : \"auto\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\"h-6 w-full\", height?.table)}\n\t\t\t\t\t\t\t\t\t\t\theight={height?.table}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t\t{withPagination ? (\n\t\t\t\t<div className=\"flex w-full items-center justify-between gap-4 overflow-auto p-1 sm:gap-8\">\n\t\t\t\t\t<Skeleton\n\t\t\t\t\t\tclassName={cn(\"h-7 w-40 shrink-0\")}\n\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex items-center gap-4 sm:gap-6 lg:gap-8\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"h-7 w-24\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"h-7 w-[4.5rem]\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center justify-center font-medium text-sm\">\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"h-7 w-20\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"hidden size-7 lg:block\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Skeleton className={cn(\"size-7\")} height={height?.pagination} />\n\t\t\t\t\t\t\t<Skeleton className={cn(\"size-7\")} height={height?.pagination} />\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"hidden size-7 lg:block\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-slider-filter.tsx",
      content: "\"use client\";\n\nimport type { Column } from \"@tanstack/react-table\";\nimport { PlusCircle, XCircle } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Button, buttonVariants } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { cn } from \"@/lib/utils\";\n\ninterface Range {\n\tmin: number;\n\tmax: number;\n}\n\ntype RangeValue = [number, number];\n\nfunction getIsValidRange(value: unknown): value is RangeValue {\n\treturn (\n\t\tArray.isArray(value) &&\n\t\tvalue.length === 2 &&\n\t\ttypeof value[0] === \"number\" &&\n\t\ttypeof value[1] === \"number\"\n\t);\n}\n\ninterface DataTableSliderFilterProps<TData> {\n\tcolumn: Column<TData, unknown>;\n\ttitle?: string;\n}\n\nexport function DataTableSliderFilter<TData>({\n\tcolumn,\n\ttitle,\n}: DataTableSliderFilterProps<TData>) {\n\tconst id = React.useId();\n\n\tconst columnFilterValue = getIsValidRange(column.getFilterValue())\n\t\t? (column.getFilterValue() as RangeValue)\n\t\t: undefined;\n\n\tconst defaultRange = column.columnDef.meta?.range;\n\tconst unit = column.columnDef.meta?.unit;\n\n\tconst { min, max, step } = React.useMemo<Range & { step: number }>(() => {\n\t\tlet minValue = 0;\n\t\tlet maxValue = 100;\n\n\t\tif (defaultRange && getIsValidRange(defaultRange)) {\n\t\t\t[minValue, maxValue] = defaultRange;\n\t\t} else {\n\t\t\tconst values = column.getFacetedMinMaxValues();\n\t\t\tif (values && Array.isArray(values) && values.length === 2) {\n\t\t\t\tconst [facetMinValue, facetMaxValue] = values;\n\t\t\t\tif (\n\t\t\t\t\ttypeof facetMinValue === \"number\" &&\n\t\t\t\t\ttypeof facetMaxValue === \"number\"\n\t\t\t\t) {\n\t\t\t\t\tminValue = facetMinValue;\n\t\t\t\t\tmaxValue = facetMaxValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst rangeSize = maxValue - minValue;\n\t\tconst step =\n\t\t\trangeSize <= 20\n\t\t\t\t? 1\n\t\t\t\t: rangeSize <= 100\n\t\t\t\t\t? Math.ceil(rangeSize / 20)\n\t\t\t\t\t: Math.ceil(rangeSize / 50);\n\n\t\treturn { min: minValue, max: maxValue, step };\n\t}, [column, defaultRange]);\n\n\tconst range = React.useMemo((): RangeValue => {\n\t\treturn columnFilterValue ?? [min, max];\n\t}, [columnFilterValue, min, max]);\n\n\tconst formatValue = React.useCallback((value: number) => {\n\t\treturn value.toLocaleString(undefined, { maximumFractionDigits: 0 });\n\t}, []);\n\n\tconst onFromInputChange = React.useCallback(\n\t\t(event: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst numValue = Number(event.target.value);\n\t\t\tif (!Number.isNaN(numValue) && numValue >= min && numValue <= range[1]) {\n\t\t\t\tcolumn.setFilterValue([numValue, range[1]]);\n\t\t\t}\n\t\t},\n\t\t[column, min, range],\n\t);\n\n\tconst onToInputChange = React.useCallback(\n\t\t(event: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst numValue = Number(event.target.value);\n\t\t\tif (!Number.isNaN(numValue) && numValue <= max && numValue >= range[0]) {\n\t\t\t\tcolumn.setFilterValue([range[0], numValue]);\n\t\t\t}\n\t\t},\n\t\t[column, max, range],\n\t);\n\n\tconst onSliderValueChange = React.useCallback(\n\t\t(value: RangeValue) => {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tcolumn.setFilterValue(value);\n\t\t\t}\n\t\t},\n\t\t[column],\n\t);\n\n\tconst onReset = React.useCallback(\n\t\t(event: React.MouseEvent) => {\n\t\t\tif (event.target instanceof HTMLDivElement) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tcolumn.setFilterValue(undefined);\n\t\t},\n\t\t[column],\n\t);\n\n\treturn (\n\t\t<Popover>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<div\n\t\t\t\t\tclassName={buttonVariants({\n\t\t\t\t\t\tvariant: \"outline\",\n\t\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\t\tclassName: \"border-dashed\",\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{columnFilterValue ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\taria-label={\`Clear \${title} filter\`}\n\t\t\t\t\t\t\tclassName=\"rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n\t\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XCircle />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PlusCircle />\n\t\t\t\t\t)}\n\t\t\t\t\t<span>{title}</span>\n\t\t\t\t\t{columnFilterValue ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\tclassName=\"mx-0.5 data-[orientation=vertical]:h-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{formatValue(columnFilterValue[0])} -{\" \"}\n\t\t\t\t\t\t\t{formatValue(columnFilterValue[1])}\n\t\t\t\t\t\t\t{unit ? \` \${unit}\` : \"\"}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent align=\"start\" className=\"flex w-auto flex-col gap-4\">\n\t\t\t\t<div className=\"flex flex-col gap-3\">\n\t\t\t\t\t<p className=\"font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t<Label htmlFor={\`\${id}-from\`} className=\"sr-only\">\n\t\t\t\t\t\t\tFrom\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid={\`\${id}-from\`}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\taria-valuemin={min}\n\t\t\t\t\t\t\t\taria-valuemax={max}\n\t\t\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\t\t\tpattern=\"[0-9]*\"\n\t\t\t\t\t\t\t\tplaceholder={min.toString()}\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tvalue={range[0]?.toString()}\n\t\t\t\t\t\t\t\tonChange={onFromInputChange}\n\t\t\t\t\t\t\t\tclassName={cn(\"h-8 w-24\", unit && \"pr-8\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{unit && (\n\t\t\t\t\t\t\t\t<span className=\"absolute top-0 right-0 bottom-0 flex items-center rounded-r-md bg-accent px-2 text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t{unit}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Label htmlFor={\`\${id}-to\`} className=\"sr-only\">\n\t\t\t\t\t\t\tto\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid={\`\${id}-to\`}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\taria-valuemin={min}\n\t\t\t\t\t\t\t\taria-valuemax={max}\n\t\t\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\t\t\tpattern=\"[0-9]*\"\n\t\t\t\t\t\t\t\tplaceholder={max.toString()}\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tvalue={range[1]?.toString()}\n\t\t\t\t\t\t\t\tonChange={onToInputChange}\n\t\t\t\t\t\t\t\tclassName={cn(\"h-8 w-24\", unit && \"pr-8\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{unit && (\n\t\t\t\t\t\t\t\t<span className=\"absolute top-0 right-0 bottom-0 flex items-center rounded-r-md bg-accent px-2 text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t{unit}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Label htmlFor={\`\${id}-slider\`} className=\"sr-only\">\n\t\t\t\t\t\t{title} slider\n\t\t\t\t\t</Label>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tid={\`\${id}-slider\`}\n\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\tvalue={range}\n\t\t\t\t\t\tonValueChange={onSliderValueChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\taria-label={\`Clear \${title} filter\`}\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={onReset}\n\t\t\t\t>\n\t\t\t\t\tClear\n\t\t\t\t</Button>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-toolbar.tsx",
      content: "\"use client\";\n\nimport type { Column, Table } from \"@tanstack/react-table\";\nimport { X } from \"lucide-react\";\nimport * as React from \"react\";\nimport { DataTableAdvanceDateFilter } from \"@/components/data-table/data-table-advance-date-filter\";\nimport { DataTableDateFilter } from \"@/components/data-table/data-table-date-filter\";\nimport { DataTableFacetedFilter } from \"@/components/data-table/data-table-faceted-filter\";\nimport { DataTableSliderFilter } from \"@/components/data-table/data-table-slider-filter\";\nimport { DataTableViewOptions } from \"@/components/data-table/data-table-view-options\";\nimport { Button } from \"@/components/form-field/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { cn } from \"@/lib/utils\";\n\ninterface DataTableToolbarProps<TData> extends React.ComponentProps<\"div\"> {\n\ttable: Table<TData>;\n}\n\nexport function DataTableToolbar<TData>({\n\ttable,\n\tchildren,\n\tclassName,\n\t...props\n}: DataTableToolbarProps<TData>) {\n\tconst isFiltered = table.getState().columnFilters.length > 0;\n\n\tconst columns = React.useMemo(\n\t\t() => table.getAllFlatColumns().filter((column) => column.getCanFilter()),\n\t\t[table],\n\t);\n\n\tconst onReset = React.useCallback(() => {\n\t\ttable.resetColumnFilters();\n\t}, [table]);\n\n\treturn (\n\t\t<div\n\t\t\trole=\"toolbar\"\n\t\t\taria-orientation=\"horizontal\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex w-full items-start justify-between gap-2 p-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"flex flex-1 flex-wrap items-center gap-2\">\n\t\t\t\t{columns\n\t\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t\tconst priorityA = a.columnDef.meta?.priority || 0;\n\t\t\t\t\t\tconst priorityB = b.columnDef.meta?.priority || 0;\n\t\t\t\t\t\tif (priorityA === priorityB) {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn priorityB - priorityA;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.map((column) => (\n\t\t\t\t\t\t<DataTableToolbarFilter key={column.id} column={column} />\n\t\t\t\t\t))}\n\t\t\t\t{isFiltered && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Reset filters\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tclassName=\"border-dashed\"\n\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t>\n\t\t\t\t\t\t<X />\n\t\t\t\t\t\tReset\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t{children}\n\t\t\t\t<DataTableViewOptions table={table} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\ninterface DataTableToolbarFilterProps<TData> {\n\tcolumn: Column<TData>;\n}\n\nfunction DataTableToolbarFilter<TData>({\n\tcolumn,\n}: DataTableToolbarFilterProps<TData>) {\n\t{\n\t\tconst columnMeta = column.columnDef.meta;\n\n\t\tconst onFilterRender = React.useCallback(() => {\n\t\t\tif (!columnMeta?.variant) return null;\n\n\t\t\tswitch (columnMeta.variant) {\n\t\t\t\tcase \"text\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder={columnMeta.placeholder ?? columnMeta.label}\n\t\t\t\t\t\t\tvalue={(column.getFilterValue() as string) ?? \"\"}\n\t\t\t\t\t\t\tonChange={(event) => column.setFilterValue(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"h-8 w-40 lg:w-56\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"number\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\t\t\tplaceholder={columnMeta.placeholder ?? columnMeta.label}\n\t\t\t\t\t\t\t\tvalue={(column.getFilterValue() as string) ?? \"\"}\n\t\t\t\t\t\t\t\tonChange={(event) => column.setFilterValue(event.target.value)}\n\t\t\t\t\t\t\t\tclassName={cn(\"h-8 w-[120px]\", columnMeta.unit && \"pr-8\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{columnMeta.unit && (\n\t\t\t\t\t\t\t\t<span className=\"absolute top-0 right-0 bottom-0 flex items-center rounded-r-md bg-accent px-2 text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t{columnMeta.unit}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"range\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataTableSliderFilter\n\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\ttitle={columnMeta.label ?? column.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"date\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataTableDateFilter\n\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\ttitle={columnMeta.label ?? column.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"dateRange\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataTableAdvanceDateFilter\n\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\ttitle={columnMeta.label ?? column.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"select\":\n\t\t\t\tcase \"multiSelect\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataTableFacetedFilter\n\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\ttitle={columnMeta.label ?? column.id}\n\t\t\t\t\t\t\toptionsFn={columnMeta?.options}\n\t\t\t\t\t\t\tmultiple={columnMeta.variant === \"multiSelect\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}, [column, columnMeta]);\n\n\t\treturn onFilterRender();\n\t}\n}\n",
      type: "registry:component",
    },{
      path: "components/data-table/data-table-view-options.tsx",
      content: "\"use client\";\n\nimport type { Table } from \"@tanstack/react-table\";\nimport { Check, ChevronsUpDown, Settings2 } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandInput,\n\tCommandItem,\n\tCommandList,\n} from \"@/components/ui/command\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { cn } from \"@/lib/data-table/utils\";\n\ninterface DataTableViewOptionsProps<TData> {\n\ttable: Table<TData>;\n}\n\nexport function DataTableViewOptions<TData>({\n\ttable,\n}: DataTableViewOptionsProps<TData>) {\n\tconst columns = React.useMemo(\n\t\t() =>\n\t\t\ttable\n\t\t\t\t.getAllColumns()\n\t\t\t\t.filter(\n\t\t\t\t\t(column) =>\n\t\t\t\t\t\ttypeof column.accessorFn !== \"undefined\" && column.getCanHide(),\n\t\t\t\t),\n\t\t[table],\n\t);\n\n\treturn (\n\t\t<Popover>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<Button\n\t\t\t\t\taria-label=\"Toggle columns\"\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tclassName=\"ml-auto hidden h-8 lg:flex\"\n\t\t\t\t>\n\t\t\t\t\t<Settings2 />\n\t\t\t\t\tView\n\t\t\t\t\t<ChevronsUpDown className=\"ml-auto opacity-50\" />\n\t\t\t\t</Button>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent align=\"end\" className=\"w-44 p-0\">\n\t\t\t\t<Command>\n\t\t\t\t\t<CommandInput placeholder=\"Search columns...\" />\n\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t<CommandEmpty>No columns found.</CommandEmpty>\n\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\tkey={column.id}\n\t\t\t\t\t\t\t\t\tonSelect={() =>\n\t\t\t\t\t\t\t\t\t\tcolumn.toggleVisibility(!column.getIsVisible())\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"truncate\">\n\t\t\t\t\t\t\t\t\t\t{column.columnDef.meta?.label ?? column.id}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"ml-auto size-4 shrink-0\",\n\t\t\t\t\t\t\t\t\t\t\tcolumn.getIsVisible() ? \"opacity-100\" : \"opacity-0\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n",
      type: "registry:component",
    },{
      path: "lib/data-table/utils.tsx",
      content: "import type {\n\tPostgrestClientOptions,\n\tPostgrestFilterBuilder,\n} from \"@supabase/postgrest-js\";\nimport type {\n\tCellContext,\n\tColumn,\n\tColumnDef,\n\tColumnMeta,\n\tTable,\n} from \"@tanstack/react-table\";\nimport type { ClassValue } from \"clsx\";\nimport { clsx } from \"clsx\";\nimport { endOfDay, format, formatDuration, startOfDay } from \"date-fns\";\nimport { parseAsInteger } from \"nuqs\";\nimport {\n\tcreateSearchParamsCache,\n\ttype ParserMap,\n\ttype ParserWithOptionalDefault,\n\ttype SearchParams,\n} from \"nuqs/server\";\nimport type React from \"react\";\nimport type { ReactNode } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\nimport { Badge } from \"@/components/data-table/badge\";\nimport { Button } from \"@/components/data-table/button\";\nimport { DataTableColumnHeader } from \"@/components/data-table/data-table-column-header\";\nimport { getSortingStateParser } from \"@/lib/data-table/parsers\";\n\n// import SupabaseImage from '@/components/reusable/SupabaseImage';\n\nexport function cn(...inputs: ClassValue[]) {\n\treturn twMerge(clsx(inputs));\n}\n\nexport function getDropDownValues<TData>(data: TData[], key: keyof TData) {\n\tconst uniqueValues = Array.from(new Set(data.map((item) => item[key])));\n\treturn uniqueValues\n\t\t.filter((value) => value !== null && value !== undefined && value !== \"\")\n\t\t.map((value) => ({\n\t\t\tlabel: String(value),\n\t\t\tvalue: String(value),\n\t\t}));\n}\n\nexport function exportTableToCSV<TData>(\n\ttable: Table<TData>,\n\toptions: {\n\t\tfilename: string;\n\t\texcludeColumns?: string[];\n\t\tonlySelected?: boolean;\n\t},\n) {\n\tconst { filename, excludeColumns = [], onlySelected = false } = options;\n\n\tconst rows = onlySelected\n\t\t? table.getFilteredSelectedRowModel().rows\n\t\t: table.getFilteredRowModel().rows;\n\n\tconst columns = table\n\t\t.getAllColumns()\n\t\t.filter(\n\t\t\t(column) => column.getIsVisible() && !excludeColumns.includes(column.id),\n\t\t)\n\t\t.filter((column) => column.id !== \"select\" && column.id !== \"actions\");\n\n\t// Create CSV headers\n\tconst headers = columns.map((column) => {\n\t\tconst header = column.columnDef.header;\n\t\tif (typeof header === \"string\") return header;\n\t\tif (typeof header === \"function\") return column.id;\n\t\treturn column.id;\n\t});\n\n\t// Create CSV rows\n\tconst csvRows = rows.map((row) =>\n\t\tcolumns.map((column) => {\n\t\t\tconst cellValue = row.getValue(column.id);\n\t\t\t// Handle different data types\n\t\t\tif (cellValue === null || cellValue === undefined) return \"\";\n\t\t\tif (typeof cellValue === \"object\") return JSON.stringify(cellValue);\n\t\t\treturn String(cellValue).replace(/\"/g, '\"\"'); // Escape quotes\n\t\t}),\n\t);\n\n\t// Combine headers and rows\n\tconst csvContent = [headers, ...csvRows]\n\t\t.map((row) => row.map((cell) => \`\"\${cell}\"\`).join(\",\"))\n\t\t.join(\"\\n\");\n\n\t// Download CSV\n\tconst blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n\tconst link = document.createElement(\"a\");\n\n\tif (link.download !== undefined) {\n\t\tconst url = URL.createObjectURL(blob);\n\t\tlink.setAttribute(\"href\", url);\n\t\tlink.setAttribute(\"download\", \`\${filename}.csv\`);\n\t\tlink.style.visibility = \"hidden\";\n\t\tdocument.body.appendChild(link);\n\t\tlink.click();\n\t\tdocument.body.removeChild(link);\n\t}\n}\n\nexport const ValuesMap = {\n\tstring: ({ value }: { value: unknown }) => (\n\t\t<span>{String(value ?? \"\").replaceAll(\"_\", \" \") || \"N/A\"}</span>\n\t),\n\n\tboolean: ({\n\t\tvalue,\n\t\ttrueLabel,\n\t\tfalseLabel,\n\t}: {\n\t\tvalue: unknown;\n\t\ttrueLabel?: string;\n\t\tfalseLabel?: string;\n\t}) => (\n\t\t<Badge variant={value ? \"success\" : \"destructive\"}>\n\t\t\t{value ? trueLabel || \"Yes\" : falseLabel || \"No\"}\n\t\t</Badge>\n\t),\n\n\tnumber: ({ value, fixed = 3 }: { value: unknown; fixed?: number }) => {\n\t\tconst num = Number(value);\n\t\tif (Number.isNaN(num)) return \"N/A\";\n\t\treturn (\n\t\t\t<span>{new Intl.NumberFormat(\"en-IN\").format(+num.toFixed(fixed))}</span>\n\t\t);\n\t},\n\n\tcurrency: ({ value, fixed = 3 }: { value: unknown; fixed?: number }) => {\n\t\tconst num = Number(value);\n\t\tif (Number.isNaN(num)) return \"N/A\";\n\t\treturn <span>{toInrCurrency(num.toFixed(fixed))}</span>;\n\t},\n\n\tdate: ({ value }: { value: unknown }) => {\n\t\tconst dateValue = new Date(value as unknown as Date);\n\t\treturn Number.isNaN(dateValue.getTime())\n\t\t\t? \"N/A\"\n\t\t\t: format(dateValue, \"dd/MM/yyyy\");\n\t},\n\n\tdatetime: ({ value }: { value: unknown }) => {\n\t\tconst dateValue = new Date(value as unknown as Date);\n\t\treturn Number.isNaN(dateValue.getTime())\n\t\t\t? \"N/A\"\n\t\t\t: format(dateValue, \"dd/MM/yyyy hh:mm a\");\n\t},\n\n\ttime: ({ value }: { value: unknown }) => {\n\t\tconst dateValue = new Date(value as unknown as Date);\n\t\treturn Number.isNaN(dateValue.getTime())\n\t\t\t? \"N/A\"\n\t\t\t: format(dateValue, \"hh:mm a\");\n\t},\n\n\tpercentage: ({ value, fixed = 2 }: { value: unknown; fixed?: number }) => {\n\t\tconst num = Number(value);\n\t\tif (Number.isNaN(num)) return \"N/A\";\n\t\treturn <span>{\`\${num.toFixed(fixed)}%\`}</span>;\n\t},\n\n\tinterval: ({ value }: { value: unknown }) => {\n\t\tif (!value) return \"N/A\";\n\t\tconst [hours, minutes, seconds] = (value as string).split(\":\").map(Number);\n\t\treturn formatDuration({\n\t\t\thours,\n\t\t\tminutes,\n\t\t\tseconds: Number.isFinite(seconds) ? seconds : 0,\n\t\t});\n\t},\n};\n\n// -----------------\n// 2. Infer Types\n// -----------------\ntype ValuesMapType = typeof ValuesMap;\ntype FormatterProps<K extends keyof ValuesMapType> = Parameters<\n\tValuesMapType[K]\n>[0];\ntype FormatterOptions<K extends keyof ValuesMapType> = Omit<\n\tFormatterProps<K>,\n\t\"value\"\n>;\n\n// -----------------\n// 3. Master formatter function\n// -----------------\nexport function formatCellValue<\n\tK extends keyof ValuesMapType = \"string\", // default = string\n>(\n\tvalue: FormatterProps<K>[\"value\"],\n\texplicitType?: K,\n\toptions?: FormatterOptions<K>,\n\tfallback: ReactNode = <span className=\"text-muted-foreground\">N/A</span>,\n): ReactNode {\n\tif (value === null || value === undefined) return fallback;\n\tconst type = explicitType ?? (\"string\" as K);\n\treturn ValuesMap[type]({ value, ...(options as any) });\n}\n\nexport function debounce<T extends (...args: unknown[]) => unknown>(\n\tfunc: T,\n\tdelay: number,\n): (...args: Parameters<T>) => void {\n\tlet timeoutId: NodeJS.Timeout;\n\treturn (...args: Parameters<T>) => {\n\t\tclearTimeout(timeoutId);\n\t\ttimeoutId = setTimeout(() => func(...args), delay);\n\t};\n}\n\nexport function formatToTitleCase(input: string): string {\n\tconst words = input\n\t\t// Replace underscores with spaces\n\t\t.replace(/_/g, \" \")\n\t\t// Split camelCase by inserting a space before uppercase letters\n\t\t.replace(/([a-z])([A-Z])/g, \"$1 $2\")\n\t\t.split(\" \");\n\n\treturn words\n\t\t.map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n\t\t.join(\" \");\n}\nexport function toInrCurrency(\n\t...value: (number | null | undefined | string)[]\n): string {\n\tconst totalValue = value.reduce<number>(\n\t\t(acc, curr) => acc + Number(curr || 0),\n\t\t0,\n\t);\n\treturn totalValue.toLocaleString(\"en-IN\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"INR\",\n\t});\n}\n\nexport function getCommonPinningStyles<TData>({\n\tcolumn,\n\twithBorder = false,\n}: {\n\tcolumn: Column<TData>;\n\twithBorder?: boolean;\n}): React.CSSProperties {\n\tconst isPinned = column.getIsPinned();\n\tconst isLastLeftPinnedColumn =\n\t\tisPinned === \"left\" && column.getIsLastColumn(\"left\");\n\tconst isFirstRightPinnedColumn =\n\t\tisPinned === \"right\" && column.getIsFirstColumn(\"right\");\n\n\treturn {\n\t\tboxShadow: withBorder\n\t\t\t? isLastLeftPinnedColumn\n\t\t\t\t? \"-4px 0 4px -4px hsl(var(--border)) inset\"\n\t\t\t\t: isFirstRightPinnedColumn\n\t\t\t\t\t? \"4px 0 4px -4px hsl(var(--border)) inset\"\n\t\t\t\t\t: undefined\n\t\t\t: undefined,\n\t\tleft: isPinned === \"left\" ? \`\${column.getStart(\"left\")}px\` : undefined,\n\t\tright: isPinned === \"right\" ? \`\${column.getAfter(\"right\")}px\` : undefined,\n\t\topacity: isPinned ? 0.97 : 1,\n\t\tposition: isPinned ? \"sticky\" : \"relative\",\n\t\tbackground: isPinned ? \"hsl(var(--background))\" : \"hsl(var(--background))\",\n\t\twidth: column.columnDef.size,\n\t\tminWidth: column.columnDef.minSize,\n\t\tmaxWidth: column.columnDef.maxSize,\n\t\tzIndex: isPinned ? 1 : 0,\n\t};\n}\n\ntype FilterOperator =\n\t| \"eq\"\n\t| \"neq\"\n\t| \"gt\"\n\t| \"gte\"\n\t| \"lt\"\n\t| \"lte\"\n\t| \"like\"\n\t| \"ilike\"\n\t| \"is\"\n\t| \"in\"\n\t| \"cs\"\n\t| \"cd\"\n\t| \"sl\"\n\t| \"sr\"\n\t| \"nxl\"\n\t| \"nxr\"\n\t| \"adj\"\n\t| \"ov\"\n\t| \"fts\"\n\t| \"plfts\"\n\t| \"phfts\"\n\t| \"wfts\";\n\nexport const createOrFilter = <T extends Record<any, any>>(\n\tfilter: Filter<T>[],\n) => {\n\treturn filter\n\t\t.map((curr) => {\n\t\t\tif (!curr.value) return \"\";\n\t\t\treturn \`\${curr.key.toString()}.\${curr.operator}.\${getFilterWrapper(curr.value, curr.operator)}\`;\n\t\t})\n\t\t.filter(Boolean)\n\t\t.join(\",\");\n};\nexport type Filter<T extends Record<string, any>> = {\n\tkey: keyof T;\n\toperator: \`\${\"\" | \"not.\"}\${FilterOperator}\`;\n\tvalue: string | undefined | null;\n};\nexport type SupabaseFilter<T extends Record<string, any>> = {\n\tperPage?: number;\n\tpage?: number;\n\tfilter?: Filter<T>[];\n\tsort?: { id: keyof T | string; desc: boolean }[];\n\tor?: Filter<T>[];\n};\nexport const getFilterWrapper = (value: string, operator: string) => {\n\tswitch (operator) {\n\t\tcase \"in\":\n\t\t\treturn \`(\${value})\`;\n\t\tcase \"like\":\n\t\tcase \"ilike\":\n\t\t\treturn \`%\${value}%\`;\n\t}\n\treturn value;\n};\nexport function rangeFilter<T extends Record<any, any>>(\n\tid: keyof T,\n\tfrom: number | null | undefined,\n\tto: number | null | undefined,\n) {\n\treturn [\n\t\t{\n\t\t\tkey: id,\n\t\t\toperator: \"lte\",\n\t\t\tvalue: to ? String(to) : null,\n\t\t},\n\t\t{\n\t\t\tkey: id,\n\t\t\toperator: \"gte\",\n\t\t\tvalue: from ? String(from) : null,\n\t\t},\n\t] satisfies Filter<T>[];\n}\n\nexport function dateRangeFilter<T extends Record<any, any>>(\n\tid: keyof T,\n\tfrom: number | null | undefined,\n\tto: number | null | undefined,\n) {\n\treturn [\n\t\t{\n\t\t\tkey: id,\n\t\t\toperator: \"lte\",\n\t\t\tvalue: to ? format(endOfDay(to), \"yyyy-MM-dd'T'HH:mm:ssXX\") : null,\n\t\t},\n\t\t{\n\t\t\tkey: id,\n\t\t\toperator: \"gte\",\n\t\t\tvalue: from ? format(startOfDay(from), \"yyyy-MM-dd'T'HH:mm:ssXX\") : null,\n\t\t},\n\t] satisfies Filter<T>[];\n}\n\nexport const createBaseDataTableFilter = <\n\tTable extends Record<string, unknown>,\n\tT extends ParserMap =\n\t\t| ParserMap\n\t\t| Record<keyof Table, ParserWithOptionalDefault<any>>,\n>(\n\taddon: T,\n\tsearchParams: SearchParams,\n) => {\n\tconst cache = createSearchParamsCache({\n\t\tpage: parseAsInteger.withDefault(1),\n\t\tperPage: parseAsInteger.withDefault(10),\n\t\tsort: getSortingStateParser<Table>().withDefault([]),\n\t\t...addon,\n\t});\n\n\treturn cache.parse(searchParams);\n};\n\nexport const columnDef = <T extends Record<any, any>>(\n\tid: string,\n\t{\n\t\tlabel = formatToTitleCase(id),\n\t\taccessorKey = id,\n\t\tformatType,\n\t\tcell = (data) => formatCellValue(data.getValue(), formatType || \"string\"),\n\t\tmeta,\n\t\tenableSorting = false,\n\t\tenableColumnFilter = true,\n\t}: {\n\t\taccessorKey?: string;\n\t\tformatType?: keyof typeof ValuesMap;\n\t\tlabel?: string;\n\t\tmeta?: ColumnMeta<T, any>;\n\t\tcell?: (data: CellContext<T, unknown>) => ReactNode;\n\t\tenableSorting?: boolean;\n\t\tenableColumnFilter?: boolean;\n\t} = {\n\t\tlabel: formatToTitleCase(id),\n\t\taccessorKey: id,\n\t\tcell: (data) => formatCellValue(data.getValue(), formatType || \"string\"),\n\t\tenableSorting: false,\n\t\tenableColumnFilter: true,\n\t},\n) => {\n\treturn {\n\t\tid,\n\t\taccessorKey,\n\t\tcell,\n\t\theader: ({ column }) => (\n\t\t\t<DataTableColumnHeader column={column} title={label} />\n\t\t),\n\t\tmeta: {\n\t\t\tlabel,\n\t\t\t...meta,\n\t\t},\n\t\tenableColumnFilter,\n\t\tenableSorting,\n\t} satisfies ColumnDef<T>;\n};\n\nexport const GenerateColumnsDef = (\n\tdata: Record<string, any> | [Record<string, any>] | undefined | null,\n) => {\n\tif (!data) return \"NO DATA\";\n\tconst parsedData = Array.isArray(data) ? data[0] : data;\n\tconst str = Object.keys(parsedData).reduce((acc, curr) => {\n\t\tacc += \`columnDef('\${curr}'),\\n\`;\n\t\treturn acc;\n\t}, \"\");\n\tnavigator?.clipboard?.writeText(str);\n\treturn (\n\t\t<pre className={\"rounded-md bg-muted/50 p-2\"}>\n\t\t\t<Button onClick={() => navigator.clipboard.writeText(str)}>COPY</Button>\n\t\t\t<code>{str}</code>\n\t\t</pre>\n\t);\n};\n\ntype DB = {\n\tpublic: {\n\t\tTables: any;\n\t\tViews: any;\n\t\tFunctions: any;\n\t};\n};\ntype Schema = DB[\"public\"];\n\ntype SupabaseTableName = keyof Schema[\"Tables\"];\ntype SupabaseViewName = keyof Schema[\"Views\"];\n\nexport const supabaseFilter = <\n\tResultOne extends Record<string, any>,\n\tTableName extends SupabaseTableName | SupabaseViewName,\n\tClient = PostgrestFilterBuilder<\n\t\tPostgrestClientOptions,\n\t\tSchema,\n\t\tTableName extends SupabaseTableName\n\t\t\t? Schema[\"Tables\"][TableName][\"Row\"]\n\t\t\t: TableName extends SupabaseViewName\n\t\t\t\t? Schema[\"Views\"][TableName][\"Row\"]\n\t\t\t\t: unknown,\n\t\tResultOne[],\n\t\tTableName,\n\t\t(\n\t\t\tTableName extends SupabaseTableName\n\t\t\t\t? Schema[\"Tables\"][TableName]\n\t\t\t\t: TableName extends SupabaseViewName\n\t\t\t\t\t? Schema[\"Views\"][TableName]\n\t\t\t\t\t: unknown\n\t\t) extends { Relationships: infer R }\n\t\t\t? R\n\t\t\t: unknown,\n\t\t\"GET\"\n\t>,\n>(\n\tclient: Client,\n\t{\n\t\tperPage,\n\t\tpage,\n\t\tfilter = [],\n\t\tsort,\n\t\tor = undefined,\n\t}: SupabaseFilter<ResultOne> = {\n\t\tperPage: undefined,\n\t\tpage: undefined,\n\t\tfilter: [],\n\t\tsort: undefined,\n\t\tor: undefined,\n\t},\n) => {\n\tif (\n\t\t!(\n\t\t\tclient &&\n\t\t\ttypeof client === \"object\" &&\n\t\t\t\"range\" in client &&\n\t\t\ttypeof client.range === \"function\" &&\n\t\t\t\"or\" in client &&\n\t\t\ttypeof client.or === \"function\"\n\t\t)\n\t)\n\t\treturn client;\n\n\tconst sortArray = Array.isArray(sort) ? sort : sort ? [sort] : [];\n\tif (sortArray.length > 0) {\n\t\tconst sortArray = Array.isArray(sort) ? sort : sort ? [sort] : [];\n\t\tsortArray.forEach((sort) => {\n\t\t\tif (!(\"order\" in client && typeof client.order === \"function\")) return;\n\t\t\tclient.order(sort.id.toString(), {\n\t\t\t\tascending: !sort.desc,\n\t\t\t});\n\t\t});\n\t}\n\n\tfilter.forEach((f) => {\n\t\tif (!f.value) return;\n\t\tif (!(\"filter\" in client && typeof client.filter === \"function\")) return;\n\t\tclient.filter(\n\t\t\tf.key.toString(),\n\t\t\tf.operator,\n\t\t\tgetFilterWrapper(f.value, f.operator),\n\t\t);\n\t});\n\tif (or && or.length > 0) {\n\t\tclient.or(createOrFilter(or || []));\n\t}\n\tif (perPage && page) {\n\t\tclient.range((page - 1) * perPage, page * perPage - 1);\n\t}\n\treturn client;\n};\n",
      type: "registry:lib",
    },{
      path: "lib/data-table/types/data-table.ts",
      content: "import type { ColumnSort, Row, RowData } from \"@tanstack/react-table\";\nimport type { ReactNode } from \"react\";\nimport type { DataTableConfig } from \"@/lib/data-table/config/config\";\nimport type { FilterItemSchema } from \"@/lib/data-table/parsers\";\n\nexport type baseOption = {\n\tlabel: string | ReactNode;\n\tvalue: string;\n\tcount?: number;\n\ticon?: React.FC<React.SVGProps<SVGSVGElement>>;\n};\nexport type Options = Promise<baseOption[]> | baseOption[];\nexport type OptionType = () => Options;\n\ndeclare module \"@tanstack/react-table\" {\n\t// biome-ignore lint/correctness/noUnusedVariables: TValue is used in the ColumnMeta interface\n\tinterface ColumnMeta<TData extends RowData, TValue> {\n\t\tlabel?: string;\n\t\tplaceholder?: string;\n\t\tvariant?: FilterVariant;\n\t\toptions?: OptionType;\n\t\trange?: [number, number];\n\t\tpriority?: number;\n\t\tunit?: string;\n\t\ticon?: React.FC<React.SVGProps<SVGSVGElement>>;\n\t}\n}\n\nexport type FilterOperator = DataTableConfig[\"operators\"][number];\nexport type FilterVariant = DataTableConfig[\"filterVariants\"][number];\nexport type JoinOperator = DataTableConfig[\"joinOperators\"][number];\n\nexport interface ExtendedColumnSort<TData> extends Omit<ColumnSort, \"id\"> {\n\tid: Extract<keyof TData, string>;\n}\n\nexport interface ExtendedColumnFilter<TData> extends FilterItemSchema {\n\tid: Extract<keyof TData, string>;\n}\n\nexport interface DataTableRowAction<TData> {\n\trow: Row<TData>;\n\tvariant: \"update\" | \"delete\";\n}\n",
      type: "registry:lib",
    },{
      path: "lib/data-table/config/format.ts",
      content: "export function formatDate(\n\tdate: Date | string | number | undefined,\n\topts: Intl.DateTimeFormatOptions = {},\n) {\n\tif (!date) return \"\";\n\n\ttry {\n\t\treturn new Intl.DateTimeFormat(\"en-US\", {\n\t\t\tmonth: opts.month ?? \"long\",\n\t\t\tday: opts.day ?? \"numeric\",\n\t\t\tyear: opts.year ?? \"numeric\",\n\t\t\t...opts,\n\t\t}).format(new Date(date));\n\t} catch (_err) {\n\t\treturn \"\";\n\t}\n}\n",
      type: "registry:lib",
    },{
      path: "lib/data-table/config/config.ts",
      content: "export type DataTableConfig = typeof dataTableConfig;\n\nexport const dataTableConfig = {\n\ttextOperators: [\n\t\t{ label: \"Contains\", value: \"iLike\" as const },\n\t\t{ label: \"Does not contain\", value: \"notILike\" as const },\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tnumericOperators: [\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t\t{ label: \"Is less than\", value: \"lt\" as const },\n\t\t{ label: \"Is less than or equal to\", value: \"lte\" as const },\n\t\t{ label: \"Is greater than\", value: \"gt\" as const },\n\t\t{ label: \"Is greater than or equal to\", value: \"gte\" as const },\n\t\t{ label: \"Is between\", value: \"isBetween\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tdateOperators: [\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t\t{ label: \"Is before\", value: \"lt\" as const },\n\t\t{ label: \"Is after\", value: \"gt\" as const },\n\t\t{ label: \"Is on or before\", value: \"lte\" as const },\n\t\t{ label: \"Is on or after\", value: \"gte\" as const },\n\t\t{ label: \"Is between\", value: \"isBetween\" as const },\n\t\t{ label: \"Is relative to today\", value: \"isRelativeToToday\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tselectOperators: [\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tmultiSelectOperators: [\n\t\t{ label: \"Has any of\", value: \"inArray\" as const },\n\t\t{ label: \"Has none of\", value: \"notInArray\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tbooleanOperators: [\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t],\n\tsortOrders: [\n\t\t{ label: \"Asc\", value: \"asc\" as const },\n\t\t{ label: \"Desc\", value: \"desc\" as const },\n\t],\n\tfilterVariants: [\n\t\t\"text\",\n\t\t\"number\",\n\t\t\"range\",\n\t\t\"date\",\n\t\t\"dateRange\",\n\t\t\"boolean\",\n\t\t\"select\",\n\t\t\"multiSelect\",\n\t] as const,\n\toperators: [\n\t\t\"iLike\",\n\t\t\"notILike\",\n\t\t\"eq\",\n\t\t\"ne\",\n\t\t\"inArray\",\n\t\t\"notInArray\",\n\t\t\"isEmpty\",\n\t\t\"isNotEmpty\",\n\t\t\"lt\",\n\t\t\"lte\",\n\t\t\"gt\",\n\t\t\"gte\",\n\t\t\"isBetween\",\n\t\t\"isRelativeToToday\",\n\t] as const,\n\tjoinOperators: [\"and\", \"or\"] as const,\n};\n",
      type: "registry:lib",
    },{
      path: "lib/data-table/parsers.ts",
      content: "import { createParser } from \"nuqs/server\";\nimport { z } from \"zod\";\nimport { dataTableConfig } from \"@/lib/data-table/config/config\";\nimport type {\n\tExtendedColumnFilter,\n\tExtendedColumnSort,\n} from \"@/lib/data-table/types/data-table\";\n\nconst sortingItemSchema = z.object({\n\tid: z.string(),\n\tdesc: z.boolean(),\n});\n\nexport const getSortingStateParser = <TData>(\n\tcolumnIds?: string[] | Set<string>,\n) => {\n\tconst validKeys = columnIds\n\t\t? columnIds instanceof Set\n\t\t\t? columnIds\n\t\t\t: new Set(columnIds)\n\t\t: null;\n\n\treturn createParser({\n\t\tparse: (value) => {\n\t\t\ttry {\n\t\t\t\tconst parsed = JSON.parse(value);\n\t\t\t\tconst result = z.array(sortingItemSchema).safeParse(parsed);\n\n\t\t\t\tif (!result.success) return null;\n\n\t\t\t\tif (validKeys && result.data.some((item) => !validKeys.has(item.id))) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn result.data as ExtendedColumnSort<TData>[];\n\t\t\t} catch {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tserialize: (value) => JSON.stringify(value),\n\t\teq: (a, b) =>\n\t\t\ta.length === b.length &&\n\t\t\ta.every(\n\t\t\t\t(item, index) =>\n\t\t\t\t\titem.id === b[index]?.id && item.desc === b[index]?.desc,\n\t\t\t),\n\t});\n};\n\nconst filterItemSchema = z.object({\n\tid: z.string(),\n\tvalue: z.union([z.string(), z.array(z.string())]),\n\tvariant: z.enum(dataTableConfig.filterVariants),\n\toperator: z.enum(dataTableConfig.operators),\n\tfilterId: z.string(),\n});\n\nexport type FilterItemSchema = z.infer<typeof filterItemSchema>;\n\nexport const getFiltersStateParser = <TData>(\n\tcolumnIds?: string[] | Set<string>,\n) => {\n\tconst validKeys = columnIds\n\t\t? columnIds instanceof Set\n\t\t\t? columnIds\n\t\t\t: new Set(columnIds)\n\t\t: null;\n\n\treturn createParser({\n\t\tparse: (value) => {\n\t\t\ttry {\n\t\t\t\tconst parsed = JSON.parse(value);\n\t\t\t\tconst result = z.array(filterItemSchema).safeParse(parsed);\n\n\t\t\t\tif (!result.success) return null;\n\n\t\t\t\tif (validKeys && result.data.some((item) => !validKeys.has(item.id))) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn result.data as ExtendedColumnFilter<TData>[];\n\t\t\t} catch {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tserialize: (value) => JSON.stringify(value),\n\t\teq: (a, b) =>\n\t\t\ta.length === b.length &&\n\t\t\ta.every(\n\t\t\t\t(filter, index) =>\n\t\t\t\t\tfilter.id === b[index]?.id &&\n\t\t\t\t\tfilter.value === b[index]?.value &&\n\t\t\t\t\tfilter.variant === b[index]?.variant &&\n\t\t\t\t\tfilter.operator === b[index]?.operator,\n\t\t\t),\n\t});\n};\n",
      type: "registry:lib",
    },{
      path: "hooks/data-table/use-callback-ref.ts",
      content: "import * as React from \"react\";\n\n/**\n * @see https://github.com/radix-ui/primitives/blob/main/packages/react/use-callback-ref/src/useCallbackRef.tsx\n */\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: never[]) => unknown>(\n\tcallback: T | undefined,\n): T {\n\tconst callbackRef = React.useRef(callback);\n\n\tReact.useEffect(() => {\n\t\tcallbackRef.current = callback;\n\t});\n\n\t// https://github.com/facebook/react/issues/19240\n\treturn React.useMemo(\n\t\t() => ((...args) => callbackRef.current?.(...args)) as T,\n\t\t[],\n\t);\n}\n\nexport { useCallbackRef };\n",
      type: "registry:hook",
    },{
      path: "hooks/data-table/use-data-table.tsx",
      content: "\"use client\";\n\nimport {\n\ttype ColumnDef,\n\ttype ColumnFiltersState,\n\tgetCoreRowModel,\n\tgetFacetedMinMaxValues,\n\tgetFacetedRowModel,\n\tgetFacetedUniqueValues,\n\tgetFilteredRowModel,\n\tgetPaginationRowModel,\n\tgetSortedRowModel,\n\ttype PaginationState,\n\ttype RowSelectionState,\n\ttype SortingState,\n\ttype TableOptions,\n\ttype TableState,\n\ttype Updater,\n\tuseReactTable,\n\ttype VisibilityState,\n} from \"@tanstack/react-table\";\nimport {\n\ttype Parser,\n\tparseAsArrayOf,\n\tparseAsInteger,\n\tparseAsString,\n\ttype UseQueryStateOptions,\n\tuseQueryState,\n\tuseQueryStates,\n} from \"nuqs\";\nimport * as React from \"react\";\nimport { useDebouncedCallback } from \"@/hooks/data-table/use-debounced-callback\";\nimport { getSortingStateParser } from \"@/lib/data-table/parsers\";\nimport type { ExtendedColumnSort } from \"@/lib/data-table/types/data-table\";\n\nconst PAGE_KEY = \"page\";\nconst PER_PAGE_KEY = \"perPage\";\nconst SORT_KEY = \"sort\";\nconst ARRAY_SEPARATOR = \",\";\nconst DEBOUNCE_MS = 300;\nconst THROTTLE_MS = 50;\n\ninterface UseDataTableProps<TData>\n\textends Omit<\n\t\t\tTableOptions<TData>,\n\t\t\t| \"state\"\n\t\t\t| \"pageCount\"\n\t\t\t| \"getCoreRowModel\"\n\t\t\t| \"manualFiltering\"\n\t\t\t| \"manualPagination\"\n\t\t\t| \"manualSorting\"\n\t\t>,\n\t\tRequired<Pick<TableOptions<TData>, \"pageCount\">> {\n\tinitialState?: Omit<Partial<TableState>, \"sorting\"> & {\n\t\tsorting?: ExtendedColumnSort<TData>[];\n\t};\n\thistory?: \"push\" | \"replace\";\n\tdebounceMs?: number;\n\tthrottleMs?: number;\n\tclearOnDefault?: boolean;\n\tenableAdvancedFilter?: boolean;\n\tscroll?: boolean;\n\tshallow?: boolean;\n\tstartTransition?: React.TransitionStartFunction;\n}\n\nexport function useDataTable<TData>(props: UseDataTableProps<TData>) {\n\tconst {\n\t\tcolumns,\n\t\tpageCount = -1,\n\t\tinitialState,\n\t\thistory = \"replace\",\n\t\tdebounceMs = DEBOUNCE_MS,\n\t\tthrottleMs = THROTTLE_MS,\n\t\tclearOnDefault = false,\n\t\tenableAdvancedFilter = false,\n\t\tscroll = false,\n\t\tshallow = false,\n\t\tstartTransition,\n\t\t...tableProps\n\t} = props;\n\tconst getFlatCols = (cols: ColumnDef<TData>[]): ColumnDef<TData>[] =>\n\t\tcols.flatMap((col) =>\n\t\t\t\"columns\" in col && Array.isArray(col.columns)\n\t\t\t\t? [col, ...getFlatCols(col.columns)]\n\t\t\t\t: [col],\n\t\t);\n\n\tconst flatCols = getFlatCols(columns);\n\n\tconst queryStateOptions = React.useMemo<\n\t\tOmit<UseQueryStateOptions<string>, \"parse\">\n\t>(\n\t\t() => ({\n\t\t\thistory,\n\t\t\tscroll,\n\t\t\tshallow,\n\t\t\tthrottleMs,\n\t\t\tdebounceMs,\n\t\t\tclearOnDefault,\n\t\t\tstartTransition,\n\t\t}),\n\t\t[\n\t\t\thistory,\n\t\t\tscroll,\n\t\t\tshallow,\n\t\t\tthrottleMs,\n\t\t\tdebounceMs,\n\t\t\tclearOnDefault,\n\t\t\tstartTransition,\n\t\t],\n\t);\n\n\tconst [rowSelection, setRowSelection] = React.useState<RowSelectionState>(\n\t\tinitialState?.rowSelection ?? {},\n\t);\n\tconst [columnVisibility, setColumnVisibility] =\n\t\tReact.useState<VisibilityState>(initialState?.columnVisibility ?? {});\n\n\tconst [page, setPage] = useQueryState(\n\t\tPAGE_KEY,\n\t\tparseAsInteger.withOptions(queryStateOptions).withDefault(1),\n\t);\n\tconst [perPage, setPerPage] = useQueryState(\n\t\tPER_PAGE_KEY,\n\t\tparseAsInteger\n\t\t\t.withOptions(queryStateOptions)\n\t\t\t.withDefault(initialState?.pagination?.pageSize ?? 50),\n\t);\n\n\tconst pagination: PaginationState = React.useMemo(() => {\n\t\treturn {\n\t\t\tpageIndex: page - 1, // zero-based index -> one-based index\n\t\t\tpageSize: perPage,\n\t\t};\n\t}, [page, perPage]);\n\n\tconst onPaginationChange = React.useCallback(\n\t\t(updaterOrValue: Updater<PaginationState>) => {\n\t\t\tif (typeof updaterOrValue === \"function\") {\n\t\t\t\tconst newPagination = updaterOrValue(pagination);\n\t\t\t\tvoid setPage(newPagination.pageIndex + 1);\n\t\t\t\tvoid setPerPage(newPagination.pageSize);\n\t\t\t} else {\n\t\t\t\tvoid setPage(updaterOrValue.pageIndex + 1);\n\t\t\t\tvoid setPerPage(updaterOrValue.pageSize);\n\t\t\t}\n\t\t},\n\t\t[pagination, setPage, setPerPage],\n\t);\n\n\tconst columnIds = React.useMemo(() => {\n\t\treturn new Set(flatCols.map((e) => e.id).filter(Boolean) as string[]);\n\t}, [flatCols]);\n\n\tconst [sorting, setSorting] = useQueryState(\n\t\tSORT_KEY,\n\t\tgetSortingStateParser<TData>(columnIds)\n\t\t\t.withOptions(queryStateOptions)\n\t\t\t.withDefault(initialState?.sorting ?? []),\n\t);\n\n\tconst onSortingChange = React.useCallback(\n\t\t(updaterOrValue: Updater<SortingState>) => {\n\t\t\tif (typeof updaterOrValue === \"function\") {\n\t\t\t\tconst newSorting = updaterOrValue(sorting);\n\t\t\t\tsetSorting(newSorting as ExtendedColumnSort<TData>[]);\n\t\t\t} else {\n\t\t\t\tsetSorting(updaterOrValue as ExtendedColumnSort<TData>[]);\n\t\t\t}\n\t\t},\n\t\t[sorting, setSorting],\n\t);\n\n\tconst filterableColumns = React.useMemo(() => {\n\t\tif (enableAdvancedFilter) return [];\n\n\t\treturn flatCols.filter((column) => column.enableColumnFilter);\n\t}, [flatCols, enableAdvancedFilter]);\n\n\tconst filterParsers = React.useMemo(() => {\n\t\tif (enableAdvancedFilter) return {};\n\n\t\treturn filterableColumns.reduce<\n\t\t\tRecord<string, Parser<string> | Parser<string[]>>\n\t\t>((acc, column) => {\n\t\t\tif (column.meta?.options) {\n\t\t\t\tacc[column.id ?? \"\"] = parseAsArrayOf(\n\t\t\t\t\tparseAsString,\n\t\t\t\t\tARRAY_SEPARATOR,\n\t\t\t\t).withOptions(queryStateOptions);\n\t\t\t} else {\n\t\t\t\tacc[column.id ?? \"\"] = parseAsString.withOptions(queryStateOptions);\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, {});\n\t}, [filterableColumns, queryStateOptions, enableAdvancedFilter]);\n\n\tconst [filterValues, setFilterValues] = useQueryStates(filterParsers);\n\n\tconst debouncedSetFilterValues = useDebouncedCallback(\n\t\t(values: typeof filterValues) => {\n\t\t\tvoid setPage(1);\n\t\t\tvoid setFilterValues(values);\n\t\t},\n\t\tdebounceMs,\n\t);\n\n\tconst initialColumnFilters: ColumnFiltersState = React.useMemo(() => {\n\t\tif (enableAdvancedFilter) return [];\n\n\t\treturn Object.entries(filterValues).reduce<ColumnFiltersState>(\n\t\t\t(filters, [key, value]) => {\n\t\t\t\tif (value !== null) {\n\t\t\t\t\tconst processedValue = Array.isArray(value)\n\t\t\t\t\t\t? value\n\t\t\t\t\t\t: typeof value === \"string\" && /[^a-zA-Z0-9]/.test(value)\n\t\t\t\t\t\t\t? value.split(/[^a-zA-Z0-9]+/).filter(Boolean)\n\t\t\t\t\t\t\t: [value];\n\n\t\t\t\t\tfilters.push({\n\t\t\t\t\t\tid: key,\n\t\t\t\t\t\tvalue: processedValue,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn filters;\n\t\t\t},\n\t\t\t[],\n\t\t);\n\t}, [filterValues, enableAdvancedFilter]);\n\n\tconst [columnFilters, setColumnFilters] =\n\t\tReact.useState<ColumnFiltersState>(initialColumnFilters);\n\n\tconst onColumnFiltersChange = React.useCallback(\n\t\t(updaterOrValue: Updater<ColumnFiltersState>) => {\n\t\t\tif (enableAdvancedFilter) return;\n\n\t\t\tsetColumnFilters((prev) => {\n\t\t\t\tconst next =\n\t\t\t\t\ttypeof updaterOrValue === \"function\"\n\t\t\t\t\t\t? updaterOrValue(prev)\n\t\t\t\t\t\t: updaterOrValue;\n\n\t\t\t\tconst filterUpdates = next.reduce<\n\t\t\t\t\tRecord<string, string | string[] | null>\n\t\t\t\t>((acc, filter) => {\n\t\t\t\t\tif (filterableColumns.find((column) => column.id === filter.id)) {\n\t\t\t\t\t\tacc[filter.id] = filter.value as string | string[];\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t}, {});\n\n\t\t\t\tfor (const prevFilter of prev) {\n\t\t\t\t\tif (!next.some((filter) => filter.id === prevFilter.id)) {\n\t\t\t\t\t\tfilterUpdates[prevFilter.id] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdebouncedSetFilterValues(filterUpdates);\n\t\t\t\treturn next;\n\t\t\t});\n\t\t},\n\t\t[debouncedSetFilterValues, filterableColumns, enableAdvancedFilter],\n\t);\n\n\tconst table = useReactTable({\n\t\t...tableProps,\n\t\tcolumns,\n\t\tinitialState,\n\t\tpageCount,\n\t\tstate: {\n\t\t\tpagination,\n\t\t\tsorting,\n\t\t\tcolumnVisibility,\n\t\t\trowSelection,\n\t\t\tcolumnFilters,\n\t\t},\n\t\tdefaultColumn: {\n\t\t\t...tableProps.defaultColumn,\n\t\t\tenableColumnFilter: false,\n\t\t},\n\t\tenableRowSelection: true,\n\t\tonRowSelectionChange: setRowSelection,\n\t\tonPaginationChange,\n\t\tonSortingChange,\n\t\tonColumnFiltersChange,\n\t\tonColumnVisibilityChange: setColumnVisibility,\n\t\tgetCoreRowModel: getCoreRowModel(),\n\t\tgetFilteredRowModel: getFilteredRowModel(),\n\t\tgetPaginationRowModel: getPaginationRowModel(),\n\t\tgetSortedRowModel: getSortedRowModel(),\n\t\tgetFacetedRowModel: getFacetedRowModel(),\n\t\tgetFacetedUniqueValues: getFacetedUniqueValues(),\n\t\tgetFacetedMinMaxValues: getFacetedMinMaxValues(),\n\t\tmanualPagination: true,\n\t\tmanualSorting: true,\n\t\tmanualFiltering: true,\n\t});\n\n\treturn { table, shallow, debounceMs, throttleMs };\n}\n",
      type: "registry:hook",
    },{
      path: "hooks/data-table/use-debounced-callback.ts",
      content: "import * as React from \"react\";\nimport { useCallbackRef } from \"@/hooks/data-table/use-callback-ref\";\n\nexport function useDebouncedCallback<T extends (...args: never[]) => unknown>(\n\tcallback: T,\n\tdelay: number,\n) {\n\tconst handleCallback = useCallbackRef(callback);\n\tconst debounceTimerRef = React.useRef(0);\n\tReact.useEffect(\n\t\t() => () => window.clearTimeout(debounceTimerRef.current),\n\t\t[],\n\t);\n\n\tconst setValue = React.useCallback(\n\t\t(...args: Parameters<T>) => {\n\t\t\twindow.clearTimeout(debounceTimerRef.current);\n\t\t\tdebounceTimerRef.current = window.setTimeout(\n\t\t\t\t() => handleCallback(...args),\n\t\t\t\tdelay,\n\t\t\t);\n\t\t},\n\t\t[handleCallback, delay],\n\t);\n\n\treturn setValue;\n}\n",
      type: "registry:hook",
    },{
      path: "components/data-table/button.tsx",
      content: "import { Slot } from \"@radix-ui/react-slot\";\nimport type { VariantProps } from \"class-variance-authority\";\nimport { cva } from \"class-variance-authority\";\nimport { Loader2 } from \"lucide-react\";\nimport type * as React from \"react\";\nimport type { JSX } from \"react\";\nimport { cn } from \"@/lib/data-table/utils\";\n\nconst buttonVariants = cva(\n\t\"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all justify-center disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4  shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault:\n\t\t\t\t\t\"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n\t\t\t\tdestructive:\n\t\t\t\t\t\"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n\t\t\t\toutline:\n\t\t\t\t\t\"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n\t\t\t\tsecondary:\n\t\t\t\t\t\"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n\t\t\t\tghost:\n\t\t\t\t\t\"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n\t\t\t\tlink: \"text-primary underline-offset-4 hover:underline\",\n\t\t\t\tsuccess:\n\t\t\t\t\t\"bg-success text-success-foreground shadow-xs hover:bg-success/90 focus-visible:ring-success/20 dark:focus-visible:ring-success/40 dark:bg-success/60\",\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tdefault: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n\t\t\t\tsm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n\t\t\t\txs: \"h-7 rounded-md gap-1 px-2 has-[>svg]:px-1.5 text-sm\",\n\t\t\t\txs2: \"h-6 rounded-md gap-1 px-2 has-[>svg]:px-1 text-sm\",\n\t\t\t\tlg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n\t\t\t\ticon: \"size-9\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t\tsize: \"default\",\n\t\t},\n\t},\n);\n\nfunction Button({\n\tclassName,\n\tvariant,\n\tsize,\n\tasChild = false,\n\tisLoading = false,\n\tchildren,\n\ticon,\n\n\t...props\n}: React.ComponentProps<\"button\"> &\n\tVariantProps<typeof buttonVariants> & {\n\t\tasChild?: boolean;\n\t\tisLoading?: boolean;\n\t\ticon?: JSX.Element;\n\t}) {\n\tconst Comp = asChild ? Slot : \"button\";\n\n\treturn (\n\t\t<Comp\n\t\t\tdata-slot=\"button\"\n\t\t\tclassName={cn(\n\t\t\t\tbuttonVariants({\n\t\t\t\t\tvariant,\n\t\t\t\t\tsize,\n\t\t\t\t\tclassName,\n\t\t\t\t}),\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{isLoading ? <Loader2 className={cn(\"animate-spin\")} /> : icon}\n\t\t\t{children}\n\t\t</Comp>\n\t);\n}\n\nexport { Button, buttonVariants };\n",
      type: "registry:component",
    },{
      path: "components/data-table/badge.tsx",
      content: "import { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\n\nimport { cn } from \"@/lib/data-table/utils\";\n\nconst badgeVariants = cva(\n\t\"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault:\n\t\t\t\t\t\"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n\t\t\t\tsecondary:\n\t\t\t\t\t\"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n\t\t\t\tdestructive:\n\t\t\t\t\t\"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n\t\t\t\toutline:\n\t\t\t\t\t\"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n\t\t\t\tsuccess:\n\t\t\t\t\t\"bg-success text-success-foreground shadow-xs hover:bg-success/90 focus-visible:ring-success/20 dark:focus-visible:ring-success/40 dark:bg-success/60\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t},\n\t},\n);\n\nfunction Badge({\n\tclassName,\n\tvariant,\n\tasChild = false,\n\t...props\n}: React.ComponentProps<\"span\"> &\n\tVariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n\tconst Comp = asChild ? Slot : \"span\";\n\n\treturn (\n\t\t<Comp\n\t\t\tdata-slot=\"badge\"\n\t\t\tclassName={cn(badgeVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Badge, badgeVariants };\n",
      type: "registry:component",
    }],
  },
}