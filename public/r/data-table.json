{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-table",
  "type": "registry:component",
  "title": "Data Table Suite",
  "description": "A set of reusable data table components, filters, view options, pagination, skeletons, and utilities.",
  "dependencies": [
    "lucide-react",
    "@tanstack/react-table",
    "@tanstack/react-query",
    "@lukemorales/query-key-factory",
    "nuqs",
    "cmdk",
    "date-fns",
    "react-day-picker",
    "clsx@2.1.1",
    "tailwind-merge",
    "@supabase/postgrest-js"
  ],
  "devDependencies": [],
  "registryDependencies": [
    "table",
    "dropdown-menu",
    "select",
    "command",
    "popover",
    "separator",
    "skeleton",
    "label",
    "input",
    "slider",
    "calendar"
  ],
  "files": [
    {
      "path": "components/data-table/data-table.tsx",
      "content": "import { flexRender, type Table as TanstackTable } from \"@tanstack/react-table\";\nimport type React from \"react\";\n\nimport { DataTablePagination } from \"@/components/data-table/data-table-pagination\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { cn, getCommonPinningStyles } from \"@/lib/data-table/utils\";\n\ninterface DataTableProps<TData> extends React.ComponentProps<\"div\"> {\n\ttable: TanstackTable<TData>;\n\tactionBar?: React.ReactNode;\n\tcellHeight?: string;\n\tshowPagination?: boolean;\n}\n\nexport function DataTable<TData>({\n\ttable,\n\tactionBar,\n\tchildren,\n\tclassName,\n\tcellHeight = \"h-20\",\n\tshowPagination = true,\n\t...props\n}: DataTableProps<TData>) {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\"flex w-full flex-col gap-2.5 overflow-auto\", className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t\t<div className=\"overflow-hidden rounded-md border\">\n\t\t\t\t<Table>\n\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t{table.getHeaderGroups().map((headerGroup) => (\n\t\t\t\t\t\t\t<TableRow key={headerGroup.id}>\n\t\t\t\t\t\t\t\t{headerGroup.headers.map((header) => (\n\t\t\t\t\t\t\t\t\t<TableHead\n\t\t\t\t\t\t\t\t\t\tkey={header.id}\n\t\t\t\t\t\t\t\t\t\tcolSpan={header.colSpan}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t...getCommonPinningStyles({ column: header.column }),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{header.isPlaceholder\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t: flexRender(\n\t\t\t\t\t\t\t\t\t\t\t\t\theader.column.columnDef.header,\n\t\t\t\t\t\t\t\t\t\t\t\t\theader.getContext(),\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableHeader>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{table.getRowModel().rows?.length ? (\n\t\t\t\t\t\t\ttable.getRowModel().rows.map((row) => (\n\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\tkey={row.id}\n\t\t\t\t\t\t\t\t\tdata-state={row.getIsSelected() && \"selected\"}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{row.getVisibleCells().map((cell) => (\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\tkey={cell.id}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cellHeight}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t...getCommonPinningStyles({ column: cell.column }),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{flexRender(\n\t\t\t\t\t\t\t\t\t\t\t\tcell.column.columnDef.cell,\n\t\t\t\t\t\t\t\t\t\t\t\tcell.getContext(),\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\tcolSpan={table.getAllColumns().length}\n\t\t\t\t\t\t\t\t\tclassName=\"h-24 text-center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNo results.\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t\t<div className=\"flex flex-col justify-end gap-2.5\">\n\t\t\t\t{showPagination && <DataTablePagination table={table} />}\n\t\t\t\t{actionBar &&\n\t\t\t\t\ttable.getFilteredSelectedRowModel().rows.length > 0 &&\n\t\t\t\t\tactionBar}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-column-header.tsx",
      "content": "\"use client\";\n\nimport type { Column } from \"@tanstack/react-table\";\nimport {\n\tChevronDown,\n\tChevronsUpDown,\n\tChevronUp,\n\tEyeOff,\n\tX,\n} from \"lucide-react\";\nimport type React from \"react\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuCheckboxItem,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { cn } from \"@/lib/data-table/utils\";\n\ninterface DataTableColumnHeaderProps<TData, TValue>\n\textends React.ComponentProps<typeof DropdownMenuTrigger> {\n\tcolumn: Column<TData, TValue>;\n\ttitle: string;\n}\nexport function DataTableColumnHeader<TData, TValue>({\n\tcolumn,\n\ttitle,\n\tclassName,\n\t...props\n}: DataTableColumnHeaderProps<TData, TValue>) {\n\tif (!column.getCanSort() && !column.getCanHide()) {\n\t\treturn <div className={cn(className)}>{title}</div>;\n\t}\n\n\treturn (\n\t\t<DropdownMenu>\n\t\t\t<DropdownMenuTrigger\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"-ml-1.5 flex h-8 items-center gap-1.5 rounded-md px-2 py-1.5 hover:bg-accent focus:outline-none focus:ring-1 focus:ring-ring data-[state=open]:bg-accent [&_svg]:size-4 [&_svg]:shrink-0 [&_svg]:text-muted-foreground\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{title}\n\t\t\t\t{column.getCanSort() &&\n\t\t\t\t\t(column.getIsSorted() === \"desc\" ? (\n\t\t\t\t\t\t<ChevronDown />\n\t\t\t\t\t) : column.getIsSorted() === \"asc\" ? (\n\t\t\t\t\t\t<ChevronUp />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ChevronsUpDown />\n\t\t\t\t\t))}\n\t\t\t</DropdownMenuTrigger>\n\t\t\t<DropdownMenuContent align=\"start\" className=\"w-28\">\n\t\t\t\t{column.getCanSort() && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<DropdownMenuCheckboxItem\n\t\t\t\t\t\t\tclassName=\"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground\"\n\t\t\t\t\t\t\tchecked={column.getIsSorted() === \"asc\"}\n\t\t\t\t\t\t\tonClick={() => column.toggleSorting(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ChevronUp />\n\t\t\t\t\t\t\tAsc\n\t\t\t\t\t\t</DropdownMenuCheckboxItem>\n\t\t\t\t\t\t<DropdownMenuCheckboxItem\n\t\t\t\t\t\t\tclassName=\"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground\"\n\t\t\t\t\t\t\tchecked={column.getIsSorted() === \"desc\"}\n\t\t\t\t\t\t\tonClick={() => column.toggleSorting(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ChevronDown />\n\t\t\t\t\t\t\tDesc\n\t\t\t\t\t\t</DropdownMenuCheckboxItem>\n\t\t\t\t\t\t{column.getIsSorted() && (\n\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\tclassName=\"pl-2 [&_svg]:text-muted-foreground\"\n\t\t\t\t\t\t\t\tonClick={() => column.clearSorting()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<X />\n\t\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{column.getCanHide() && (\n\t\t\t\t\t<DropdownMenuCheckboxItem\n\t\t\t\t\t\tclassName=\"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground\"\n\t\t\t\t\t\tchecked={!column.getIsVisible()}\n\t\t\t\t\t\tonClick={() => column.toggleVisibility(false)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<EyeOff />\n\t\t\t\t\t\tHide\n\t\t\t\t\t</DropdownMenuCheckboxItem>\n\t\t\t\t)}\n\t\t\t</DropdownMenuContent>\n\t\t</DropdownMenu>\n\t);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-date-filter.tsx",
      "content": "\"use client\";\n\nimport type { Column } from \"@tanstack/react-table\";\nimport { CalendarIcon, XCircle } from \"lucide-react\";\nimport * as React from \"react\";\nimport type { DateRange } from \"react-day-picker\";\n\nimport { Button, buttonVariants } from \"@/components/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { formatDate } from \"@/lib/data-table/config/format\";\n\ntype DateSelection = Date[] | DateRange;\n\nfunction getIsDateRange(value: DateSelection): value is DateRange {\n\treturn value && typeof value === \"object\" && !Array.isArray(value);\n}\nfunction parseAsDate(timestamp: number | string | undefined): Date | undefined {\n\tif (!timestamp) return undefined;\n\tconst numericTimestamp =\n\t\ttypeof timestamp === \"string\" ? Number(timestamp) : timestamp;\n\tconst date = new Date(numericTimestamp);\n\treturn !Number.isNaN(date.getTime()) ? date : undefined;\n}\n\nfunction parseColumnFilterValue(value: unknown) {\n\tif (value === null || value === undefined) {\n\t\treturn [];\n\t}\n\n\tif (Array.isArray(value)) {\n\t\treturn value.map((item) => {\n\t\t\tif (typeof item === \"number\" || typeof item === \"string\") {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\tif (typeof value === \"string\" || typeof value === \"number\") {\n\t\treturn [value];\n\t}\n\n\treturn [];\n}\n\ninterface DataTableDateFilterProps<TData> {\n\tcolumn: Column<TData, unknown>;\n\ttitle?: string;\n\tmultiple?: boolean;\n}\n\nexport function DataTableDateFilter<TData>({\n\tcolumn,\n\ttitle,\n\tmultiple,\n}: DataTableDateFilterProps<TData>) {\n\tconst columnFilterValue = column.getFilterValue();\n\n\tconst selectedDates = React.useMemo<DateSelection>(() => {\n\t\tif (!columnFilterValue) {\n\t\t\treturn multiple ? { from: undefined, to: undefined } : [];\n\t\t}\n\n\t\tif (multiple) {\n\t\t\tconst timestamps = parseColumnFilterValue(columnFilterValue);\n\t\t\treturn {\n\t\t\t\tfrom: parseAsDate(timestamps[0]),\n\t\t\t\tto: parseAsDate(timestamps[1]),\n\t\t\t};\n\t\t}\n\n\t\tconst timestamps = parseColumnFilterValue(columnFilterValue);\n\t\tconst date = parseAsDate(timestamps[0]);\n\t\treturn date ? [date] : [];\n\t}, [columnFilterValue, multiple]);\n\n\tconst onSelect = React.useCallback(\n\t\t(date: Date | DateRange | undefined) => {\n\t\t\tif (!date) {\n\t\t\t\tcolumn.setFilterValue(undefined);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (multiple && !(\"getTime\" in date)) {\n\t\t\t\tconst from = date.from?.getTime();\n\t\t\t\tconst to = date.to?.getTime();\n\t\t\t\tcolumn.setFilterValue(from || to ? [from, to] : undefined);\n\t\t\t} else if (!multiple && \"getTime\" in date) {\n\t\t\t\tcolumn.setFilterValue(date.getTime());\n\t\t\t}\n\t\t},\n\t\t[column, multiple],\n\t);\n\n\tconst onReset = React.useCallback(\n\t\t(event: React.MouseEvent) => {\n\t\t\tevent.stopPropagation();\n\t\t\tcolumn.setFilterValue(undefined);\n\t\t},\n\t\t[column],\n\t);\n\n\tconst hasValue = React.useMemo(() => {\n\t\tif (multiple) {\n\t\t\tif (!getIsDateRange(selectedDates)) return false;\n\t\t\treturn selectedDates.from || selectedDates.to;\n\t\t}\n\t\tif (!Array.isArray(selectedDates)) return false;\n\t\treturn selectedDates.length > 0;\n\t}, [multiple, selectedDates]);\n\n\tconst formatDateRange = React.useCallback((range: DateRange) => {\n\t\tif (!range.from && !range.to) return \"\";\n\t\tif (range.from && range.to) {\n\t\t\treturn `${formatDate(range.from)} - ${formatDate(range.to)}`;\n\t\t}\n\t\treturn formatDate(range.from ?? range.to);\n\t}, []);\n\n\tconst label = React.useMemo(() => {\n\t\tif (multiple) {\n\t\t\tif (!getIsDateRange(selectedDates)) return null;\n\n\t\t\tconst hasSelectedDates = selectedDates.from || selectedDates.to;\n\t\t\tconst dateText = hasSelectedDates\n\t\t\t\t? formatDateRange(selectedDates)\n\t\t\t\t: \"Select date range\";\n\n\t\t\treturn (\n\t\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t\t<span>{title}</span>\n\t\t\t\t\t{hasSelectedDates && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\tclassName=\"mx-0.5 data-[orientation=vertical]:h-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>{dateText}</span>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tif (getIsDateRange(selectedDates)) return null;\n\n\t\tconst hasSelectedDate = selectedDates.length > 0;\n\t\tconst dateText = hasSelectedDate\n\t\t\t? formatDate(selectedDates[0])\n\t\t\t: \"Select date\";\n\n\t\treturn (\n\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t<span>{title}</span>\n\t\t\t\t{hasSelectedDate && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\tclassName=\"mx-0.5 data-[orientation=vertical]:h-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>{dateText}</span>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t);\n\t}, [selectedDates, multiple, formatDateRange, title]);\n\n\treturn (\n\t\t<Popover>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<div\n\t\t\t\t\tclassName={buttonVariants({\n\t\t\t\t\t\tvariant: \"outline\",\n\t\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\t\tclassName: \"border-dashed\",\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{hasValue ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-label={`Clear ${title} filter`}\n\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t\t\tclassName=\"rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XCircle />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CalendarIcon />\n\t\t\t\t\t)}\n\t\t\t\t\t{label}\n\t\t\t\t</div>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent className=\"w-auto p-0\" align=\"start\">\n\t\t\t\t{multiple ? (\n\t\t\t\t\t<Calendar\n\t\t\t\t\t\tinitialFocus\n\t\t\t\t\t\tmode=\"range\"\n\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\tgetIsDateRange(selectedDates)\n\t\t\t\t\t\t\t\t? selectedDates\n\t\t\t\t\t\t\t\t: { from: undefined, to: undefined }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<Calendar\n\t\t\t\t\t\tinitialFocus\n\t\t\t\t\t\tmode=\"single\"\n\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\t!getIsDateRange(selectedDates) ? selectedDates[0] : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-advance-date-filter.tsx",
      "content": "\"use client\";\n\nimport type { Column } from \"@tanstack/react-table\";\nimport { CalendarIcon, XCircle } from \"lucide-react\";\nimport * as React from \"react\";\nimport type { DateRange } from \"react-day-picker\";\n\nimport { Button, buttonVariants } from \"@/components/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { formatDate } from \"@/lib/data-table/config/format\";\n\ntype DateSelection = Date[] | DateRange;\n\nfunction getIsDateRange(value: DateSelection): value is DateRange {\n  return value && typeof value === \"object\" && !Array.isArray(value);\n}\nfunction parseAsDate(timestamp: number | string | undefined): Date | undefined {\n  if (!timestamp) return undefined;\n  const numericTimestamp =\n    typeof timestamp === \"string\" ? Number(timestamp) : timestamp;\n  const date = new Date(numericTimestamp);\n  return !Number.isNaN(date.getTime()) ? date : undefined;\n}\n\nfunction parseColumnFilterValue(value: unknown) {\n  if (value === null || value === undefined) {\n    return [];\n  }\n\n  if (Array.isArray(value)) {\n    return value.map((item) => {\n      if (typeof item === \"number\" || typeof item === \"string\") {\n        return item;\n      }\n      return undefined;\n    });\n  }\n\n  if (typeof value === \"string\" || typeof value === \"number\") {\n    return [value];\n  }\n\n  return [];\n}\n\ninterface DataTableDateFilterProps<TData> {\n  column: Column<TData, unknown>;\n  title?: string;\n  multiple?: boolean;\n}\n\nexport function DataTableAdvanceDateFilter<TData>({\n  column,\n  title,\n  multiple,\n}: DataTableDateFilterProps<TData>) {\n  const columnFilterValue = column.getFilterValue();\n\n  const selectedDates = React.useMemo<DateSelection>(() => {\n    if (!columnFilterValue) {\n      return multiple ? { from: undefined, to: undefined } : [];\n    }\n\n    if (multiple) {\n      const timestamps = parseColumnFilterValue(columnFilterValue);\n      return {\n        from: parseAsDate(timestamps[0]),\n        to: parseAsDate(timestamps[1]),\n      };\n    }\n\n    const timestamps = parseColumnFilterValue(columnFilterValue);\n    const date = parseAsDate(timestamps[0]);\n    return date ? [date] : [];\n  }, [columnFilterValue, multiple]);\n\n  const onSelect = React.useCallback(\n    (date: Date | DateRange | undefined) => {\n      if (!date) {\n        column.setFilterValue(undefined);\n        return;\n      }\n\n      if (multiple && !(\"getTime\" in date)) {\n        const from = date.from?.getTime();\n        const to = date.to?.getTime();\n        column.setFilterValue(from || to ? [from, to] : undefined);\n      } else if (!multiple && \"getTime\" in date) {\n        column.setFilterValue(date.getTime());\n      }\n    },\n    [column, multiple],\n  );\n\n  const onReset = React.useCallback(\n    (event: React.MouseEvent) => {\n      event.stopPropagation();\n      column.setFilterValue(undefined);\n    },\n    [column],\n  );\n\n  const hasValue = React.useMemo(() => {\n    if (multiple) {\n      if (!getIsDateRange(selectedDates)) return false;\n      return selectedDates.from || selectedDates.to;\n    }\n    if (!Array.isArray(selectedDates)) return false;\n    return selectedDates.length > 0;\n  }, [multiple, selectedDates]);\n\n  const formatDateRange = React.useCallback((range: DateRange) => {\n    if (!range.from && !range.to) return \"\";\n    if (range.from && range.to) {\n      return `${formatDate(range.from)} - ${formatDate(range.to)}`;\n    }\n    return formatDate(range.from ?? range.to);\n  }, []);\n\n  const label = React.useMemo(() => {\n    if (multiple) {\n      if (!getIsDateRange(selectedDates)) return null;\n\n      const hasSelectedDates = selectedDates.from || selectedDates.to;\n      const dateText = hasSelectedDates\n        ? formatDateRange(selectedDates)\n        : \"Select date range\";\n\n      return (\n        <span className=\"flex items-center gap-2\">\n          <span>{title}</span>\n          {hasSelectedDates && (\n            <>\n              <Separator\n                orientation=\"vertical\"\n                className=\"mx-0.5 data-[orientation=vertical]:h-4\"\n              />\n              <span>{dateText}</span>\n            </>\n          )}\n        </span>\n      );\n    }\n\n    if (getIsDateRange(selectedDates)) return null;\n\n    const hasSelectedDate = selectedDates.length > 0;\n    const dateText = hasSelectedDate\n      ? formatDate(selectedDates[0])\n      : \"Select date\";\n\n    return (\n      <span className=\"flex items-center gap-2\">\n        <span>{title}</span>\n        {hasSelectedDate && (\n          <>\n            <Separator\n              orientation=\"vertical\"\n              className=\"mx-0.5 data-[orientation=vertical]:h-4\"\n            />\n            <span>{dateText}</span>\n          </>\n        )}\n      </span>\n    );\n  }, [selectedDates, multiple, formatDateRange, title]);\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <div\n          className={buttonVariants({\n            variant: \"outline\",\n            size: \"sm\",\n            className: \"border-dashed\",\n          })}\n        >\n          {hasValue ? (\n            <Button\n              role=\"button\"\n              aria-label={`Clear ${title} filter`}\n              tabIndex={0}\n              onClick={onReset}\n              className=\"rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n            >\n              <XCircle />\n            </Button>\n          ) : (\n            <CalendarIcon />\n          )}\n          {label}\n        </div>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-auto p-0\" align=\"start\">\n        {multiple ? (\n          <Calendar\n            initialFocus\n            mode=\"range\"\n            selected={\n              getIsDateRange(selectedDates)\n                ? selectedDates\n                : { from: undefined, to: undefined }\n            }\n            onSelect={onSelect}\n          />\n        ) : (\n          <Calendar\n            initialFocus\n            mode=\"single\"\n            selected={\n              !getIsDateRange(selectedDates) ? selectedDates[0] : undefined\n            }\n            onSelect={onSelect}\n          />\n        )}\n      </PopoverContent>\n    </Popover>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-faceted-filter.tsx",
      "content": "\"use client\";\n\nimport { createQueryKeys } from \"@lukemorales/query-key-factory\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Column } from \"@tanstack/react-table\";\nimport { CommandLoading } from \"cmdk\";\nimport { Check, PlusCircle, XCircle } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Badge } from \"@/components/data-table/badge\";\nimport { Button, buttonVariants } from \"@/components/data-table/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandInput,\n\tCommandItem,\n\tCommandList,\n\tCommandSeparator,\n} from \"@/components/ui/command\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport type { baseOption, OptionType } from \"@/lib/data-table/types/data-table\";\nimport { cn } from \"@/lib/utils\";\n\ninterface DataTableFacetedFilterProps<TData, TValue> {\n\tcolumn?: Column<TData, TValue>;\n\ttitle?: string;\n\toptionsFn: OptionType | undefined;\n\tmultiple?: boolean;\n}\nconst key = createQueryKeys(\"data-table-faceted-filter-options\", {\n\tid: (\n\t\tid: string | undefined,\n\t\ttitle: string | undefined,\n\t\topts: Record<string, unknown>,\n\t) => [id, title, opts],\n});\n\nexport function DataTableFacetedFilter<TData, TValue>({\n\tcolumn,\n\ttitle,\n\toptionsFn,\n\tmultiple,\n}: DataTableFacetedFilterProps<TData, TValue>) {\n\tconst [open, setOpen] = React.useState(false);\n\n\tconst options = useQuery({\n\t\tqueryKey: key.id(column?.id, title, { optionsFn: optionsFn?.toString() })\n\t\t\t.queryKey,\n\t\tqueryFn: async () => {\n\t\t\treturn (await optionsFn?.()) || [];\n\t\t},\n\t});\n\n\tconst columnFilterValue = column?.getFilterValue();\n\tconst selectedValues = new Set(\n\t\tArray.isArray(columnFilterValue) ? columnFilterValue : [],\n\t);\n\n\tconst onItemSelect = React.useCallback(\n\t\t(option: baseOption, isSelected: boolean) => {\n\t\t\tif (!column) return;\n\n\t\t\tif (multiple) {\n\t\t\t\tconst newSelectedValues = new Set(selectedValues);\n\t\t\t\tif (isSelected) {\n\t\t\t\t\tnewSelectedValues.delete(option.value);\n\t\t\t\t} else {\n\t\t\t\t\tnewSelectedValues.add(option.value);\n\t\t\t\t}\n\t\t\t\tconst filterValues = Array.from(newSelectedValues);\n\t\t\t\tcolumn.setFilterValue(filterValues.length ? filterValues : undefined);\n\t\t\t} else {\n\t\t\t\tcolumn.setFilterValue(isSelected ? undefined : [option.value]);\n\t\t\t\tsetOpen(false);\n\t\t\t}\n\t\t},\n\t\t[column, multiple, selectedValues],\n\t);\n\n\tconst onReset = React.useCallback(\n\t\t(event?: React.MouseEvent) => {\n\t\t\tevent?.stopPropagation();\n\t\t\tcolumn?.setFilterValue(undefined);\n\t\t},\n\t\t[column],\n\t);\n\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<div\n\t\t\t\t\tclassName={buttonVariants({\n\t\t\t\t\t\tvariant: \"outline\",\n\t\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\t\tclassName: \"border-dashed\",\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{selectedValues?.size > 0 ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-label={`Clear ${title} filter`}\n\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t\t\tclassName=\"rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XCircle />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PlusCircle />\n\t\t\t\t\t)}\n\t\t\t\t\t{title}\n\t\t\t\t\t{selectedValues?.size > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\tclassName=\"mx-0.5 data-[orientation=vertical]:h-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tclassName=\"rounded-sm px-1 font-normal lg:hidden\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{selectedValues.size}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t<div className=\"hidden items-center gap-1 lg:flex\">\n\t\t\t\t\t\t\t\t{selectedValues.size > 2 ? (\n\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-sm px-1 font-normal\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{selectedValues.size} selected\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\toptions.data\n\t\t\t\t\t\t\t\t\t\t?.filter((option) => selectedValues.has(option.value))\n\t\t\t\t\t\t\t\t\t\t.map((option) => (\n\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-sm px-1 font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent className=\"w-[12.5rem] p-0\" align=\"start\">\n\t\t\t\t<Command>\n\t\t\t\t\t<CommandInput placeholder={title} />\n\t\t\t\t\t<CommandList className=\"max-h-full\">\n\t\t\t\t\t\t{options?.isPending ? (\n\t\t\t\t\t\t\t<CommandLoading className=\"flex justify-center\">\n\t\t\t\t\t\t\t\t<Skeleton className={\"w-full\"} width={180} />\n\t\t\t\t\t\t\t\t<Skeleton className={\"w-full\"} width={180} />\n\t\t\t\t\t\t\t\t<Skeleton className={\"w-full\"} width={180} />\n\t\t\t\t\t\t\t\t<Skeleton className={\"w-full\"} width={180} />\n\t\t\t\t\t\t\t</CommandLoading>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<CommandEmpty>\n\t\t\t\t\t\t\t\t<div className={\"flex flex-col gap-2\"}>\n\t\t\t\t\t\t\t\t\t<span>No results found.</span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant={\"ghost\"}\n\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\t\t\t\t\tisLoading={options.isPending}\n\t\t\t\t\t\t\t\t\t\tonClick={() => options.refetch()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\trefetch\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CommandEmpty>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<CommandGroup className=\"max-h-[18.75rem] overflow-y-auto overflow-x-hidden\">\n\t\t\t\t\t\t\t{options?.data?.map((option) => {\n\t\t\t\t\t\t\t\tconst isSelected = selectedValues.has(option.value);\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\t\t\t\tonSelect={() => onItemSelect(option, isSelected)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"flex size-4 items-center justify-center rounded-sm border border-primary\",\n\t\t\t\t\t\t\t\t\t\t\t\tisSelected\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"opacity-50 [&_svg]:invisible\",\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Check />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{option.icon && <option.icon />}\n\t\t\t\t\t\t\t\t\t\t<span className=\"truncate\">{option.label}</span>\n\t\t\t\t\t\t\t\t\t\t{option.count && (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml-auto font-mono text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t{option.count}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t{selectedValues.size > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<CommandSeparator />\n\t\t\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\tonSelect={() => onReset()}\n\t\t\t\t\t\t\t\t\t\tclassName=\"justify-center text-center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tClear filters\n\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-pagination.tsx",
      "content": "import type { Table } from \"@tanstack/react-table\";\nimport {\n\tChevronLeft,\n\tChevronRight,\n\tChevronsLeft,\n\tChevronsRight,\n} from \"lucide-react\";\nimport type React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { cn } from \"@/lib/data-table/utils\";\n\ninterface DataTablePaginationProps<TData> extends React.ComponentProps<\"div\"> {\n\ttable: Table<TData>;\n\tpageSizeOptions?: number[];\n}\n\nexport function DataTablePagination<TData>({\n\ttable,\n\tpageSizeOptions = [5, 10, 20, 30, 40, 50],\n\tclassName,\n\t...props\n}: DataTablePaginationProps<TData>) {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"flex w-full flex-col-reverse items-center justify-between gap-4 overflow-auto p-1 sm:flex-row sm:gap-8\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"flex-1 whitespace-nowrap text-muted-foreground text-sm\">\n\t\t\t\t{table.getFilteredSelectedRowModel().rows.length} of{\" \"}\n\t\t\t\t{table.getFilteredRowModel().rows.length} row(s) selected.\n\t\t\t</div>\n\t\t\t<div className=\"flex flex-row items-center gap-4 sm:flex-row sm:gap-6 lg:gap-8\">\n\t\t\t\t<div className=\"flex items-center space-x-2\">\n\t\t\t\t\t<p className=\"whitespace-nowrap font-medium text-sm\">\n\t\t\t\t\t\tRoles Per page\n\t\t\t\t\t</p>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={`${table.getState().pagination.pageSize}`}\n\t\t\t\t\t\tonValueChange={(value) => {\n\t\t\t\t\t\t\ttable.setPageSize(Number(value));\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectTrigger className=\"h-8 w-[5.5rem] [&[data-size]]:h-8\">\n\t\t\t\t\t\t\t<SelectValue placeholder={table.getState().pagination.pageSize} />\n\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t<SelectContent side=\"top\">\n\t\t\t\t\t\t\t{pageSizeOptions.map((pageSize) => (\n\t\t\t\t\t\t\t\t<SelectItem key={pageSize} value={`${pageSize}`}>\n\t\t\t\t\t\t\t\t\t{pageSize}\n\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t</Select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex items-center justify-center font-medium text-sm\">\n\t\t\t\t\tPage {table.getState().pagination.pageIndex + 1} of{\" \"}\n\t\t\t\t\t{table.getPageCount()}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex items-center space-x-2\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Go to first page\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tclassName=\"hidden size-8 lg:flex\"\n\t\t\t\t\t\tonClick={() => table.setPageIndex(0)}\n\t\t\t\t\t\tdisabled={!table.getCanPreviousPage()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronsLeft />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Go to previous page\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tclassName=\"size-8\"\n\t\t\t\t\t\tonClick={() => table.previousPage()}\n\t\t\t\t\t\tdisabled={!table.getCanPreviousPage()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronLeft />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Go to next page\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tclassName=\"size-8\"\n\t\t\t\t\t\tonClick={() => table.nextPage()}\n\t\t\t\t\t\tdisabled={!table.getCanNextPage()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronRight />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Go to last page\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tclassName=\"hidden size-8 lg:flex\"\n\t\t\t\t\t\tonClick={() => table.setPageIndex(table.getPageCount() - 1)}\n\t\t\t\t\t\tdisabled={!table.getCanNextPage()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronsRight />\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-skeleton.tsx",
      "content": "import type React from \"react\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { cn } from \"@/lib/utils\";\n\nconst arraySet = (i: number) => Array.from({ length: i }, (_, i) => i);\n\ninterface DataTableSkeletonProps extends React.ComponentProps<\"div\"> {\n\tcolumnCount?: number;\n\trowCount?: number;\n\theight?: {\n\t\tfilter: number;\n\t\ttable: number;\n\t\tpagination: number;\n\t};\n\tfilterCount?: number;\n\tcellWidths?: string[];\n\twithViewOptions?: boolean;\n\twithPagination?: boolean;\n\tshrinkZero?: boolean;\n}\n\nexport function DataTableSkeleton({\n\tcolumnCount = 10,\n\trowCount = 30,\n\tfilterCount = 4,\n\tcellWidths = [\"auto\"],\n\theight = {\n\t\tfilter: 25,\n\t\ttable: 40,\n\t\tpagination: 25,\n\t},\n\twithViewOptions = true,\n\twithPagination = true,\n\tshrinkZero = false,\n\tclassName,\n\t...props\n}: DataTableSkeletonProps) {\n\tconst cozyCellWidths = Array.from(\n\t\t{ length: columnCount },\n\t\t(_, index) => cellWidths[index % cellWidths.length] ?? \"auto\",\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\"flex w-full flex-col gap-2.5 overflow-auto\", className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"flex w-full items-center justify-between gap-2 overflow-auto p-1\">\n\t\t\t\t<div className=\"flex flex-1 items-center gap-2\">\n\t\t\t\t\t{filterCount > 0\n\t\t\t\t\t\t? arraySet(filterCount).map((i) => (\n\t\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\theight={height?.filter}\n\t\t\t\t\t\t\t\t\tclassName={cn(\"h-7 w-[4.5rem] border-dashed\")}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t: null}\n\t\t\t\t</div>\n\t\t\t\t{withViewOptions ? (\n\t\t\t\t\t<Skeleton\n\t\t\t\t\t\theight={height?.filter}\n\t\t\t\t\t\tclassName={cn(\"ml-auto hidden h-7 w-[4.5rem] lg:flex\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t\t<div className=\"rounded-md border\">\n\t\t\t\t<Table>\n\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t{arraySet(1).map((i) => (\n\t\t\t\t\t\t\t<TableRow key={i} className=\"hover:bg-transparent\">\n\t\t\t\t\t\t\t\t{arraySet(columnCount).map((j) => (\n\t\t\t\t\t\t\t\t\t<TableHead\n\t\t\t\t\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\twidth: cozyCellWidths[j],\n\t\t\t\t\t\t\t\t\t\t\tminWidth: shrinkZero ? cozyCellWidths[j] : \"auto\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\"h-6 w-full\", height?.table)}\n\t\t\t\t\t\t\t\t\t\t\theight={height?.table / 1.25}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableHeader>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{arraySet(rowCount).map((i) => (\n\t\t\t\t\t\t\t<TableRow key={i} className=\"hover:bg-transparent\">\n\t\t\t\t\t\t\t\t{arraySet(columnCount).map((j) => (\n\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\twidth: cozyCellWidths[j],\n\t\t\t\t\t\t\t\t\t\t\tminWidth: shrinkZero ? cozyCellWidths[j] : \"auto\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\"h-6 w-full\", height?.table)}\n\t\t\t\t\t\t\t\t\t\t\theight={height?.table}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t\t{withPagination ? (\n\t\t\t\t<div className=\"flex w-full items-center justify-between gap-4 overflow-auto p-1 sm:gap-8\">\n\t\t\t\t\t<Skeleton\n\t\t\t\t\t\tclassName={cn(\"h-7 w-40 shrink-0\")}\n\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex items-center gap-4 sm:gap-6 lg:gap-8\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"h-7 w-24\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"h-7 w-[4.5rem]\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center justify-center font-medium text-sm\">\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"h-7 w-20\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"hidden size-7 lg:block\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Skeleton className={cn(\"size-7\")} height={height?.pagination} />\n\t\t\t\t\t\t\t<Skeleton className={cn(\"size-7\")} height={height?.pagination} />\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tclassName={cn(\"hidden size-7 lg:block\")}\n\t\t\t\t\t\t\t\theight={height?.pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-slider-filter.tsx",
      "content": "\"use client\";\n\nimport type { Column } from \"@tanstack/react-table\";\nimport { PlusCircle, XCircle } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Button, buttonVariants } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { cn } from \"@/lib/utils\";\n\ninterface Range {\n\tmin: number;\n\tmax: number;\n}\n\ntype RangeValue = [number, number];\n\nfunction getIsValidRange(value: unknown): value is RangeValue {\n\treturn (\n\t\tArray.isArray(value) &&\n\t\tvalue.length === 2 &&\n\t\ttypeof value[0] === \"number\" &&\n\t\ttypeof value[1] === \"number\"\n\t);\n}\n\ninterface DataTableSliderFilterProps<TData> {\n\tcolumn: Column<TData, unknown>;\n\ttitle?: string;\n}\n\nexport function DataTableSliderFilter<TData>({\n\tcolumn,\n\ttitle,\n}: DataTableSliderFilterProps<TData>) {\n\tconst id = React.useId();\n\n\tconst columnFilterValue = getIsValidRange(column.getFilterValue())\n\t\t? (column.getFilterValue() as RangeValue)\n\t\t: undefined;\n\n\tconst defaultRange = column.columnDef.meta?.range;\n\tconst unit = column.columnDef.meta?.unit;\n\n\tconst { min, max, step } = React.useMemo<Range & { step: number }>(() => {\n\t\tlet minValue = 0;\n\t\tlet maxValue = 100;\n\n\t\tif (defaultRange && getIsValidRange(defaultRange)) {\n\t\t\t[minValue, maxValue] = defaultRange;\n\t\t} else {\n\t\t\tconst values = column.getFacetedMinMaxValues();\n\t\t\tif (values && Array.isArray(values) && values.length === 2) {\n\t\t\t\tconst [facetMinValue, facetMaxValue] = values;\n\t\t\t\tif (\n\t\t\t\t\ttypeof facetMinValue === \"number\" &&\n\t\t\t\t\ttypeof facetMaxValue === \"number\"\n\t\t\t\t) {\n\t\t\t\t\tminValue = facetMinValue;\n\t\t\t\t\tmaxValue = facetMaxValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst rangeSize = maxValue - minValue;\n\t\tconst step =\n\t\t\trangeSize <= 20\n\t\t\t\t? 1\n\t\t\t\t: rangeSize <= 100\n\t\t\t\t\t? Math.ceil(rangeSize / 20)\n\t\t\t\t\t: Math.ceil(rangeSize / 50);\n\n\t\treturn { min: minValue, max: maxValue, step };\n\t}, [column, defaultRange]);\n\n\tconst range = React.useMemo((): RangeValue => {\n\t\treturn columnFilterValue ?? [min, max];\n\t}, [columnFilterValue, min, max]);\n\n\tconst formatValue = React.useCallback((value: number) => {\n\t\treturn value.toLocaleString(undefined, { maximumFractionDigits: 0 });\n\t}, []);\n\n\tconst onFromInputChange = React.useCallback(\n\t\t(event: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst numValue = Number(event.target.value);\n\t\t\tif (!Number.isNaN(numValue) && numValue >= min && numValue <= range[1]) {\n\t\t\t\tcolumn.setFilterValue([numValue, range[1]]);\n\t\t\t}\n\t\t},\n\t\t[column, min, range],\n\t);\n\n\tconst onToInputChange = React.useCallback(\n\t\t(event: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst numValue = Number(event.target.value);\n\t\t\tif (!Number.isNaN(numValue) && numValue <= max && numValue >= range[0]) {\n\t\t\t\tcolumn.setFilterValue([range[0], numValue]);\n\t\t\t}\n\t\t},\n\t\t[column, max, range],\n\t);\n\n\tconst onSliderValueChange = React.useCallback(\n\t\t(value: RangeValue) => {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tcolumn.setFilterValue(value);\n\t\t\t}\n\t\t},\n\t\t[column],\n\t);\n\n\tconst onReset = React.useCallback(\n\t\t(event: React.MouseEvent) => {\n\t\t\tif (event.target instanceof HTMLDivElement) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tcolumn.setFilterValue(undefined);\n\t\t},\n\t\t[column],\n\t);\n\n\treturn (\n\t\t<Popover>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<div\n\t\t\t\t\tclassName={buttonVariants({\n\t\t\t\t\t\tvariant: \"outline\",\n\t\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\t\tclassName: \"border-dashed\",\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{columnFilterValue ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\taria-label={`Clear ${title} filter`}\n\t\t\t\t\t\t\tclassName=\"rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n\t\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XCircle />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PlusCircle />\n\t\t\t\t\t)}\n\t\t\t\t\t<span>{title}</span>\n\t\t\t\t\t{columnFilterValue ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\tclassName=\"mx-0.5 data-[orientation=vertical]:h-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{formatValue(columnFilterValue[0])} -{\" \"}\n\t\t\t\t\t\t\t{formatValue(columnFilterValue[1])}\n\t\t\t\t\t\t\t{unit ? ` ${unit}` : \"\"}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent align=\"start\" className=\"flex w-auto flex-col gap-4\">\n\t\t\t\t<div className=\"flex flex-col gap-3\">\n\t\t\t\t\t<p className=\"font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t<Label htmlFor={`${id}-from`} className=\"sr-only\">\n\t\t\t\t\t\t\tFrom\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid={`${id}-from`}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\taria-valuemin={min}\n\t\t\t\t\t\t\t\taria-valuemax={max}\n\t\t\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\t\t\tpattern=\"[0-9]*\"\n\t\t\t\t\t\t\t\tplaceholder={min.toString()}\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tvalue={range[0]?.toString()}\n\t\t\t\t\t\t\t\tonChange={onFromInputChange}\n\t\t\t\t\t\t\t\tclassName={cn(\"h-8 w-24\", unit && \"pr-8\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{unit && (\n\t\t\t\t\t\t\t\t<span className=\"absolute top-0 right-0 bottom-0 flex items-center rounded-r-md bg-accent px-2 text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t{unit}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Label htmlFor={`${id}-to`} className=\"sr-only\">\n\t\t\t\t\t\t\tto\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid={`${id}-to`}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\taria-valuemin={min}\n\t\t\t\t\t\t\t\taria-valuemax={max}\n\t\t\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\t\t\tpattern=\"[0-9]*\"\n\t\t\t\t\t\t\t\tplaceholder={max.toString()}\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tvalue={range[1]?.toString()}\n\t\t\t\t\t\t\t\tonChange={onToInputChange}\n\t\t\t\t\t\t\t\tclassName={cn(\"h-8 w-24\", unit && \"pr-8\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{unit && (\n\t\t\t\t\t\t\t\t<span className=\"absolute top-0 right-0 bottom-0 flex items-center rounded-r-md bg-accent px-2 text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t{unit}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Label htmlFor={`${id}-slider`} className=\"sr-only\">\n\t\t\t\t\t\t{title} slider\n\t\t\t\t\t</Label>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tid={`${id}-slider`}\n\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\tvalue={range}\n\t\t\t\t\t\tonValueChange={onSliderValueChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\taria-label={`Clear ${title} filter`}\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={onReset}\n\t\t\t\t>\n\t\t\t\t\tClear\n\t\t\t\t</Button>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-toolbar.tsx",
      "content": "\"use client\";\n\nimport type { Column, Table } from \"@tanstack/react-table\";\nimport { X } from \"lucide-react\";\nimport * as React from \"react\";\nimport { DataTableAdvanceDateFilter } from \"@/components/data-table/data-table-advance-date-filter\";\nimport { DataTableDateFilter } from \"@/components/data-table/data-table-date-filter\";\nimport { DataTableFacetedFilter } from \"@/components/data-table/data-table-faceted-filter\";\nimport { DataTableSliderFilter } from \"@/components/data-table/data-table-slider-filter\";\nimport { DataTableViewOptions } from \"@/components/data-table/data-table-view-options\";\nimport { Button } from \"@/components/form-field/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { cn } from \"@/lib/utils\";\n\ninterface DataTableToolbarProps<TData> extends React.ComponentProps<\"div\"> {\n\ttable: Table<TData>;\n}\n\nexport function DataTableToolbar<TData>({\n\ttable,\n\tchildren,\n\tclassName,\n\t...props\n}: DataTableToolbarProps<TData>) {\n\tconst isFiltered = table.getState().columnFilters.length > 0;\n\n\tconst columns = React.useMemo(\n\t\t() => table.getAllFlatColumns().filter((column) => column.getCanFilter()),\n\t\t[table],\n\t);\n\n\tconst onReset = React.useCallback(() => {\n\t\ttable.resetColumnFilters();\n\t}, [table]);\n\n\treturn (\n\t\t<div\n\t\t\trole=\"toolbar\"\n\t\t\taria-orientation=\"horizontal\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex w-full items-start justify-between gap-2 p-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"flex flex-1 flex-wrap items-center gap-2\">\n\t\t\t\t{columns\n\t\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t\tconst priorityA = a.columnDef.meta?.priority || 0;\n\t\t\t\t\t\tconst priorityB = b.columnDef.meta?.priority || 0;\n\t\t\t\t\t\tif (priorityA === priorityB) {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn priorityB - priorityA;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.map((column) => (\n\t\t\t\t\t\t<DataTableToolbarFilter key={column.id} column={column} />\n\t\t\t\t\t))}\n\t\t\t\t{isFiltered && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label=\"Reset filters\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tclassName=\"border-dashed\"\n\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t>\n\t\t\t\t\t\t<X />\n\t\t\t\t\t\tReset\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t{children}\n\t\t\t\t<DataTableViewOptions table={table} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\ninterface DataTableToolbarFilterProps<TData> {\n\tcolumn: Column<TData>;\n}\n\nfunction DataTableToolbarFilter<TData>({\n\tcolumn,\n}: DataTableToolbarFilterProps<TData>) {\n\t{\n\t\tconst columnMeta = column.columnDef.meta;\n\n\t\tconst onFilterRender = React.useCallback(() => {\n\t\t\tif (!columnMeta?.variant) return null;\n\n\t\t\tswitch (columnMeta.variant) {\n\t\t\t\tcase \"text\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder={columnMeta.placeholder ?? columnMeta.label}\n\t\t\t\t\t\t\tvalue={(column.getFilterValue() as string) ?? \"\"}\n\t\t\t\t\t\t\tonChange={(event) => column.setFilterValue(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"h-8 w-40 lg:w-56\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"number\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\t\t\tplaceholder={columnMeta.placeholder ?? columnMeta.label}\n\t\t\t\t\t\t\t\tvalue={(column.getFilterValue() as string) ?? \"\"}\n\t\t\t\t\t\t\t\tonChange={(event) => column.setFilterValue(event.target.value)}\n\t\t\t\t\t\t\t\tclassName={cn(\"h-8 w-[120px]\", columnMeta.unit && \"pr-8\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{columnMeta.unit && (\n\t\t\t\t\t\t\t\t<span className=\"absolute top-0 right-0 bottom-0 flex items-center rounded-r-md bg-accent px-2 text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t{columnMeta.unit}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"range\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataTableSliderFilter\n\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\ttitle={columnMeta.label ?? column.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"date\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataTableDateFilter\n\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\ttitle={columnMeta.label ?? column.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"dateRange\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataTableAdvanceDateFilter\n\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\ttitle={columnMeta.label ?? column.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tcase \"select\":\n\t\t\t\tcase \"multiSelect\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataTableFacetedFilter\n\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\ttitle={columnMeta.label ?? column.id}\n\t\t\t\t\t\t\toptionsFn={columnMeta?.options}\n\t\t\t\t\t\t\tmultiple={columnMeta.variant === \"multiSelect\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}, [column, columnMeta]);\n\n\t\treturn onFilterRender();\n\t}\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/data-table-view-options.tsx",
      "content": "\"use client\";\n\nimport type { Table } from \"@tanstack/react-table\";\nimport { Check, ChevronsUpDown, Settings2 } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandInput,\n\tCommandItem,\n\tCommandList,\n} from \"@/components/ui/command\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { cn } from \"@/lib/data-table/utils\";\n\ninterface DataTableViewOptionsProps<TData> {\n\ttable: Table<TData>;\n}\n\nexport function DataTableViewOptions<TData>({\n\ttable,\n}: DataTableViewOptionsProps<TData>) {\n\tconst columns = React.useMemo(\n\t\t() =>\n\t\t\ttable\n\t\t\t\t.getAllColumns()\n\t\t\t\t.filter(\n\t\t\t\t\t(column) =>\n\t\t\t\t\t\ttypeof column.accessorFn !== \"undefined\" && column.getCanHide(),\n\t\t\t\t),\n\t\t[table],\n\t);\n\n\treturn (\n\t\t<Popover>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<Button\n\t\t\t\t\taria-label=\"Toggle columns\"\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tclassName=\"ml-auto hidden h-8 lg:flex\"\n\t\t\t\t>\n\t\t\t\t\t<Settings2 />\n\t\t\t\t\tView\n\t\t\t\t\t<ChevronsUpDown className=\"ml-auto opacity-50\" />\n\t\t\t\t</Button>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent align=\"end\" className=\"w-44 p-0\">\n\t\t\t\t<Command>\n\t\t\t\t\t<CommandInput placeholder=\"Search columns...\" />\n\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t<CommandEmpty>No columns found.</CommandEmpty>\n\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\tkey={column.id}\n\t\t\t\t\t\t\t\t\tonSelect={() =>\n\t\t\t\t\t\t\t\t\t\tcolumn.toggleVisibility(!column.getIsVisible())\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"truncate\">\n\t\t\t\t\t\t\t\t\t\t{column.columnDef.meta?.label ?? column.id}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"ml-auto size-4 shrink-0\",\n\t\t\t\t\t\t\t\t\t\t\tcolumn.getIsVisible() ? \"opacity-100\" : \"opacity-0\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "lib/data-table/utils.tsx",
      "content": "import type {\n\tPostgrestClientOptions,\n\tPostgrestFilterBuilder,\n} from \"@supabase/postgrest-js\";\nimport type {\n\tCellContext,\n\tColumn,\n\tColumnDef,\n\tColumnMeta,\n\tTable,\n} from \"@tanstack/react-table\";\nimport type { ClassValue } from \"clsx\";\nimport { clsx } from \"clsx\";\nimport { endOfDay, format, formatDuration, startOfDay } from \"date-fns\";\nimport { parseAsInteger } from \"nuqs\";\nimport {\n\tcreateSearchParamsCache,\n\ttype ParserMap,\n\ttype ParserWithOptionalDefault,\n\ttype SearchParams,\n} from \"nuqs/server\";\nimport type React from \"react\";\nimport type { ReactNode } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\nimport { Badge } from \"@/components/data-table/badge\";\nimport { Button } from \"@/components/data-table/button\";\nimport { DataTableColumnHeader } from \"@/components/data-table/data-table-column-header\";\nimport { getSortingStateParser } from \"@/lib/data-table/parsers\";\n\n// import SupabaseImage from '@/components/reusable/SupabaseImage';\n\nexport function cn(...inputs: ClassValue[]) {\n\treturn twMerge(clsx(inputs));\n}\n\nexport function getDropDownValues<TData>(data: TData[], key: keyof TData) {\n\tconst uniqueValues = Array.from(new Set(data.map((item) => item[key])));\n\treturn uniqueValues\n\t\t.filter((value) => value !== null && value !== undefined && value !== \"\")\n\t\t.map((value) => ({\n\t\t\tlabel: String(value),\n\t\t\tvalue: String(value),\n\t\t}));\n}\n\nexport function exportTableToCSV<TData>(\n\ttable: Table<TData>,\n\toptions: {\n\t\tfilename: string;\n\t\texcludeColumns?: string[];\n\t\tonlySelected?: boolean;\n\t},\n) {\n\tconst { filename, excludeColumns = [], onlySelected = false } = options;\n\n\tconst rows = onlySelected\n\t\t? table.getFilteredSelectedRowModel().rows\n\t\t: table.getFilteredRowModel().rows;\n\n\tconst columns = table\n\t\t.getAllColumns()\n\t\t.filter(\n\t\t\t(column) => column.getIsVisible() && !excludeColumns.includes(column.id),\n\t\t)\n\t\t.filter((column) => column.id !== \"select\" && column.id !== \"actions\");\n\n\t// Create CSV headers\n\tconst headers = columns.map((column) => {\n\t\tconst header = column.columnDef.header;\n\t\tif (typeof header === \"string\") return header;\n\t\tif (typeof header === \"function\") return column.id;\n\t\treturn column.id;\n\t});\n\n\t// Create CSV rows\n\tconst csvRows = rows.map((row) =>\n\t\tcolumns.map((column) => {\n\t\t\tconst cellValue = row.getValue(column.id);\n\t\t\t// Handle different data types\n\t\t\tif (cellValue === null || cellValue === undefined) return \"\";\n\t\t\tif (typeof cellValue === \"object\") return JSON.stringify(cellValue);\n\t\t\treturn String(cellValue).replace(/\"/g, '\"\"'); // Escape quotes\n\t\t}),\n\t);\n\n\t// Combine headers and rows\n\tconst csvContent = [headers, ...csvRows]\n\t\t.map((row) => row.map((cell) => `\"${cell}\"`).join(\",\"))\n\t\t.join(\"\\n\");\n\n\t// Download CSV\n\tconst blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n\tconst link = document.createElement(\"a\");\n\n\tif (link.download !== undefined) {\n\t\tconst url = URL.createObjectURL(blob);\n\t\tlink.setAttribute(\"href\", url);\n\t\tlink.setAttribute(\"download\", `${filename}.csv`);\n\t\tlink.style.visibility = \"hidden\";\n\t\tdocument.body.appendChild(link);\n\t\tlink.click();\n\t\tdocument.body.removeChild(link);\n\t}\n}\n\nexport const ValuesMap = {\n\tstring: ({ value }: { value: unknown }) => (\n\t\t<span>{String(value ?? \"\").replaceAll(\"_\", \" \") || \"N/A\"}</span>\n\t),\n\n\tboolean: ({\n\t\tvalue,\n\t\ttrueLabel,\n\t\tfalseLabel,\n\t}: {\n\t\tvalue: unknown;\n\t\ttrueLabel?: string;\n\t\tfalseLabel?: string;\n\t}) => (\n\t\t<Badge variant={value ? \"success\" : \"destructive\"}>\n\t\t\t{value ? trueLabel || \"Yes\" : falseLabel || \"No\"}\n\t\t</Badge>\n\t),\n\n\tnumber: ({ value, fixed = 3 }: { value: unknown; fixed?: number }) => {\n\t\tconst num = Number(value);\n\t\tif (Number.isNaN(num)) return \"N/A\";\n\t\treturn (\n\t\t\t<span>{new Intl.NumberFormat(\"en-IN\").format(+num.toFixed(fixed))}</span>\n\t\t);\n\t},\n\n\tcurrency: ({ value, fixed = 3 }: { value: unknown; fixed?: number }) => {\n\t\tconst num = Number(value);\n\t\tif (Number.isNaN(num)) return \"N/A\";\n\t\treturn <span>{toInrCurrency(num.toFixed(fixed))}</span>;\n\t},\n\n\tdate: ({ value }: { value: unknown }) => {\n\t\tconst dateValue = new Date(value as unknown as Date);\n\t\treturn Number.isNaN(dateValue.getTime())\n\t\t\t? \"N/A\"\n\t\t\t: format(dateValue, \"dd/MM/yyyy\");\n\t},\n\n\tdatetime: ({ value }: { value: unknown }) => {\n\t\tconst dateValue = new Date(value as unknown as Date);\n\t\treturn Number.isNaN(dateValue.getTime())\n\t\t\t? \"N/A\"\n\t\t\t: format(dateValue, \"dd/MM/yyyy hh:mm a\");\n\t},\n\n\ttime: ({ value }: { value: unknown }) => {\n\t\tconst dateValue = new Date(value as unknown as Date);\n\t\treturn Number.isNaN(dateValue.getTime())\n\t\t\t? \"N/A\"\n\t\t\t: format(dateValue, \"hh:mm a\");\n\t},\n\n\tpercentage: ({ value, fixed = 2 }: { value: unknown; fixed?: number }) => {\n\t\tconst num = Number(value);\n\t\tif (Number.isNaN(num)) return \"N/A\";\n\t\treturn <span>{`${num.toFixed(fixed)}%`}</span>;\n\t},\n\n\tinterval: ({ value }: { value: unknown }) => {\n\t\tif (!value) return \"N/A\";\n\t\tconst [hours, minutes, seconds] = (value as string).split(\":\").map(Number);\n\t\treturn formatDuration({\n\t\t\thours,\n\t\t\tminutes,\n\t\t\tseconds: Number.isFinite(seconds) ? seconds : 0,\n\t\t});\n\t},\n};\n\n// -----------------\n// 2. Infer Types\n// -----------------\ntype ValuesMapType = typeof ValuesMap;\ntype FormatterProps<K extends keyof ValuesMapType> = Parameters<\n\tValuesMapType[K]\n>[0];\ntype FormatterOptions<K extends keyof ValuesMapType> = Omit<\n\tFormatterProps<K>,\n\t\"value\"\n>;\n\n// -----------------\n// 3. Master formatter function\n// -----------------\nexport function formatCellValue<\n\tK extends keyof ValuesMapType = \"string\", // default = string\n>(\n\tvalue: FormatterProps<K>[\"value\"],\n\texplicitType?: K,\n\toptions?: FormatterOptions<K>,\n\tfallback: ReactNode = <span className=\"text-muted-foreground\">N/A</span>,\n): ReactNode {\n\tif (value === null || value === undefined) return fallback;\n\tconst type = explicitType ?? (\"string\" as K);\n\treturn ValuesMap[type]({ value, ...(options as any) });\n}\n\nexport function debounce<T extends (...args: unknown[]) => unknown>(\n\tfunc: T,\n\tdelay: number,\n): (...args: Parameters<T>) => void {\n\tlet timeoutId: NodeJS.Timeout;\n\treturn (...args: Parameters<T>) => {\n\t\tclearTimeout(timeoutId);\n\t\ttimeoutId = setTimeout(() => func(...args), delay);\n\t};\n}\n\nexport function formatToTitleCase(input: string): string {\n\tconst words = input\n\t\t// Replace underscores with spaces\n\t\t.replace(/_/g, \" \")\n\t\t// Split camelCase by inserting a space before uppercase letters\n\t\t.replace(/([a-z])([A-Z])/g, \"$1 $2\")\n\t\t.split(\" \");\n\n\treturn words\n\t\t.map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n\t\t.join(\" \");\n}\nexport function toInrCurrency(\n\t...value: (number | null | undefined | string)[]\n): string {\n\tconst totalValue = value.reduce<number>(\n\t\t(acc, curr) => acc + Number(curr || 0),\n\t\t0,\n\t);\n\treturn totalValue.toLocaleString(\"en-IN\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"INR\",\n\t});\n}\n\nexport function getCommonPinningStyles<TData>({\n\tcolumn,\n\twithBorder = false,\n}: {\n\tcolumn: Column<TData>;\n\twithBorder?: boolean;\n}): React.CSSProperties {\n\tconst isPinned = column.getIsPinned();\n\tconst isLastLeftPinnedColumn =\n\t\tisPinned === \"left\" && column.getIsLastColumn(\"left\");\n\tconst isFirstRightPinnedColumn =\n\t\tisPinned === \"right\" && column.getIsFirstColumn(\"right\");\n\n\treturn {\n\t\tboxShadow: withBorder\n\t\t\t? isLastLeftPinnedColumn\n\t\t\t\t? \"-4px 0 4px -4px hsl(var(--border)) inset\"\n\t\t\t\t: isFirstRightPinnedColumn\n\t\t\t\t\t? \"4px 0 4px -4px hsl(var(--border)) inset\"\n\t\t\t\t\t: undefined\n\t\t\t: undefined,\n\t\tleft: isPinned === \"left\" ? `${column.getStart(\"left\")}px` : undefined,\n\t\tright: isPinned === \"right\" ? `${column.getAfter(\"right\")}px` : undefined,\n\t\topacity: isPinned ? 0.97 : 1,\n\t\tposition: isPinned ? \"sticky\" : \"relative\",\n\t\tbackground: isPinned ? \"hsl(var(--background))\" : \"hsl(var(--background))\",\n\t\twidth: column.columnDef.size,\n\t\tminWidth: column.columnDef.minSize,\n\t\tmaxWidth: column.columnDef.maxSize,\n\t\tzIndex: isPinned ? 1 : 0,\n\t};\n}\n\ntype FilterOperator =\n\t| \"eq\"\n\t| \"neq\"\n\t| \"gt\"\n\t| \"gte\"\n\t| \"lt\"\n\t| \"lte\"\n\t| \"like\"\n\t| \"ilike\"\n\t| \"is\"\n\t| \"in\"\n\t| \"cs\"\n\t| \"cd\"\n\t| \"sl\"\n\t| \"sr\"\n\t| \"nxl\"\n\t| \"nxr\"\n\t| \"adj\"\n\t| \"ov\"\n\t| \"fts\"\n\t| \"plfts\"\n\t| \"phfts\"\n\t| \"wfts\";\n\nexport const createOrFilter = <T extends Record<any, any>>(\n\tfilter: Filter<T>[],\n) => {\n\treturn filter\n\t\t.map((curr) => {\n\t\t\tif (!curr.value) return \"\";\n\t\t\treturn `${curr.key.toString()}.${curr.operator}.${getFilterWrapper(curr.value, curr.operator)}`;\n\t\t})\n\t\t.filter(Boolean)\n\t\t.join(\",\");\n};\nexport type Filter<T extends Record<string, any>> = {\n\tkey: keyof T;\n\toperator: `${\"\" | \"not.\"}${FilterOperator}`;\n\tvalue: string | undefined | null;\n};\nexport type SupabaseFilter<T extends Record<string, any>> = {\n\tperPage?: number;\n\tpage?: number;\n\tfilter?: Filter<T>[];\n\tsort?: { id: keyof T | string; desc: boolean }[];\n\tor?: Filter<T>[];\n};\nexport const getFilterWrapper = (value: string, operator: string) => {\n\tswitch (operator) {\n\t\tcase \"in\":\n\t\t\treturn `(${value})`;\n\t\tcase \"like\":\n\t\tcase \"ilike\":\n\t\t\treturn `%${value}%`;\n\t}\n\treturn value;\n};\nexport function rangeFilter<T extends Record<any, any>>(\n\tid: keyof T,\n\tfrom: number | null | undefined,\n\tto: number | null | undefined,\n) {\n\treturn [\n\t\t{\n\t\t\tkey: id,\n\t\t\toperator: \"lte\",\n\t\t\tvalue: to ? String(to) : null,\n\t\t},\n\t\t{\n\t\t\tkey: id,\n\t\t\toperator: \"gte\",\n\t\t\tvalue: from ? String(from) : null,\n\t\t},\n\t] satisfies Filter<T>[];\n}\n\nexport function dateRangeFilter<T extends Record<any, any>>(\n\tid: keyof T,\n\tfrom: number | null | undefined,\n\tto: number | null | undefined,\n) {\n\treturn [\n\t\t{\n\t\t\tkey: id,\n\t\t\toperator: \"lte\",\n\t\t\tvalue: to ? format(endOfDay(to), \"yyyy-MM-dd'T'HH:mm:ssXX\") : null,\n\t\t},\n\t\t{\n\t\t\tkey: id,\n\t\t\toperator: \"gte\",\n\t\t\tvalue: from ? format(startOfDay(from), \"yyyy-MM-dd'T'HH:mm:ssXX\") : null,\n\t\t},\n\t] satisfies Filter<T>[];\n}\n\nexport const createBaseDataTableFilter = <\n\tTable extends Record<string, unknown>,\n\tT extends ParserMap =\n\t\t| ParserMap\n\t\t| Record<keyof Table, ParserWithOptionalDefault<any>>,\n>(\n\taddon: T,\n\tsearchParams: SearchParams,\n) => {\n\tconst cache = createSearchParamsCache({\n\t\tpage: parseAsInteger.withDefault(1),\n\t\tperPage: parseAsInteger.withDefault(10),\n\t\tsort: getSortingStateParser<Table>().withDefault([]),\n\t\t...addon,\n\t});\n\n\treturn cache.parse(searchParams);\n};\n\nexport const columnDef = <T extends Record<any, any>>(\n\tid: string,\n\t{\n\t\tlabel = formatToTitleCase(id),\n\t\taccessorKey = id,\n\t\tformatType,\n\t\tcell = (data) => formatCellValue(data.getValue(), formatType || \"string\"),\n\t\tmeta,\n\t\tenableSorting = false,\n\t\tenableColumnFilter = true,\n\t}: {\n\t\taccessorKey?: string;\n\t\tformatType?: keyof typeof ValuesMap;\n\t\tlabel?: string;\n\t\tmeta?: ColumnMeta<T, any>;\n\t\tcell?: (data: CellContext<T, unknown>) => ReactNode;\n\t\tenableSorting?: boolean;\n\t\tenableColumnFilter?: boolean;\n\t} = {\n\t\tlabel: formatToTitleCase(id),\n\t\taccessorKey: id,\n\t\tcell: (data) => formatCellValue(data.getValue(), formatType || \"string\"),\n\t\tenableSorting: false,\n\t\tenableColumnFilter: true,\n\t},\n) => {\n\treturn {\n\t\tid,\n\t\taccessorKey,\n\t\tcell,\n\t\theader: ({ column }) => (\n\t\t\t<DataTableColumnHeader column={column} title={label} />\n\t\t),\n\t\tmeta: {\n\t\t\tlabel,\n\t\t\t...meta,\n\t\t},\n\t\tenableColumnFilter,\n\t\tenableSorting,\n\t} satisfies ColumnDef<T>;\n};\n\nexport const GenerateColumnsDef = (\n\tdata: Record<string, any> | [Record<string, any>] | undefined | null,\n) => {\n\tif (!data) return \"NO DATA\";\n\tconst parsedData = Array.isArray(data) ? data[0] : data;\n\tconst str = Object.keys(parsedData).reduce((acc, curr) => {\n\t\tacc += `columnDef('${curr}'),\\n`;\n\t\treturn acc;\n\t}, \"\");\n\tnavigator?.clipboard?.writeText(str);\n\treturn (\n\t\t<pre className={\"rounded-md bg-muted/50 p-2\"}>\n\t\t\t<Button onClick={() => navigator.clipboard.writeText(str)}>COPY</Button>\n\t\t\t<code>{str}</code>\n\t\t</pre>\n\t);\n};\n\ntype DB = {\n\tpublic: {\n\t\tTables: any;\n\t\tViews: any;\n\t\tFunctions: any;\n\t};\n};\ntype Schema = DB[\"public\"];\n\ntype SupabaseTableName = keyof Schema[\"Tables\"];\ntype SupabaseViewName = keyof Schema[\"Views\"];\n\nexport const supabaseFilter = <\n\tResultOne extends Record<string, any>,\n\tTableName extends SupabaseTableName | SupabaseViewName,\n\tClient = PostgrestFilterBuilder<\n\t\tPostgrestClientOptions,\n\t\tSchema,\n\t\tTableName extends SupabaseTableName\n\t\t\t? Schema[\"Tables\"][TableName][\"Row\"]\n\t\t\t: TableName extends SupabaseViewName\n\t\t\t\t? Schema[\"Views\"][TableName][\"Row\"]\n\t\t\t\t: unknown,\n\t\tResultOne[],\n\t\tTableName,\n\t\t(\n\t\t\tTableName extends SupabaseTableName\n\t\t\t\t? Schema[\"Tables\"][TableName]\n\t\t\t\t: TableName extends SupabaseViewName\n\t\t\t\t\t? Schema[\"Views\"][TableName]\n\t\t\t\t\t: unknown\n\t\t) extends { Relationships: infer R }\n\t\t\t? R\n\t\t\t: unknown,\n\t\t\"GET\"\n\t>,\n>(\n\tclient: Client,\n\t{\n\t\tperPage,\n\t\tpage,\n\t\tfilter = [],\n\t\tsort,\n\t\tor = undefined,\n\t}: SupabaseFilter<ResultOne> = {\n\t\tperPage: undefined,\n\t\tpage: undefined,\n\t\tfilter: [],\n\t\tsort: undefined,\n\t\tor: undefined,\n\t},\n) => {\n\tif (\n\t\t!(\n\t\t\tclient &&\n\t\t\ttypeof client === \"object\" &&\n\t\t\t\"range\" in client &&\n\t\t\ttypeof client.range === \"function\" &&\n\t\t\t\"or\" in client &&\n\t\t\ttypeof client.or === \"function\"\n\t\t)\n\t)\n\t\treturn client;\n\n\tconst sortArray = Array.isArray(sort) ? sort : sort ? [sort] : [];\n\tif (sortArray.length > 0) {\n\t\tconst sortArray = Array.isArray(sort) ? sort : sort ? [sort] : [];\n\t\tsortArray.forEach((sort) => {\n\t\t\tif (!(\"order\" in client && typeof client.order === \"function\")) return;\n\t\t\tclient.order(sort.id.toString(), {\n\t\t\t\tascending: !sort.desc,\n\t\t\t});\n\t\t});\n\t}\n\n\tfilter.forEach((f) => {\n\t\tif (!f.value) return;\n\t\tif (!(\"filter\" in client && typeof client.filter === \"function\")) return;\n\t\tclient.filter(\n\t\t\tf.key.toString(),\n\t\t\tf.operator,\n\t\t\tgetFilterWrapper(f.value, f.operator),\n\t\t);\n\t});\n\tif (or && or.length > 0) {\n\t\tclient.or(createOrFilter(or || []));\n\t}\n\tif (perPage && page) {\n\t\tclient.range((page - 1) * perPage, page * perPage - 1);\n\t}\n\treturn client;\n};\n",
      "type": "registry:lib"
    },
    {
      "path": "lib/data-table/types/data-table.ts",
      "content": "import type { ColumnSort, Row, RowData } from \"@tanstack/react-table\";\nimport type { ReactNode } from \"react\";\nimport type { DataTableConfig } from \"@/lib/data-table/config/config\";\nimport type { FilterItemSchema } from \"@/lib/data-table/parsers\";\n\nexport type baseOption = {\n\tlabel: string | ReactNode;\n\tvalue: string;\n\tcount?: number;\n\ticon?: React.FC<React.SVGProps<SVGSVGElement>>;\n};\nexport type Options = Promise<baseOption[]> | baseOption[];\nexport type OptionType = () => Options;\n\ndeclare module \"@tanstack/react-table\" {\n\t// biome-ignore lint/correctness/noUnusedVariables: TValue is used in the ColumnMeta interface\n\tinterface ColumnMeta<TData extends RowData, TValue> {\n\t\tlabel?: string;\n\t\tplaceholder?: string;\n\t\tvariant?: FilterVariant;\n\t\toptions?: OptionType;\n\t\trange?: [number, number];\n\t\tpriority?: number;\n\t\tunit?: string;\n\t\ticon?: React.FC<React.SVGProps<SVGSVGElement>>;\n\t}\n}\n\nexport type FilterOperator = DataTableConfig[\"operators\"][number];\nexport type FilterVariant = DataTableConfig[\"filterVariants\"][number];\nexport type JoinOperator = DataTableConfig[\"joinOperators\"][number];\n\nexport interface ExtendedColumnSort<TData> extends Omit<ColumnSort, \"id\"> {\n\tid: Extract<keyof TData, string>;\n}\n\nexport interface ExtendedColumnFilter<TData> extends FilterItemSchema {\n\tid: Extract<keyof TData, string>;\n}\n\nexport interface DataTableRowAction<TData> {\n\trow: Row<TData>;\n\tvariant: \"update\" | \"delete\";\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "lib/data-table/config/format.ts",
      "content": "export function formatDate(\n\tdate: Date | string | number | undefined,\n\topts: Intl.DateTimeFormatOptions = {},\n) {\n\tif (!date) return \"\";\n\n\ttry {\n\t\treturn new Intl.DateTimeFormat(\"en-US\", {\n\t\t\tmonth: opts.month ?? \"long\",\n\t\t\tday: opts.day ?? \"numeric\",\n\t\t\tyear: opts.year ?? \"numeric\",\n\t\t\t...opts,\n\t\t}).format(new Date(date));\n\t} catch (_err) {\n\t\treturn \"\";\n\t}\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "lib/data-table/config/config.ts",
      "content": "export type DataTableConfig = typeof dataTableConfig;\n\nexport const dataTableConfig = {\n\ttextOperators: [\n\t\t{ label: \"Contains\", value: \"iLike\" as const },\n\t\t{ label: \"Does not contain\", value: \"notILike\" as const },\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tnumericOperators: [\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t\t{ label: \"Is less than\", value: \"lt\" as const },\n\t\t{ label: \"Is less than or equal to\", value: \"lte\" as const },\n\t\t{ label: \"Is greater than\", value: \"gt\" as const },\n\t\t{ label: \"Is greater than or equal to\", value: \"gte\" as const },\n\t\t{ label: \"Is between\", value: \"isBetween\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tdateOperators: [\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t\t{ label: \"Is before\", value: \"lt\" as const },\n\t\t{ label: \"Is after\", value: \"gt\" as const },\n\t\t{ label: \"Is on or before\", value: \"lte\" as const },\n\t\t{ label: \"Is on or after\", value: \"gte\" as const },\n\t\t{ label: \"Is between\", value: \"isBetween\" as const },\n\t\t{ label: \"Is relative to today\", value: \"isRelativeToToday\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tselectOperators: [\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tmultiSelectOperators: [\n\t\t{ label: \"Has any of\", value: \"inArray\" as const },\n\t\t{ label: \"Has none of\", value: \"notInArray\" as const },\n\t\t{ label: \"Is empty\", value: \"isEmpty\" as const },\n\t\t{ label: \"Is not empty\", value: \"isNotEmpty\" as const },\n\t],\n\tbooleanOperators: [\n\t\t{ label: \"Is\", value: \"eq\" as const },\n\t\t{ label: \"Is not\", value: \"ne\" as const },\n\t],\n\tsortOrders: [\n\t\t{ label: \"Asc\", value: \"asc\" as const },\n\t\t{ label: \"Desc\", value: \"desc\" as const },\n\t],\n\tfilterVariants: [\n\t\t\"text\",\n\t\t\"number\",\n\t\t\"range\",\n\t\t\"date\",\n\t\t\"dateRange\",\n\t\t\"boolean\",\n\t\t\"select\",\n\t\t\"multiSelect\",\n\t] as const,\n\toperators: [\n\t\t\"iLike\",\n\t\t\"notILike\",\n\t\t\"eq\",\n\t\t\"ne\",\n\t\t\"inArray\",\n\t\t\"notInArray\",\n\t\t\"isEmpty\",\n\t\t\"isNotEmpty\",\n\t\t\"lt\",\n\t\t\"lte\",\n\t\t\"gt\",\n\t\t\"gte\",\n\t\t\"isBetween\",\n\t\t\"isRelativeToToday\",\n\t] as const,\n\tjoinOperators: [\"and\", \"or\"] as const,\n};\n",
      "type": "registry:lib"
    },
    {
      "path": "lib/data-table/parsers.ts",
      "content": "import { createParser } from \"nuqs/server\";\nimport { z } from \"zod\";\nimport { dataTableConfig } from \"@/lib/data-table/config/config\";\nimport type {\n\tExtendedColumnFilter,\n\tExtendedColumnSort,\n} from \"@/lib/data-table/types/data-table\";\n\nconst sortingItemSchema = z.object({\n\tid: z.string(),\n\tdesc: z.boolean(),\n});\n\nexport const getSortingStateParser = <TData>(\n\tcolumnIds?: string[] | Set<string>,\n) => {\n\tconst validKeys = columnIds\n\t\t? columnIds instanceof Set\n\t\t\t? columnIds\n\t\t\t: new Set(columnIds)\n\t\t: null;\n\n\treturn createParser({\n\t\tparse: (value) => {\n\t\t\ttry {\n\t\t\t\tconst parsed = JSON.parse(value);\n\t\t\t\tconst result = z.array(sortingItemSchema).safeParse(parsed);\n\n\t\t\t\tif (!result.success) return null;\n\n\t\t\t\tif (validKeys && result.data.some((item) => !validKeys.has(item.id))) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn result.data as ExtendedColumnSort<TData>[];\n\t\t\t} catch {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tserialize: (value) => JSON.stringify(value),\n\t\teq: (a, b) =>\n\t\t\ta.length === b.length &&\n\t\t\ta.every(\n\t\t\t\t(item, index) =>\n\t\t\t\t\titem.id === b[index]?.id && item.desc === b[index]?.desc,\n\t\t\t),\n\t});\n};\n\nconst filterItemSchema = z.object({\n\tid: z.string(),\n\tvalue: z.union([z.string(), z.array(z.string())]),\n\tvariant: z.enum(dataTableConfig.filterVariants),\n\toperator: z.enum(dataTableConfig.operators),\n\tfilterId: z.string(),\n});\n\nexport type FilterItemSchema = z.infer<typeof filterItemSchema>;\n\nexport const getFiltersStateParser = <TData>(\n\tcolumnIds?: string[] | Set<string>,\n) => {\n\tconst validKeys = columnIds\n\t\t? columnIds instanceof Set\n\t\t\t? columnIds\n\t\t\t: new Set(columnIds)\n\t\t: null;\n\n\treturn createParser({\n\t\tparse: (value) => {\n\t\t\ttry {\n\t\t\t\tconst parsed = JSON.parse(value);\n\t\t\t\tconst result = z.array(filterItemSchema).safeParse(parsed);\n\n\t\t\t\tif (!result.success) return null;\n\n\t\t\t\tif (validKeys && result.data.some((item) => !validKeys.has(item.id))) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn result.data as ExtendedColumnFilter<TData>[];\n\t\t\t} catch {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tserialize: (value) => JSON.stringify(value),\n\t\teq: (a, b) =>\n\t\t\ta.length === b.length &&\n\t\t\ta.every(\n\t\t\t\t(filter, index) =>\n\t\t\t\t\tfilter.id === b[index]?.id &&\n\t\t\t\t\tfilter.value === b[index]?.value &&\n\t\t\t\t\tfilter.variant === b[index]?.variant &&\n\t\t\t\t\tfilter.operator === b[index]?.operator,\n\t\t\t),\n\t});\n};\n",
      "type": "registry:lib"
    },
    {
      "path": "hooks/data-table/use-callback-ref.ts",
      "content": "import * as React from \"react\";\n\n/**\n * @see https://github.com/radix-ui/primitives/blob/main/packages/react/use-callback-ref/src/useCallbackRef.tsx\n */\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: never[]) => unknown>(\n\tcallback: T | undefined,\n): T {\n\tconst callbackRef = React.useRef(callback);\n\n\tReact.useEffect(() => {\n\t\tcallbackRef.current = callback;\n\t});\n\n\t// https://github.com/facebook/react/issues/19240\n\treturn React.useMemo(\n\t\t() => ((...args) => callbackRef.current?.(...args)) as T,\n\t\t[],\n\t);\n}\n\nexport { useCallbackRef };\n",
      "type": "registry:hook"
    },
    {
      "path": "hooks/data-table/use-data-table.tsx",
      "content": "\"use client\";\n\nimport {\n\ttype ColumnDef,\n\ttype ColumnFiltersState,\n\tgetCoreRowModel,\n\tgetFacetedMinMaxValues,\n\tgetFacetedRowModel,\n\tgetFacetedUniqueValues,\n\tgetFilteredRowModel,\n\tgetPaginationRowModel,\n\tgetSortedRowModel,\n\ttype PaginationState,\n\ttype RowSelectionState,\n\ttype SortingState,\n\ttype TableOptions,\n\ttype TableState,\n\ttype Updater,\n\tuseReactTable,\n\ttype VisibilityState,\n} from \"@tanstack/react-table\";\nimport {\n\ttype Parser,\n\tparseAsArrayOf,\n\tparseAsInteger,\n\tparseAsString,\n\ttype UseQueryStateOptions,\n\tuseQueryState,\n\tuseQueryStates,\n} from \"nuqs\";\nimport * as React from \"react\";\nimport { useDebouncedCallback } from \"@/hooks/data-table/use-debounced-callback\";\nimport { getSortingStateParser } from \"@/lib/data-table/parsers\";\nimport type { ExtendedColumnSort } from \"@/lib/data-table/types/data-table\";\n\nconst PAGE_KEY = \"page\";\nconst PER_PAGE_KEY = \"perPage\";\nconst SORT_KEY = \"sort\";\nconst ARRAY_SEPARATOR = \",\";\nconst DEBOUNCE_MS = 300;\nconst THROTTLE_MS = 50;\n\ninterface UseDataTableProps<TData>\n\textends Omit<\n\t\t\tTableOptions<TData>,\n\t\t\t| \"state\"\n\t\t\t| \"pageCount\"\n\t\t\t| \"getCoreRowModel\"\n\t\t\t| \"manualFiltering\"\n\t\t\t| \"manualPagination\"\n\t\t\t| \"manualSorting\"\n\t\t>,\n\t\tRequired<Pick<TableOptions<TData>, \"pageCount\">> {\n\tinitialState?: Omit<Partial<TableState>, \"sorting\"> & {\n\t\tsorting?: ExtendedColumnSort<TData>[];\n\t};\n\thistory?: \"push\" | \"replace\";\n\tdebounceMs?: number;\n\tthrottleMs?: number;\n\tclearOnDefault?: boolean;\n\tenableAdvancedFilter?: boolean;\n\tscroll?: boolean;\n\tshallow?: boolean;\n\tstartTransition?: React.TransitionStartFunction;\n}\n\nexport function useDataTable<TData>(props: UseDataTableProps<TData>) {\n\tconst {\n\t\tcolumns,\n\t\tpageCount = -1,\n\t\tinitialState,\n\t\thistory = \"replace\",\n\t\tdebounceMs = DEBOUNCE_MS,\n\t\tthrottleMs = THROTTLE_MS,\n\t\tclearOnDefault = false,\n\t\tenableAdvancedFilter = false,\n\t\tscroll = false,\n\t\tshallow = false,\n\t\tstartTransition,\n\t\t...tableProps\n\t} = props;\n\tconst getFlatCols = (cols: ColumnDef<TData>[]): ColumnDef<TData>[] =>\n\t\tcols.flatMap((col) =>\n\t\t\t\"columns\" in col && Array.isArray(col.columns)\n\t\t\t\t? [col, ...getFlatCols(col.columns)]\n\t\t\t\t: [col],\n\t\t);\n\n\tconst flatCols = getFlatCols(columns);\n\n\tconst queryStateOptions = React.useMemo<\n\t\tOmit<UseQueryStateOptions<string>, \"parse\">\n\t>(\n\t\t() => ({\n\t\t\thistory,\n\t\t\tscroll,\n\t\t\tshallow,\n\t\t\tthrottleMs,\n\t\t\tdebounceMs,\n\t\t\tclearOnDefault,\n\t\t\tstartTransition,\n\t\t}),\n\t\t[\n\t\t\thistory,\n\t\t\tscroll,\n\t\t\tshallow,\n\t\t\tthrottleMs,\n\t\t\tdebounceMs,\n\t\t\tclearOnDefault,\n\t\t\tstartTransition,\n\t\t],\n\t);\n\n\tconst [rowSelection, setRowSelection] = React.useState<RowSelectionState>(\n\t\tinitialState?.rowSelection ?? {},\n\t);\n\tconst [columnVisibility, setColumnVisibility] =\n\t\tReact.useState<VisibilityState>(initialState?.columnVisibility ?? {});\n\n\tconst [page, setPage] = useQueryState(\n\t\tPAGE_KEY,\n\t\tparseAsInteger.withOptions(queryStateOptions).withDefault(1),\n\t);\n\tconst [perPage, setPerPage] = useQueryState(\n\t\tPER_PAGE_KEY,\n\t\tparseAsInteger\n\t\t\t.withOptions(queryStateOptions)\n\t\t\t.withDefault(initialState?.pagination?.pageSize ?? 50),\n\t);\n\n\tconst pagination: PaginationState = React.useMemo(() => {\n\t\treturn {\n\t\t\tpageIndex: page - 1, // zero-based index -> one-based index\n\t\t\tpageSize: perPage,\n\t\t};\n\t}, [page, perPage]);\n\n\tconst onPaginationChange = React.useCallback(\n\t\t(updaterOrValue: Updater<PaginationState>) => {\n\t\t\tif (typeof updaterOrValue === \"function\") {\n\t\t\t\tconst newPagination = updaterOrValue(pagination);\n\t\t\t\tvoid setPage(newPagination.pageIndex + 1);\n\t\t\t\tvoid setPerPage(newPagination.pageSize);\n\t\t\t} else {\n\t\t\t\tvoid setPage(updaterOrValue.pageIndex + 1);\n\t\t\t\tvoid setPerPage(updaterOrValue.pageSize);\n\t\t\t}\n\t\t},\n\t\t[pagination, setPage, setPerPage],\n\t);\n\n\tconst columnIds = React.useMemo(() => {\n\t\treturn new Set(flatCols.map((e) => e.id).filter(Boolean) as string[]);\n\t}, [flatCols]);\n\n\tconst [sorting, setSorting] = useQueryState(\n\t\tSORT_KEY,\n\t\tgetSortingStateParser<TData>(columnIds)\n\t\t\t.withOptions(queryStateOptions)\n\t\t\t.withDefault(initialState?.sorting ?? []),\n\t);\n\n\tconst onSortingChange = React.useCallback(\n\t\t(updaterOrValue: Updater<SortingState>) => {\n\t\t\tif (typeof updaterOrValue === \"function\") {\n\t\t\t\tconst newSorting = updaterOrValue(sorting);\n\t\t\t\tsetSorting(newSorting as ExtendedColumnSort<TData>[]);\n\t\t\t} else {\n\t\t\t\tsetSorting(updaterOrValue as ExtendedColumnSort<TData>[]);\n\t\t\t}\n\t\t},\n\t\t[sorting, setSorting],\n\t);\n\n\tconst filterableColumns = React.useMemo(() => {\n\t\tif (enableAdvancedFilter) return [];\n\n\t\treturn flatCols.filter((column) => column.enableColumnFilter);\n\t}, [flatCols, enableAdvancedFilter]);\n\n\tconst filterParsers = React.useMemo(() => {\n\t\tif (enableAdvancedFilter) return {};\n\n\t\treturn filterableColumns.reduce<\n\t\t\tRecord<string, Parser<string> | Parser<string[]>>\n\t\t>((acc, column) => {\n\t\t\tif (column.meta?.options) {\n\t\t\t\tacc[column.id ?? \"\"] = parseAsArrayOf(\n\t\t\t\t\tparseAsString,\n\t\t\t\t\tARRAY_SEPARATOR,\n\t\t\t\t).withOptions(queryStateOptions);\n\t\t\t} else {\n\t\t\t\tacc[column.id ?? \"\"] = parseAsString.withOptions(queryStateOptions);\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, {});\n\t}, [filterableColumns, queryStateOptions, enableAdvancedFilter]);\n\n\tconst [filterValues, setFilterValues] = useQueryStates(filterParsers);\n\n\tconst debouncedSetFilterValues = useDebouncedCallback(\n\t\t(values: typeof filterValues) => {\n\t\t\tvoid setPage(1);\n\t\t\tvoid setFilterValues(values);\n\t\t},\n\t\tdebounceMs,\n\t);\n\n\tconst initialColumnFilters: ColumnFiltersState = React.useMemo(() => {\n\t\tif (enableAdvancedFilter) return [];\n\n\t\treturn Object.entries(filterValues).reduce<ColumnFiltersState>(\n\t\t\t(filters, [key, value]) => {\n\t\t\t\tif (value !== null) {\n\t\t\t\t\tconst processedValue = Array.isArray(value)\n\t\t\t\t\t\t? value\n\t\t\t\t\t\t: typeof value === \"string\" && /[^a-zA-Z0-9]/.test(value)\n\t\t\t\t\t\t\t? value.split(/[^a-zA-Z0-9]+/).filter(Boolean)\n\t\t\t\t\t\t\t: [value];\n\n\t\t\t\t\tfilters.push({\n\t\t\t\t\t\tid: key,\n\t\t\t\t\t\tvalue: processedValue,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn filters;\n\t\t\t},\n\t\t\t[],\n\t\t);\n\t}, [filterValues, enableAdvancedFilter]);\n\n\tconst [columnFilters, setColumnFilters] =\n\t\tReact.useState<ColumnFiltersState>(initialColumnFilters);\n\n\tconst onColumnFiltersChange = React.useCallback(\n\t\t(updaterOrValue: Updater<ColumnFiltersState>) => {\n\t\t\tif (enableAdvancedFilter) return;\n\n\t\t\tsetColumnFilters((prev) => {\n\t\t\t\tconst next =\n\t\t\t\t\ttypeof updaterOrValue === \"function\"\n\t\t\t\t\t\t? updaterOrValue(prev)\n\t\t\t\t\t\t: updaterOrValue;\n\n\t\t\t\tconst filterUpdates = next.reduce<\n\t\t\t\t\tRecord<string, string | string[] | null>\n\t\t\t\t>((acc, filter) => {\n\t\t\t\t\tif (filterableColumns.find((column) => column.id === filter.id)) {\n\t\t\t\t\t\tacc[filter.id] = filter.value as string | string[];\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t}, {});\n\n\t\t\t\tfor (const prevFilter of prev) {\n\t\t\t\t\tif (!next.some((filter) => filter.id === prevFilter.id)) {\n\t\t\t\t\t\tfilterUpdates[prevFilter.id] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdebouncedSetFilterValues(filterUpdates);\n\t\t\t\treturn next;\n\t\t\t});\n\t\t},\n\t\t[debouncedSetFilterValues, filterableColumns, enableAdvancedFilter],\n\t);\n\n\tconst table = useReactTable({\n\t\t...tableProps,\n\t\tcolumns,\n\t\tinitialState,\n\t\tpageCount,\n\t\tstate: {\n\t\t\tpagination,\n\t\t\tsorting,\n\t\t\tcolumnVisibility,\n\t\t\trowSelection,\n\t\t\tcolumnFilters,\n\t\t},\n\t\tdefaultColumn: {\n\t\t\t...tableProps.defaultColumn,\n\t\t\tenableColumnFilter: false,\n\t\t},\n\t\tenableRowSelection: true,\n\t\tonRowSelectionChange: setRowSelection,\n\t\tonPaginationChange,\n\t\tonSortingChange,\n\t\tonColumnFiltersChange,\n\t\tonColumnVisibilityChange: setColumnVisibility,\n\t\tgetCoreRowModel: getCoreRowModel(),\n\t\tgetFilteredRowModel: getFilteredRowModel(),\n\t\tgetPaginationRowModel: getPaginationRowModel(),\n\t\tgetSortedRowModel: getSortedRowModel(),\n\t\tgetFacetedRowModel: getFacetedRowModel(),\n\t\tgetFacetedUniqueValues: getFacetedUniqueValues(),\n\t\tgetFacetedMinMaxValues: getFacetedMinMaxValues(),\n\t\tmanualPagination: true,\n\t\tmanualSorting: true,\n\t\tmanualFiltering: true,\n\t});\n\n\treturn { table, shallow, debounceMs, throttleMs };\n}\n",
      "type": "registry:hook"
    },
    {
      "path": "hooks/data-table/use-debounced-callback.ts",
      "content": "import * as React from \"react\";\nimport { useCallbackRef } from \"@/hooks/data-table/use-callback-ref\";\n\nexport function useDebouncedCallback<T extends (...args: never[]) => unknown>(\n\tcallback: T,\n\tdelay: number,\n) {\n\tconst handleCallback = useCallbackRef(callback);\n\tconst debounceTimerRef = React.useRef(0);\n\tReact.useEffect(\n\t\t() => () => window.clearTimeout(debounceTimerRef.current),\n\t\t[],\n\t);\n\n\tconst setValue = React.useCallback(\n\t\t(...args: Parameters<T>) => {\n\t\t\twindow.clearTimeout(debounceTimerRef.current);\n\t\t\tdebounceTimerRef.current = window.setTimeout(\n\t\t\t\t() => handleCallback(...args),\n\t\t\t\tdelay,\n\t\t\t);\n\t\t},\n\t\t[handleCallback, delay],\n\t);\n\n\treturn setValue;\n}\n",
      "type": "registry:hook"
    },
    {
      "path": "components/data-table/button.tsx",
      "content": "import { Slot } from \"@radix-ui/react-slot\";\nimport type { VariantProps } from \"class-variance-authority\";\nimport { cva } from \"class-variance-authority\";\nimport { Loader2 } from \"lucide-react\";\nimport type * as React from \"react\";\nimport type { JSX } from \"react\";\nimport { cn } from \"@/lib/data-table/utils\";\n\nconst buttonVariants = cva(\n\t\"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all justify-center disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4  shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault:\n\t\t\t\t\t\"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n\t\t\t\tdestructive:\n\t\t\t\t\t\"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n\t\t\t\toutline:\n\t\t\t\t\t\"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n\t\t\t\tsecondary:\n\t\t\t\t\t\"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n\t\t\t\tghost:\n\t\t\t\t\t\"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n\t\t\t\tlink: \"text-primary underline-offset-4 hover:underline\",\n\t\t\t\tsuccess:\n\t\t\t\t\t\"bg-success text-success-foreground shadow-xs hover:bg-success/90 focus-visible:ring-success/20 dark:focus-visible:ring-success/40 dark:bg-success/60\",\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tdefault: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n\t\t\t\tsm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n\t\t\t\txs: \"h-7 rounded-md gap-1 px-2 has-[>svg]:px-1.5 text-sm\",\n\t\t\t\txs2: \"h-6 rounded-md gap-1 px-2 has-[>svg]:px-1 text-sm\",\n\t\t\t\tlg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n\t\t\t\ticon: \"size-9\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t\tsize: \"default\",\n\t\t},\n\t},\n);\n\nfunction Button({\n\tclassName,\n\tvariant,\n\tsize,\n\tasChild = false,\n\tisLoading = false,\n\tchildren,\n\ticon,\n\n\t...props\n}: React.ComponentProps<\"button\"> &\n\tVariantProps<typeof buttonVariants> & {\n\t\tasChild?: boolean;\n\t\tisLoading?: boolean;\n\t\ticon?: JSX.Element;\n\t}) {\n\tconst Comp = asChild ? Slot : \"button\";\n\n\treturn (\n\t\t<Comp\n\t\t\tdata-slot=\"button\"\n\t\t\tclassName={cn(\n\t\t\t\tbuttonVariants({\n\t\t\t\t\tvariant,\n\t\t\t\t\tsize,\n\t\t\t\t\tclassName,\n\t\t\t\t}),\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{isLoading ? <Loader2 className={cn(\"animate-spin\")} /> : icon}\n\t\t\t{children}\n\t\t</Comp>\n\t);\n}\n\nexport { Button, buttonVariants };\n",
      "type": "registry:component"
    },
    {
      "path": "components/data-table/badge.tsx",
      "content": "import { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\n\nimport { cn } from \"@/lib/data-table/utils\";\n\nconst badgeVariants = cva(\n\t\"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault:\n\t\t\t\t\t\"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n\t\t\t\tsecondary:\n\t\t\t\t\t\"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n\t\t\t\tdestructive:\n\t\t\t\t\t\"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n\t\t\t\toutline:\n\t\t\t\t\t\"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n\t\t\t\tsuccess:\n\t\t\t\t\t\"bg-success text-success-foreground shadow-xs hover:bg-success/90 focus-visible:ring-success/20 dark:focus-visible:ring-success/40 dark:bg-success/60\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t},\n\t},\n);\n\nfunction Badge({\n\tclassName,\n\tvariant,\n\tasChild = false,\n\t...props\n}: React.ComponentProps<\"span\"> &\n\tVariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n\tconst Comp = asChild ? Slot : \"span\";\n\n\treturn (\n\t\t<Comp\n\t\t\tdata-slot=\"badge\"\n\t\t\tclassName={cn(badgeVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Badge, badgeVariants };\n",
      "type": "registry:component"
    }
  ]
}